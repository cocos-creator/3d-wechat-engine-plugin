System.register([],(function(t){"use strict";return{execute:function(){function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}function i(){return(i=t("aZ",Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t})).apply(this,arguments)}function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function m(e,n,i){return(m=s()?t("cf",Reflect.construct):t("cf",(function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&a(r,n.prototype),r}))).apply(null,arguments)}function o(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function u(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t){if(t){if("string"==typeof t)return h(t,void 0);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?h(t,void 0):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=t[Symbol.iterator]()).next.bind(n)}function c(t,e,n,i){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function l(t,e,n,i,r){var a={};return Object.keys(i).forEach((function(t){a[t]=i[t]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(t,e,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(t,e,a),a=null),a}t({$:dr,B:V,E:Ut,F:kn,G:Dn,H:Bn,I:Un,J:Ln,K:Vn,L:Wn,M:Gn,N:Fn,O:Yn,Q:u,S:function(t){"__enums__"in t||rt(t,"__enums__",null,!0)},X:ur,Y:yr,_:r,a:n,a$:ar,a1:Ar,a4:Rr,a7:Pr,a9:qr,aA:function(t){t>0&&(Wr=t)},aB:void 0,aC:void 0,aD:void 0,aE:Ce,aG:bn,aN:On,aR:G,aS:F,aT:void 0,aV:function(t){return function(e){return function(n){!function(t,e,n){var i=Be(t);if(i){var r=Ue(i,"proto");Ue(r,"editor")[e]=n}}(n,t,e)}}},aZ:i,a_:function(){},ab:Dr,ad:function(t,e){return Math.abs(t-e)<=Kn*Math.max(1,Math.abs(t),Math.abs(e))},ae:function(t,e,n){return n=n||Kn,Math.abs(t-e)<=n},af:function(t){return t<0?0:t>1?1:t},ag:function(t,e,n){return t+(e-t)*n},ah:function(t){return t*Xn},ai:$n,ak:ti,al:function(t,e){return Math.floor(ti(t,e))},am:ei,an:ni,ao:function(t,e,n){return Math.floor(ni(t,e,n))},ap:function(t){return--t,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,++t},aq:ii,ar:function(t,e){return t=ii(t,2*e),e-Math.abs(t-e)},as:function(t,e,n){return(n-t)/(e-t)},at:function(t){return Math.abs(t.x)>Math.abs(t.y)?Math.abs(t.x)>Math.abs(t.z)?t.x:t.z:Math.abs(t.y)>Math.abs(t.z)?t.y:t.z},au:function(t,e){return Math.abs(t)>Math.abs(e)?t:e},av:Bt,b:l,b0:ir,b1:function(){},b8:bt,b9:Pt,bF:ln,bG:mn,bK:te,bL:cn,bN:void 0,bO:void 0,bP:fn,bV:xt,bZ:hn,ba:wt,bc:Ve,bf:function(t){return Ve(Ge({formerlySerializedAs:t}))},bj:R,bo:Tt,bp:he,bt:jt,bv:ht,bw:ot,bx:nt,by:ut,c4:X,c5:Q,c6:Rt,c7:$t,c9:ne,ca:ie,cb:re,cc:nr,cf:m,e:c,f:o,g:Zn,k:O,n:W,q:S,t:Xe,u:I,v:C,w:N,x:j,y:k,z:B});const f=t("bb",!1),y=t("bl",!1),p=t("bm",!0),d=t("bk",!1);var v="undefined"==typeof window?global:window,x=t("l",{_global:v});x.internal={},v.CC_BUILD=!0,v.CC_TEST=!1,v.CC_EDITOR=f,v.CC_PREVIEW=!1,v.CC_DEV=!1,v.CC_DEBUG=!1,v.CC_JSB=d,v.CC_BYTEDANCE=!1,v.CC_WECHAT=!0,v.CC_ALIPAY=!1,v.CC_XIAOMI=!1,v.CC_BAIDU=!1,v.CC_COCOSPLAY=!1,v.CC_HUAWEI=!1,v.CC_OPPO=!1,v.CC_VIVO=!1,v.CC_MINIGAME=p,v.CC_RUNTIME_BASED=y,v.CC_SUPPORT_JIT=!1;var b=t("bi","3.0.0");v.CocosEngine=x.ENGINE_VERSION=b,v.cc=x;var g="https://github.com/cocos-creator/engine/blob/3d/EngineErrorMap.md",_=null,w=console.log.bind(console),M=w,z=w,E=function(t,e){if(!t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];console.log("ASSERT: "+A.apply(void 0,[e].concat(i)))}};function A(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return x.js.formatStr.apply(null,[t].concat(n))}function O(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return w.apply(void 0,[t].concat(n))}function N(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return M.apply(void 0,[t].concat(n))}function S(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return z.apply(void 0,[t].concat(n))}function I(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];return E.apply(void 0,[t,e].concat(i))}function R(t){if(w=M=z=E=function(){},t!==U.NONE){if(t>U.ERROR){var e=function(t){if(x.game.canvas){if(!_){var e=document.createElement("Div");e.setAttribute("id","logInfoDiv"),e.setAttribute("width","200"),e.setAttribute("height",x.game.canvas.height);var n=e.style;n.zIndex="99999",n.position="absolute",n.top=n.left="0",(_=document.createElement("textarea")).setAttribute("rows","20"),_.setAttribute("cols","30"),_.setAttribute("disabled","true");var i=_.style;i.backgroundColor="transparent",i.borderBottom="1px solid #cccccc",i.borderTopWidth=i.borderLeftWidth=i.borderRightWidth="0px",i.borderTopStyle=i.borderLeftStyle=i.borderRightStyle="none",i.padding="0px",i.margin="0px",e.appendChild(_),x.game.canvas.parentNode.appendChild(e)}_.value=_.value+t+"\r\n",_.scrollTop=_.scrollHeight}};z=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e("ERROR :  "+A.apply(void 0,[t].concat(i)))},E=function(t,n){if(!t){for(var i=arguments.length,r=new Array(i>2?i-2:0),a=2;a<i;a++)r[a-2]=arguments[a];e("ASSERT: "+A.apply(void 0,[n].concat(r)))}},t!==U.ERROR_FOR_WEB_PAGE&&(M=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e("WARN :  "+A.apply(void 0,[t].concat(i)))}),t===U.INFO_FOR_WEB_PAGE&&(w=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e(A.apply(void 0,[t].concat(i)))})}else console&&console.log.apply&&(console.error||(console.error=console.log),console.warn||(console.warn=console.log),z=console.error.bind?console.error.bind(console):function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return console.error.apply(console,[t].concat(n))},E=function(t,e){if(!t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];var a=A.apply(void 0,[e].concat(i));throw new Error(a)}});t!==U.ERROR&&(M=console.warn.bind?console.warn.bind(console):function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return console.warn.apply(console,[t].concat(n))}),t===U.INFO&&(w=console.log.bind?console.log.bind(console):function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return console.log.apply(console,[t].concat(n))})}}function C(t){S(t.stack||t)}function T(t){return function(e){for(var n=t+" "+e+", please go to "+g+"#"+e+" to see details.",i=arguments.length,r=new Array(i>1?i-1:0),a=1;a<i;a++)r[a-1]=arguments[a];return 0===r.length?n:n+" Arguments: "+r.join(", ")}}var P=T("Log");function j(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];O(P.apply(void 0,[t].concat(n)))}var q=T("Warning");function k(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];N(q.apply(void 0,[t].concat(n)))}var D=T("Error");function B(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];S(D.apply(void 0,[t].concat(n)))}var U,L=T("Assert");function V(t,e){if(!t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];I(!1,L.apply(void 0,[e].concat(i)))}}function W(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return D.apply(void 0,[t].concat(n))}function G(){return!!x.profiler&&x.profiler.isShowingStats()}function F(t){x.profiler&&(t?x.profiler.showStats():x.profiler.hideStats(),x.game.config.showFPS=!!t)}!function(t){t[t.NONE=0]="NONE",t[t.INFO=1]="INFO",t[t.WARN=2]="WARN",t[t.ERROR=3]="ERROR",t[t.INFO_FOR_WEB_PAGE=4]="INFO_FOR_WEB_PAGE",t[t.WARN_FOR_WEB_PAGE=5]="WARN_FOR_WEB_PAGE",t[t.ERROR_FOR_WEB_PAGE=6]="ERROR_FOR_WEB_PAGE"}(U||(U=t("aT",{}))),t("D",Object.freeze({__proto__:null,log:O,warn:N,error:S,assert:I,_resetDebugSetting:R,_throw:C,logID:j,warnID:k,errorID:B,assertID:V,get DebugMode(){return U},getError:W,isDisplayStats:G,setDisplayStats:F}));var Y=t("bD",function(){function t(t){this.i=0,this.array=t}var e=t.prototype;return e.remove=function(t){var e=this.array.indexOf(t);e>=0&&this.removeAt(e)},e.removeAt=function(t){this.array.splice(t,1),t<=this.i&&--this.i},e.fastRemove=function(t){var e=this.array.indexOf(t);e>=0&&this.fastRemoveAt(e)},e.fastRemoveAt=function(t){var e=this.array;e[t]=e[e.length-1],--e.length,t<=this.i&&--this.i},e.push=function(t){this.array.push(t)},n(t,[{key:"length",get:function(){return this.array.length},set:function(t){this.array.length=t,this.i>=t&&(this.i=t-1)}}]),t}());function H(t,e){t.splice(e,1)}function X(t,e){var n=t.indexOf(e);return n>=0&&(H(t,n),!0)}function Q(t,e){return t.indexOf(e)>=0}var K=Object.freeze({__proto__:null,removeAt:H,fastRemoveAt:function(t,e){var n=t.length;e<0||e>=n||(t[e]=t[n-1],t.length=n-1)},remove:X,fastRemove:function(t,e){var n=t.indexOf(e);n>=0&&(t[n]=t[t.length-1],--t.length)},removeIf:function(t,e){var n=t.findIndex(e);if(n>=0){var i=t[n];return H(t,n),i}},verifyType:function(t,e){if(t&&t.length>0)for(var n,i=u(t);!(n=i()).done;)if(!(n.value instanceof e))return j(1300),!1;return!0},removeArray:function(t,e){for(var n=0,i=e.length;n<i;n++)X(t,e[n])},appendObjectsAt:function(t,e,n){return t.splice.apply(t,[n,0].concat(e)),t},contains:Q,copy:function(t){for(var e=t.length,n=new Array(e),i=0;i<e;i+=1)n[i]=t[i];return n},MutableForwardIterator:Y}),Z=t("aY",function(){function t(t){this.id=void 0,this.prefix=void 0,this.id=0|998*Math.random(),this.prefix=t?t+".":""}return t.prototype.getNewId=function(){return this.prefix+ ++this.id},t}());Z.global=new Z("global");var $=new Z("TmpCId."),J="undefined"==typeof Symbol?"__aliases__":Symbol("[[Aliases]]");function tt(t){return"number"==typeof t||t instanceof Number}function et(t){return"string"==typeof t||t instanceof String}function nt(t){for(var e in t)return!1;return!0}var it,rt=t("br",(it={value:void 0,enumerable:!1,writable:!1,configurable:!0},function(t,e,n,i,r){it.value=n,it.writable=i,it.enumerable=r,Object.defineProperty(t,e,it),it.value=void 0})),at=function(){var t={get:void 0,set:void 0,enumerable:!1};return function(e,n,i,r,a,s){void 0===a&&(a=!1),void 0===s&&(s=!1),"boolean"==typeof r&&(a=r,r=void 0),t.get=i,t.set=r,t.enumerable=a,t.configurable=s,Object.defineProperty(e,n,t),t.get=void 0,t.set=void 0}}(),st=function(){var t={get:void 0,enumerable:!1,configurable:!1};return function(e,n,i,r,a){t.get=i,t.enumerable=r,t.configurable=a,Object.defineProperty(e,n,t),t.get=void 0}}(),mt=function(){var t={set:void 0,enumerable:!1,configurable:!1};return function(e,n,i,r,a){t.set=i,t.enumerable=r,t.configurable=a,Object.defineProperty(e,n,t),t.set=void 0}}();function ot(t){var e=Object.create(null);return t&&(e["."]=1,e["/"]=1,delete e["."],delete e["/"]),e}function ht(t){if("function"==typeof t){var e=t.prototype;if(e&&e.hasOwnProperty("__classname__")&&e.__classname__)return e.__classname__;var n="";if(t.name&&(n=t.name),t.toString){var i,r=t.toString();(i="["===r.charAt(0)?r.match(/\[\w+\s*(\w+)\]/):r.match(/function\s*(\w+)/))&&2===i.length&&(n=i[1])}return"Object"!==n?n:""}return t&&t.constructor?ht(t.constructor):""}function ut(t,e,n,i){var r=/([^.]+)$/,a=r.exec(e)[0],s=r.exec(n)[0];function m(){return this[s]}i?at(t,a,m,(function(t){this[s]=t})):st(t,a,m)}function ct(t,e,n,i){for(var r in n)ut(t,e+"."+r,n[r],i)}var lt=/(%d)|(%s)/,ft=/%s/;function yt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if(0===arguments.length)return"";if(0===n.length)return""+t;var r="string"==typeof t&&lt.test(t);if(r)for(var a,s=u(n);!(a=s()).done;){var m=a.value,o="number"==typeof m?lt:ft;if(o.test(t)){var h=""+m;t=t.replace(o,h)}else t+=" "+m}else for(var c,l=u(n);!(c=l()).done;){var f=c.value;t+=" "+f}return t}function pt(){for(var t=arguments.length-1,e=new Array(t),n=0;n<t;++n)e[n]=arguments[n+1];return e}function dt(t,e){for(;t;){var n=Object.getOwnPropertyDescriptor(t,e);if(n)return n;t=Object.getPrototypeOf(t)}return null}function vt(t,e,n){var i=dt(e,t);i&&Object.defineProperty(n,t,i)}function xt(t){t=t||{};for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(var r=0,a=n;r<a.length;r++){var s=a[r];if(s){if("object"!=typeof s){B(5402,s);continue}for(var m in s)m in t||vt(m,s,t)}}return t}function bt(t){t=t||{};for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(var r=0,a=n;r<a.length;r++){var s=a[r];if(s){if("object"!=typeof s){B(5403,s);continue}for(var m in s)vt(m,s,t)}}return t}function gt(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t.prototype=Object.create(e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),t}function _t(t){var e=t.prototype,n=e&&Object.getPrototypeOf(e);return n&&n.constructor}function wt(t,e){if(t&&e){if("function"!=typeof t)return!1;if("function"!=typeof e)return!1;if(t===e)return!0;for(;;){if(!(t=_t(t)))return!1;if(t===e)return!0}}return!1}function Mt(t){for(var e=0,n=Object.keys(t);e<n.length;e++)delete t[n[e]]}function zt(t){return"string"!=typeof t||t.startsWith($.prefix)}var Et=ot(!0),At=ot(!0);function Ot(t,e){return function(n,i){if(i.prototype.hasOwnProperty(t)&&delete e[i.prototype[t]],rt(i.prototype,t,n),n){var r=e[n];r&&r!==i?S("A Class already exists with the same "+t+' : "'+n+'".'):e[n]=i}}}var Nt=Ot("__cid__",Et),St=Ot("__classname__",At);function It(t,e){if(St(t,e),!e.prototype.hasOwnProperty("__cid__")){var n=t||$.getNewId();n&&Nt(n,e)}}function Rt(t,e){var n=At[e],i=Et[e],r=!0;if(n&&n!==t&&(S('"'+e+'" has already been set as name or alias of another class.'),r=!1),i&&i!==t&&(S('"'+e+'" has already been set as id or alias of another class.'),r=!1),r){var a=t[J];a||(a=[],t[J]=a),a.push(e),At[e]=t,Et[e]=t}}function Ct(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var i=0,r=e;i<r.length;i++){var a=r[i],s=a.prototype,m=s.__cid__;m&&delete Et[m];var o=s.__classname__;o&&delete At[o];var h=s[J];if(h)for(var u=0;u<h.length;++u){var c=h[u];delete At[c],delete Et[c]}}}function Tt(t){return Et[t]}function Pt(t){return At[t]}function jt(t,e){var n;if(e=void 0===e||e,"function"==typeof t&&t.prototype.hasOwnProperty("__cid__"))return n=t.prototype.__cid__,!e&&f&&zt(n)?"":n;if(t&&t.constructor){var i=t.constructor.prototype;if(i&&i.hasOwnProperty("__cid__"))return n=t.__cid__,!e&&f&&zt(n)?"":n}return""}var qt=t("aX",function(){var t=e.prototype;function e(t,e){this.count=void 0,this._pool=void 0,this._cleanup=void 0;var n=void 0===e?t:e,i=void 0===e?null:t;this.count=0,this._pool=new Array(n),this._cleanup=i}return t.get=function(){return this._get()},t._get=function(){if(this.count>0){--this.count;var t=this._pool[this.count];return this._pool[this.count]=null,t}return null},t.put=function(t){var e=this._pool;if(this.count<e.length){if(this._cleanup&&!1===this._cleanup(t))return;e[this.count]=t,++this.count}},t.resize=function(t){t>=0&&(this._pool.length=t,this.count>t&&(this.count=t))},e}()),kt=t("bC",K),Dt=t("j",{IDGenerator:Z,Pool:qt,array:K,isNumber:tt,isString:et,isEmptyObject:nt,getPropertyDescriptor:dt,addon:xt,mixin:bt,extend:gt,getSuper:_t,isChildClassOf:wt,clear:Mt,value:rt,getset:at,get:st,set:mt,unregisterClass:Ct,getClassName:ht,setClassName:It,setClassAlias:Rt,getClassByName:Pt,get _registeredClassNames(){return Object.assign({},At)},set _registeredClassNames(t){Mt(At),Object.assign(At,t)},get _registeredClassIds(){return Object.assign({},Et)},set _registeredClassIds(t){Mt(Et),Object.assign(Et,t)},_getClassId:jt,_setClassId:Nt,_getClassById:Tt,obsolete:ut,obsoletes:ct,formatStr:yt,shiftArguments:pt,createMap:ot});function Bt(t){if("__bitmask__"in t)return t;rt(t,"__bitmask__",null,!0);for(var e=-1,n=Object.keys(t),i=0;i<n.length;i++){var r=n[i],a=t[r];if(-1===a)a=++e,t[r]=a;else if("number"==typeof a)e=a;else if("string"==typeof a&&Number.isInteger(parseFloat(r)))continue;var s=""+a;r!==s&&rt(t,s,r)}return t}function Ut(t){return"__enums__"in t?t:(rt(t,"__enums__",null,!0),Ut.update(t))}function Lt(t){t.hasOwnProperty("__enums__")}function Vt(t){Lt(t);var e=t.__enums__||[];for(var n in e.length=0,t){var i=t[n];Number.isInteger(i)&&e.push({name:n,value:i})}return e.sort((function(t,e){return t.value-e.value})),t.__enums__=e,e}x.js=Dt,t("ax",Object.freeze({__proto__:null,array:kt,js:Dt,IDGenerator:Z,Pool:qt,isNumber:tt,isString:et,isEmptyObject:nt,value:rt,getset:at,get:st,set:mt,createMap:ot,getClassName:ht,obsolete:ut,obsoletes:ct,formatStr:yt,shiftArguments:pt,getPropertyDescriptor:dt,addon:xt,mixin:bt,extend:gt,getSuper:_t,isChildClassOf:wt,clear:Mt,_idToClass:Et,_nameToClass:At,_setClassId:Nt,setClassName:It,setClassAlias:Rt,unregisterClass:Ct,_getClassById:Tt,getClassByName:Pt,_getClassId:jt})),Bt.isBitMask=function(t){return t&&t.hasOwnProperty("__bitmask__")},Bt.getList=function(t){if(t.__bitmask__)return t.__bitmask__;var e=t.__bitmask__=[];for(var n in t){var i=t[n];Number.isInteger(i)&&e.push({name:n,value:i})}return e.sort((function(t,e){return t.value-e.value})),e},x.BitMask=Bt,Ut.update=function(t){for(var e=-1,n=Object.keys(t),i=0;i<n.length;i++){var r=n[i],a=t[r];if(-1===a)a=++e,t[r]=a;else if("number"==typeof a)e=a;else if("string"==typeof a&&Number.isInteger(parseFloat(r)))continue;var s=""+a;r!==s&&rt(t,s,r)}return Array.isArray(t.__enums__)&&Vt(t),t},Ut||(Ut=t("E",{})),Ut.isEnum=function(t){return t&&t.hasOwnProperty("__enums__")},Ut.getList=function(t){return Lt(t),t.__enums__?t.__enums__:Vt(t)},x.Enum=Ut;var Wt=t("aw",function(){function t(){}var e=t.prototype;return e.clone=function(){return B(100,ht(this)+".clone"),this},e.equals=function(){return!1},e.set=function(){B(100,ht(this)+".set")},e.toString=function(){return""+{}},t}());It("cc.ValueType",Wt),x.ValueType=Wt;var Gt=t("aU",{SUPPORT_TEXTURE_FORMATS:[".astc",".pkm",".pvr",".webp",".jpg",".jpeg",".bmp",".png"],KEY:{none:0,back:6,menu:18,backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,pause:19,capslock:20,escape:27,space:32,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40,select:41,insert:45,Delete:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,num0:96,num1:97,num2:98,num3:99,num4:100,num5:101,num6:102,num7:103,num8:104,num9:105,"*":106,"+":107,"-":109,numdel:110,"/":111,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,numlock:144,scrolllock:145,";":186,semicolon:186,equal:187,"=":187,",":188,comma:188,dash:189,".":190,period:190,forwardslash:191,grave:192,"[":219,openbracket:219,backslash:220,"]":221,closebracket:221,quote:222,dpadLeft:1e3,dpadRight:1001,dpadUp:1003,dpadDown:1004,dpadCenter:1005},RAD:Math.PI/180,DEG:180/Math.PI,REPEAT_FOREVER:Number.MAX_VALUE-1,FLT_EPSILON:1.192092896e-7,ORIENTATION_PORTRAIT:1,ORIENTATION_LANDSCAPE:2,ORIENTATION_AUTO:3,ENABLE_TILEDMAP_CULLING:!0,TOUCH_TIMEOUT:5e3,ENABLE_TRANSPARENT_CANVAS:!1,ENABLE_WEBGL_ANTIALIAS:!0,CLEANUP_IMAGE_CACHE:!1,ENABLE_MULTI_TOUCH:!0});x.macro=Gt;for(var Ft=t("bs",/^(?:cc|dragonBones|sp|ccsg)\..+/),Yt=new Array(123),Ht=0;Ht<123;++Ht)Yt[Ht]=64;for(var Xt=0;Xt<64;++Xt)Yt["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charCodeAt(Xt)]=Xt;var Qt=Yt;function Kt(t,e,n){function i(t,e,n,i){var r=Object.getOwnPropertyDescriptor(t,e);if(r)r.get&&(t[n]=r.get),r.set&&i&&(t[i]=r.set);else{var a=t[n];at(t,e,a,t[i])}}for(var r,a=t.prototype,s=0;s<e.length;s++){var m=(r=e[s])[0].toUpperCase()+r.slice(1);i(a,r,"get"+m,"set"+m)}for(r in n){var o=n[r];i(a,r,o[0],o[1])}}function Zt(t,e,n,i){var r=t[e];r?Array.isArray(r)?i?(r.push(r[0]),r[0]=n):r.push(n):t[e]=i?[n,r]:[r,n]:t[e]=n}function $t(t,e){if("function"==typeof t.contains)return t.contains(e);if("function"==typeof t.compareDocumentPosition)return!!(16&t.compareDocumentPosition(e));var n=e.parentNode;if(n)do{if(n===t)return!0;n=n.parentNode}while(null!==n);return!1}function Jt(t){return"object"==typeof window&&"function"==typeof Node?t instanceof Node:t&&"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName}function te(t,e,n){t&&setTimeout((function(){t(e,n)}),0)}function ee(t){return!(!t||t.constructor!==Object)&&nt(t)}function ne(t,e,n){if(e>n){var i=e;e=n,n=i}return t<e?e:t<n?t:n}function ie(t){return t*Gt.RAD}function re(t){return t*Gt.DEG}x.misc={BUILTIN_CLASSID_RE:Ft,BASE64_VALUES:Qt,propertyDefine:Kt,pushToMap:Zt,contains:$t,isDomNode:Jt,callInNextTick:te,isPlainEmptyObj_DEV:ee,clampf:ne,degreesToRadians:ie,radiansToDegrees:re},t("ay",Object.freeze({__proto__:null,BUILTIN_CLASSID_RE:Ft,BASE64_VALUES:Qt,propertyDefine:Kt,pushToMap:Zt,contains:$t,isDomNode:Jt,callInNextTick:te,tryCatchFunctor_EDITOR:function(t){return Function("target","try {\n  target."+t+"();\n}\ncatch (e) {\n  cc._throw(e);\n}")},isPlainEmptyObj_DEV:ee,clampf:ne,degreesToRadians:ie,radiansToDegrees:re}));var ae=t("bq","$_$");function se(t,e){var n=e?Object.create(e):{};return rt(t,"__attrs__",n),n}function me(t){if("function"!=typeof t)return se(t,he(t.constructor));for(var e,n=x.Class.getInheritanceChain(t),i=n.length-1;i>=0;i--){var r=n[i];r.hasOwnProperty("__attrs__")&&r.__attrs__||se(r,(e=n[i+1])&&e.__attrs__)}return se(t,(e=n[0])&&e.__attrs__),t.__attrs__}function oe(t,e){var n=he(t),i=e+ae,r={};for(var a in n)a.startsWith(i)&&(r[a.slice(i.length)]=n[a]);return r}function he(t){return t.hasOwnProperty("__attrs__")&&t.__attrs__||me(t)}function ue(t,e,n,i){he(t)[e+ae+n]=i}var ce=t("bu",function(){function t(t,e){this.name=void 0,this.default=void 0,this.name=t,this.default=e}return t.prototype.toString=function(){return this.name},t}()),le=t("aH",new ce("Integer",0));x.Integer=le,x.CCInteger=le;var fe=t("aI",new ce("Float",0));x.Float=fe,x.CCFloat=fe;var ye=t("aJ",new ce("Boolean",!1));x.Boolean=ye,x.CCBoolean=ye;var pe=t("aK",new ce("String",""));function de(t,e){return function(n,i){var r='"'+ht(n)+"."+i+'"',a=oe(n,i),s=a.type;if(s===le||s===fe?s="Number":s!==pe&&s!==ye||(s=""+s),s===t){if(a.hasOwnProperty("default")){var m=a.default;if(void 0!==m&&!Array.isArray(m)&&!ee(m)){var o=typeof m,h=t.toLowerCase();if(o===h)if("object"===h){if(!m||m instanceof a.ctor)return;k(3605,r,ht(a.ctor))}else"Number"!==t&&k(3606,e,r,t);else{if("function"===o)return;t===pe.default&&null==m?k(3607,r):k(3611,e,r,o)}delete a.type}}}else k(3604,r)}}x.String=pe,x.CCString=pe;var ve=Object.freeze({__proto__:null,DELIMETER:ae,createAttrsSingle:se,createAttrs:me,attr:oe,getClassAttrs:he,setClassAttr:ue,PrimitiveType:ce,CCInteger:le,CCFloat:fe,CCBoolean:ye,CCString:pe,getTypeChecker_ET:de,getObjTypeChecker_ET:function(t){return function(e,n){de("Object","type")(e,n);var i=he(e)[n+ae+"default"],r=x.Class.getDefault(i);if(!Array.isArray(r)&&wt(t,x.ValueType)){var a=ht(t),s=yt('No need to specify the "type" of "%s.%s" because %s is a child class of ValueType.',ht(e),n,a);i?O(s):k(3612,s,a,ht(e),n,a)}}}}),xe={default:{},serializable:{},editorOnly:{},formerlySerializedAs:{}};function be(t,e,n,i){if(!t.get&&!t.set&&t.hasOwnProperty("default")){var r="_N$"+e;t.get=function(){return this[r]},t.set=function(t){var e=this[r];this[r]=t,n.call(this,e)};var a={};for(var s in i[r]=a,xe){var m=xe[s];t.hasOwnProperty(s)&&(a[s]=t[s],m.canUsedInGet||delete t[s])}}}function ge(t,e,n,i){if(Array.isArray(e)){if(!(e.length>0))return B(5508,n,i);t.type=e=e[0]}"function"==typeof e&&(e===String?t.type=x.String:e===Boolean?t.type=x.Boolean:e===Number&&(t.type=x.Float))}function _e(t,e,n){var i=t?{_short:!0}:{_short:!0,default:e};return n&&(i.type=n),i}function we(t,e){if(!t||t.constructor!==Object){if(Array.isArray(t)&&t.length>0)return _e(e,[],t);if("function"==typeof t){var n=t;return _e(e,wt(n,x.ValueType)?new n:null,n)}return _e(e,t instanceof ce?t.default:t)}return null}var Me=[];function ze(){return Me[Me.length-1]}x._RF={push:function(t,e,n,i){void 0===n&&(n=e,e=""),Me.push({uuid:e,script:n,module:t,exports:t.exports,beh:null,importMeta:i})},pop:function(){var t=Me.pop(),e=t.module,n=e.exports;if(n===t.exports){for(var i in n)return;e.exports=n=t.cls}},peek:ze};var Ee=ae,Ae={datas:null,push:function(t){if(this.datas)this.datas.push(t);else{this.datas=[t];var e=this;setTimeout((function(){e.init()}),0)}},init:function(){var t=this.datas;if(t){for(var e=0;e<t.length;++e){var n=t[e],i=n.cls,r=n.props;"function"==typeof r&&(r=r());var a=ht(i);r?Re(i,a,r,i.$super,n.mixins):B(3633,a)}this.datas=null}}};function Oe(t,e,n,i){ue(t,n,"default",i.default),function(t,e){!function(t,e){t.indexOf(e)<0&&t.push(e)}(t.__props__,e)}(t,n),Pe(t,i,e,n)}function Ne(t,e,n,i){var r=i.get;i.set,r&&(Pe(t,i,e,n),ue(t,n,"serializable",!1))}function Se(t){return"function"==typeof t?t():t}function Ie(t,e,n){for(var i in e)t.hasOwnProperty(i)||n&&!n(i)||Object.defineProperty(t,i,dt(e,i))}function Re(t,e,n,i,r){if(t.__props__=[],i&&i.__props__&&(t.__props__=i.__props__.slice()),r)for(var a=0;a<r.length;++a){var s=r[a];s.__props__&&(t.__props__=t.__props__.concat(s.__props__.filter((function(e){return t.__props__.indexOf(e)<0}))))}if(n)for(var m in function(t,e){for(var n in t){var i=t[n],r=we(i,!1);if(r&&(i=t[n]=r),i){var a=i.notify;a&&be(i,n,a,t),"type"in i&&ge(i,i.type,e,n)}}}(n,e),n){var o=n[m];"default"in o?Oe(t,e,m,o):Ne(t,e,m,o)}var h=he(t);t.__values__=t.__props__.filter((function(t){return!1!==h[t+Ee+"serializable"]}))}function Ce(t){var e=t.name,n=t.extends,i=t.mixins,r=function(t,e,n,i){var r=x.Component,a=ze();if(a&&wt(e,r)){if(wt(a.cls,r))return B(3615),null;t=t||a.script}var s=function(t,e,n,i){var r=i.ctor,a=[r],s=r;rt(s,"__ctors__",a.length>0?a:null,!0);var m=s.prototype;if(e&&(s.$super=e),n){for(var o=n.length-1;o>=0;o--){var h=n[o];Ie(m,h.prototype),Ce._isCCClass(h)&&Ie(he(s),he(h))}m.constructor=s}return It(t,s),s}(t,e,n,i);if(a)if(wt(e,r)){var m=a.uuid;m&&Nt(m,s),a.cls=s}else wt(a.cls,r)||(a.cls=s);return s}(e,n,i,t);e||(e=x.js.getClassName(r)),r._sealed=!0,n&&(n._sealed=!1);var a=t.properties;"function"==typeof a||n&&null===n.__props__||i&&i.some((function(t){return null===t.__props__}))?(Ae.push({cls:r,props:a,mixins:i}),r.__props__=r.__values__=null):Re(r,e,a,n,t.mixins);var s=t.editor;return s&&wt(n,x.Component)&&x.Component._registerEditorProps(r,s),r}Ce._isCCClass=function(t){var e;return null==t||null===(e=t.hasOwnProperty)||void 0===e?void 0:e.call(t,"__ctors__")},Ce.fastDefine=function(t,e,n){It(t,e);for(var i=e.__props__=e.__values__=Object.keys(n),r=he(e),a=0;a<i.length;a++){var s=i[a];r[s+Ee+"visible"]=!1,r[s+Ee+"default"]=n[s]}},Ce.Attr=ve,Ce.attr=oe,Ce.getInheritanceChain=function(t){for(var e=[];t=_t(t);)t!==Object&&e.push(t);return e};var Te={Integer:"Number",Float:"Number",Boolean:"Boolean",String:"String"};function Pe(t,e,n,i){var r=null,a="";function s(){return a=i+Ee,r=he(t)}"type"in e&&void 0===e.type&&k(3660,i,n);var m=e.type;m&&(Te[m]?(r||s())[a+"type"]=m:"Object"===m||("object"==typeof m?Ut.isEnum(m)?((r||s())[a+"type"]="Enum",r[a+"enumList"]=Ut.getList(m)):Bt.isBitMask(m)&&((r||s())[a+"type"]="BitMask",r[a+"bitmaskList"]=Bt.getList(m)):"function"==typeof m&&((r||s())[a+"type"]="Object",r[a+"ctor"]=m)));var o,h=function(t,n){if(t in e){var i=e[t];typeof i===n&&((r||s())[a+t]=i)}};e.editorOnly&&((r||s())[a+"editorOnly"]=!0),e.__noImplicit?(r||s())[a+"serializable"]=null!==(o=e.serializable)&&void 0!==o&&o:!1===e.serializable&&((r||s())[a+"serializable"]=!1),h("formerlySerializedAs","string");var u=e.range;u&&Array.isArray(u)&&u.length>=2&&((r||s())[a+"min"]=u[0],r[a+"max"]=u[1],u.length>2&&(r[a+"step"]=u[2])),h("min","number"),h("max","number"),h("step","number")}Ce.isArray=function(t){return t=Se(t),Array.isArray(t)},Ce.getDefault=Se,Ce.escapeForJS=function(t){return JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},Ce.IDENTIFIER_RE=/^[A-Za-z_$][0-9A-Za-z_$]*$/,Ce.getNewValueTypeCode=!1,x.Class=Ce;var je=function(){},qe=function(){return je},ke=t("aW",De((function(){})));function De(t){return function(e){return"function"==typeof e?t(e):function(n){return t(n,e)}}}function Be(t){return Ue(t,"__ccclassCache__")}function Ue(t,e){return t[e]||(t[e]={})}var Le=t("c",De((function(t,e){var n=Dt.getSuper(t);n===Object&&(n=null);var i={name:e,extends:n,ctor:t},r=t.__ccclassCache__;if(r){var a=r.proto;a&&Dt.mixin(i,a),t.__ccclassCache__=void 0}return Ce(i)})));function Ve(t,e,n){var i=null;function r(t,e,n){var r=Be(t.constructor);if(r){var a=Ue(r,"proto"),s=Ue(a,"properties");!function(t,e,n,i,r,a){var s,m=r&&(r.get||r.set);i&&(s=we(i,m));var o=e[n],h=Dt.mixin(o||{},s||i||{});if(m)r.get&&(h.get=r.get),r.set&&(h.set=r.set);else{var u;if(r)r.initializer&&(u=function(t){var e;try{e=t()}catch(e){return t}return"object"!=typeof e||null===e?e:t}(r.initializer));else{var c=a.default||(a.default=function(t){var e;try{e=new t}catch(t){return{}}return e}(t));c.hasOwnProperty(n)&&(u=c[n])}h.default=u}e[n]=h}(t.constructor,s,e,i,n,r)}}return void 0===t?Ve({type:void 0}):void 0===e?(i=t,r):void r(t,e,n)}var We=t("s",(function(t,e,n){return Ve(Ge({}))(t,e,n)}));function Ge(t){return t.__noImplicit=!0,"serializable"in t||(t.serializable=!0),t}t("b2",(function(t,e,n){return Ve({editorOnly:!0})(t,e,n)})),t("b5",ke),t("m",qe),t("b_",ke),t("bn",qe),t("b$",qe),t("h",qe),t("T",je),t("bh",qe),t("cg",je);var Fe=t("be",qe),Ye=t("d",qe),He=(t("r",qe),t("b3",qe),t("b4",qe),t("bB",qe),t("bA",je),t("b6",qe),t("c3",qe),t("cd",je),t("c8",je),t("bg",je));function Xe(t){return Ve({type:t})}t("c0",Xe(le)),t("c1",Xe(fe)),t("c2",Xe(ye)),t("bz",Xe(pe)),t("o",(function(t,e,n){return Ve({__noImplicit:!0,override:!0})(t,e,n)}));var Qe=t("bE",function(){function t(t){this._map=null,this._count=0,t?(this._map=t,this._count=Object.keys(t).length):(this._map=Dt.createMap(!0),this._count=0)}var e=t.prototype;return e.add=function(t,e){return t in this._map||this._count++,this._map[t]=e},e.get=function(t){return this._map[t]},e.has=function(t){return t in this._map},e.remove=function(t){var e=this._map[t];return t in this._map&&(delete this._map[t],this._count--),e},e.clear=function(){0!==this._count&&(this._map=Dt.createMap(!0),this._count=0)},e.forEach=function(t){for(var e in this._map)t(this._map[e],e)},e.find=function(t){for(var e in this._map)if(t(this._map[e],e))return this._map[e];return null},e.destroy=function(){this._map=null},n(t,[{key:"count",get:function(){return this._count}}]),t}()),Ke=t("bS",function(){function t(e,n){this.id=t._pipelineId++,this.name="",this.pipes=[],this.name=e;for(var i=0,r=n.length;i<r;i++)this.pipes.push(n[i])}var e=t.prototype;return e.insert=function(t,e){if(!(e>this.pipes.length))return this.pipes.splice(e,0,t),this;k(4921)},e.append=function(t){return this.pipes.push(t),this},e.remove=function(t){return this.pipes.splice(t,1),this},e.sync=function(t){var e=this.pipes;if(0!==e.length){t.isFinish=!1;for(var n=0,i=e.length;n<i;){var r=(0,e[n])(t);if(r)return t.isFinish=!0,r;++n!==i&&(t.input=t.output,t.output=null)}return t.isFinish=!0,t.output}},e.async=function(t){0!==this.pipes.length&&(t.isFinish=!1,this._flow(0,t))},e._flow=function(t,e){var n=this;(0,this.pipes[t])(e,(function(i){i?(e.isFinish=!0,e.dispatch("complete",i)):++t<n.pipes.length?(e.input=e.output,e.output=null,n._flow(t,e)):(e.isFinish=!0,e.dispatch("complete",i,e.output))}))},t}());Ke._pipelineId=0,t("bJ",new Qe),t("bI",new Qe),t("bH",new Qe);var Ze,$e,Je=t("bM",new Qe),tn=(t("bT",new Ke("normal load",[])),t("bR",new Ke("fetch",[])),t("bU",new Ke("transform url",[])));t("bY",null),function(t){t.UUID="uuid",t.PATH="path",t.DIR="dir",t.URL="url",t.SCENE="scene"}(Ze||(Ze=t("bN",{}))),t("bW",{default:{priority:0},preload:{maxConcurrency:6,maxRequestsPerFrame:2,priority:-1},scene:{maxConcurrency:20,maxRequestsPerFrame:20,priority:1},bundle:{maxConcurrency:20,maxRequestsPerFrame:20,priority:2},remote:{maxRetryCount:4}}),function(t){t.RESOURCES="resources",t.MAIN="main",t.START_SCENE="start-scene"}($e||($e=t("bO",{})));var en=t("bQ",function(){function t(e){this.id=t._taskId++,this.onComplete=null,this.onProgress=null,this.onError=null,this.source=null,this.output=null,this.input=null,this.progress=null,this.options=null,this.isFinish=!0,this.set(e)}t.create=function(e){var n;return 0!==t._deadPool.length?(n=t._deadPool.pop()).set(e):n=new t(e),n};var e=t.prototype;return e.set=function(t){void 0===t&&(t=Object.create(null)),this.onComplete=t.onComplete||null,this.onProgress=t.onProgress||null,this.onError=t.onError||null,this.source=this.input=t.input,this.output=null,this.progress=t.progress,this.options=t.options||Object.create(null)},e.dispatch=function(t,e,n,i,r){switch(t){case"complete":this.onComplete&&this.onComplete(e,n);break;case"progress":this.onProgress&&this.onProgress(e,n,i,r);break;case"error":this.onError&&this.onError(e,n,i,r);break;default:var a="on"+t[0].toUpperCase()+t.substr(1);"function"==typeof this[a]&&this[a](e,n,i,r)}},e.recycle=function(){t._deadPool.length!==t.MAX_DEAD_NUM&&(this.onComplete=null,this.onProgress=null,this.onError=null,this.source=this.output=this.input=null,this.progress=null,this.options=null,t._deadPool.push(this))},t}());en.MAX_DEAD_NUM=500,en._taskId=0,en._deadPool=[];var nn="0123456789abcdef".split(""),rn=["","","",""],an=rn.concat(rn,"-",rn,"-",rn,"-",rn,"-",rn,rn,rn),sn=an.map((function(t,e){return"-"===t?NaN:e})).filter(isFinite);function mn(t){var e=t.split("@")[0];if(22!==e.length)return t;an[0]=t[0],an[1]=t[1];for(var n=2,i=2;n<22;n+=2){var r=Qt[t.charCodeAt(n)],a=Qt[t.charCodeAt(n+1)];an[sn[i++]]=nn[r>>2],an[sn[i++]]=nn[(3&r)<<2|a>>4],an[sn[i++]]=nn[15&a]}return t.replace(e,an.join(""))}var on=/.*[/\\][0-9a-fA-F]{2}[/\\]([0-9a-fA-F-@]{8,}).*/;function hn(t){var e=t.match(on);return e?e[1]:""}function un(t,e){(e=e||Object.create(null)).__isNative__=e.isNative,e.ext=e.nativeExt;var n=Je.find((function(e){return!!e.getAssetInfo(t)}));return n&&(e.bundle=n.name),fn(t,e)}function cn(t){return t&&(t instanceof x.SceneAsset||t instanceof x.Scene)}function ln(t){return t&&(46===t.charCodeAt(0)&&47===t.charCodeAt(1)?t=t.slice(2):47===t.charCodeAt(0)&&(t=t.slice(1))),t}function fn(t,e){var n=en.create({input:t,options:e}),i=[];try{for(var r,a=u(tn.sync(n));!(r=a()).done;){var s=r.value,m=s.url;s.recycle(),i.push(m)}}catch(t){for(var o,h=u(n.output);!(o=h()).done;)o.value.recycle();S(t.message,t.stack)}return n.recycle(),i.length>1?i:i[0]}t("bX",Object.freeze({__proto__:null,getUuidFromURL:hn,getUrlWithUuid:un,isScene:cn,normalize:ln,transform:fn,decodeUuid:mn}));var yn=t("aL",function(){function t(t,e){this.type=void 0,this.bubbles=void 0,this.target=null,this.currentTarget=null,this.eventPhase=0,this.propagationStopped=!1,this.propagationImmediateStopped=!1,this.type=t,this.bubbles=!!e}var e=t.prototype;return e.unuse=function(){this.type=t.NO_TYPE,this.target=null,this.currentTarget=null,this.eventPhase=t.NONE,this.propagationStopped=!1,this.propagationImmediateStopped=!1},e.reuse=function(t,e){this.type=t,this.bubbles=e||!1},e.isStopped=function(){return this.propagationStopped||this.propagationImmediateStopped},e.getCurrentTarget=function(){return this.currentTarget},e.getType=function(){return this.type},t}());yn.NO_TYPE="no_type",yn.TOUCH="touch",yn.MOUSE="mouse",yn.KEYBOARD="keyboard",yn.ACCELERATION="acceleration",yn.NONE=0,yn.CAPTURING_PHASE=1,yn.AT_TARGET=2,yn.BUBBLING_PHASE=3,x.Event=yn;var pn=t("P",function(){function t(t,e){this._ctor=void 0,this._elementsPerBatch=void 0,this._nextAvail=void 0,this._freepool=[],this._ctor=t,this._elementsPerBatch=Math.max(e,1),this._nextAvail=this._elementsPerBatch-1;for(var n=0;n<this._elementsPerBatch;++n)this._freepool.push(t())}var e=t.prototype;return e.alloc=function(){if(this._nextAvail<0){for(var t=this._elementsPerBatch,e=0;e<t;e++)this._freepool.push(this._ctor());this._nextAvail=t-1}var n=this._freepool[this._nextAvail--];return this._freepool.length--,n},e.free=function(t){this._freepool.push(t),this._nextAvail++},e.freeArray=function(t){Array.prototype.push.apply(this._freepool,t),this._nextAvail+=t.length},e.destroy=function(t){if(t)for(var e=0;e<=this._nextAvail;e++)t(this._freepool[e]);this._freepool.length=0,this._nextAvail=-1},t}()),dn=(t("R",function(){function t(t,e){this._fn=void 0,this._count=0,this._data=void 0,this._fn=t,this._data=new Array(e);for(var n=0;n<e;++n)this._data[n]=t()}var e=t.prototype;return e.reset=function(){this._count=0},e.resize=function(t){if(t>this._data.length)for(var e=this._data.length;e<t;++e)this._data[e]=this._fn()},e.add=function(){return this._count>=this._data.length&&this.resize(2*this._data.length),this._data[this._count++]},e.removeAt=function(t){if(!(t>=this._count)){var e=this._count-1,n=this._data[t];this._data[t]=this._data[e],this._data[e]=n,this._count-=1}},n(t,[{key:"length",get:function(){return this._count}},{key:"data",get:function(){return this._data}}]),t}()),t("p",function(){function t(t,e){this.array=void 0,this.length=0,this._compareFn=void 0,this.array=new Array(t),this.length=0,this._compareFn=void 0!==e?e:function(t,e){return t-e}}var e=t.prototype;return e.push=function(t){this.array[this.length++]=t},e.pop=function(){return this.array[--this.length]},e.get=function(t){return this.array[t]},e.clear=function(){this.length=0},e.destroy=function(){this.length=0,this.array.length=0},e.sort=function(){this.array.length=this.length,this.array.sort(this._compareFn)},e.concat=function(t){for(var e=0;e<t.length;++e)this.array[this.length++]=t[e]},e.fastRemove=function(t){if(!(t>=this.length||t<0)){var e=--this.length;this.array[t]=this.array[e]}},e.indexOf=function(t){return this.array.indexOf(t)},t}()),[]),vn=t("aF",function(){function t(t){void 0===t&&(t=""),this._objFlags=void 0,this._name=void 0,this._name=t,this._objFlags=0}t._deferredDestroy=function(){for(var t=dn.length,e=0;e<t;++e){var n=dn[e];1&n._objFlags||n._destroyImmediate()}t===dn.length?dn.length=0:dn.splice(0,t)};var e=t.prototype;return e.destroy=function(){return 1&this._objFlags?(k(5e3),!1):!(4&this._objFlags||(this._objFlags|=4,dn.push(this),0))},e._destruct=function(){var t=this.constructor,e=t.__destruct__;e||(e=function(t,e){var n,i=t instanceof x._BaseNode||t instanceof x.Component,r=i?"_id":null,a={};for(n in t)if(t.hasOwnProperty(n)){if(n===r)continue;switch(typeof t[n]){case"string":a[n]="";break;case"object":case"function":a[n]=null}}if(Ce._isCCClass(e))for(var s=x.Class.Attr.getClassAttrs(e),m=e.__props__,o=0;o<m.length;o++){var h=(n=m[o])+x.Class.Attr.DELIMETER+"default";if(h in s){if(i&&"_id"===n)continue;switch(typeof s[h]){case"string":a[n]="";break;case"object":case"function":a[n]=null;break;case"undefined":a[n]=void 0}}}return function(t){for(var e in a)t[e]=a[e]}}(this,t),rt(t,"__destruct__",e,!0)),e(this)},e._destroyImmediate=function(){1&this._objFlags?B(5e3):(this._onPreDestroy&&this._onPreDestroy(),this._destruct(),this._objFlags|=1)},n(t,[{key:"name",get:function(){return this._name},set:function(t){this._name=t}},{key:"isValid",get:function(){return!(1&this._objFlags)}}]),t}()),xn=vn.prototype;function bn(t,e){return"object"==typeof t?!(!t||t._objFlags&(e?5:1)):void 0!==t}xn._deserialize=null,xn._onPreDestroy=null,Ce.fastDefine("cc.Object",vn,{_name:"",_objFlags:0}),rt(vn,"Flags",{Destroyed:1,DontSave:8,EditorOnly:16,Dirty:32,DontDestroy:64,PersistentMask:-4192741,Destroying:128,Deactivating:256,LockedInEditor:512,HideInHierarchy:1024,IsPreloadStarted:8192,IsOnLoadStarted:32768,IsOnLoadCalled:16384,IsOnEnableCalled:2048,IsStartCalled:65536,IsEditorOnEnableCalled:4096,IsPositionLocked:1<<21,IsRotationLocked:1<<17,IsScaleLocked:1<<18,IsAnchorLocked:1<<19,IsSizeLocked:1<<20}),x.isValid=bn,x.Object=vn;var gn=kt.fastRemoveAt;function _n(){}var wn=function(){function t(){this.callback=_n,this.target=void 0,this.once=!1}var e=t.prototype;return e.set=function(t,e,n){this.callback=t||_n,this.target=e,this.once=!!n},e.reset=function(){this.target=void 0,this.callback=_n,this.once=!1},e.check=function(){return!(this.target instanceof vn&&!bn(this.target,!0))},t}(),Mn=new pn((function(){return new wn}),32),zn=function(){function t(){this.callbackInfos=[],this.isInvoking=!1,this.containCanceled=!1}var e=t.prototype;return e.removeByCallback=function(t){for(var e=0;e<this.callbackInfos.length;++e){var n=this.callbackInfos[e];n&&n.callback===t&&(n.reset(),Mn.free(n),gn(this.callbackInfos,e),--e)}},e.removeByTarget=function(t){for(var e=0;e<this.callbackInfos.length;++e){var n=this.callbackInfos[e];n&&n.target===t&&(n.reset(),Mn.free(n),gn(this.callbackInfos,e),--e)}},e.cancel=function(t){var e=this.callbackInfos[t];e&&(e.reset(),this.isInvoking?this.callbackInfos[t]=null:gn(this.callbackInfos,t),Mn.free(e)),this.containCanceled=!0},e.cancelAll=function(){for(var t=0;t<this.callbackInfos.length;t++){var e=this.callbackInfos[t];e&&(e.reset(),Mn.free(e),this.callbackInfos[t]=null)}this.containCanceled=!0},e.purgeCanceled=function(){for(var t=this.callbackInfos.length-1;t>=0;--t)this.callbackInfos[t]||gn(this.callbackInfos,t);this.containCanceled=!1},e.clear=function(){this.cancelAll(),this.callbackInfos.length=0,this.isInvoking=!1,this.containCanceled=!1},t}(),En=new pn((function(){return new zn}),16),An=t("b7",function(){function t(){this._callbackTable=ot(!0)}var e=t.prototype;return e.on=function(t,e,n,i){if(!this.hasEventListener(t,e,n)){var r=this._callbackTable[t];r||(r=this._callbackTable[t]=En.alloc());var a=Mn.alloc();a.set(e,n,i),r.callbackInfos.push(a)}return e},e.hasEventListener=function(t,e,n){var i=this._callbackTable&&this._callbackTable[t];if(!i)return!1;var r=i.callbackInfos;if(!e){if(i.isInvoking){for(var a=0;a<r.length;++a)if(r[a])return!0;return!1}return r.length>0}for(var s=0;s<r.length;++s){var m=r[s];if(m&&m.check()&&m.callback===e&&m.target===n)return!0}return!1},e.removeAll=function(t){if("string"==typeof t){var e=this._callbackTable&&this._callbackTable[t];e&&(e.isInvoking?e.cancelAll():(e.clear(),En.free(e),delete this._callbackTable[t]))}else if(t)for(var n in this._callbackTable){var i=this._callbackTable[n];if(i.isInvoking)for(var r=i.callbackInfos,a=0;a<r.length;++a){var s=r[a];s&&s.target===t&&i.cancel(a)}else i.removeByTarget(t)}},e.off=function(t,e,n){var i=this._callbackTable&&this._callbackTable[t];if(i){var r=i.callbackInfos;if(e)for(var a=0;a<r.length;++a){var s=r[a];if(s&&s.callback===e&&s.target===n){i.cancel(a);break}}else this.removeAll(t)}},e.emit=function(t,e,n,i,r,a){var s=this._callbackTable&&this._callbackTable[t];if(s){var m=!s.isInvoking;s.isInvoking=!0;for(var o=s.callbackInfos,h=0,u=o.length;h<u;++h){var c=o[h];if(c){var l=c.callback,f=c.target;c.once&&this.off(t,l,f),c.check()?f?l.call(f,e,n,i,r,a):l(e,n,i,r,a):this.off(t,l,f)}}m&&(s.isInvoking=!1,s.containCanceled&&s.purgeCanceled())}},e.clear=function(){for(var t in this._callbackTable){var e=this._callbackTable[t];e&&(e.clear(),En.free(e),delete this._callbackTable[t])}},t}());function On(t){for(var e=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this)._callbackTable=ot(!0),e}r(e,t);var n=e.prototype;return n.once=function(t,e,n){return this.on(t,e,n,!0)},n.targetOff=function(t){this.removeAll(t)},e}(t),n=An.prototype,i=Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n)),a=0;a<i.length;++a){var s=i[a];if(!(s in e.prototype)){var m=Object.getOwnPropertyDescriptor(n,s);m&&Object.defineProperty(e.prototype,s,m)}}return e}var Nn=t("aM",On((function(){})));x.EventTarget=Nn;var Sn,In,Rn,Cn,Tn,Pn=/(\.[^\.\/\?\\]*)(\?.*)?$/,jn=/((.*)(\/|\\|\\\\))?(.*?\..*$)?/,qn=/[^\.\/]+\/\.\.\//;function kn(){for(var t="",e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(var r=0,a=n;r<a.length;r++){var s=a[r];t=(t+(""===t?"":"/")+s).replace(/(\/|\\\\)$/,"")}return t}function Dn(t){var e=Pn.exec(t);return e?e[1]:""}function Bn(t){if(t){var e=t.lastIndexOf(".");if(-1!==e)return t.substring(0,e)}return t}function Un(t,e){var n=t.indexOf("?");n>0&&(t=t.substring(0,n));var i=/(\/|\\)([^\/\\]+)$/g.exec(t.replace(/(\/|\\)$/,""));if(!i)return t;var r=i[2];return e&&t.substring(t.length-e.length).toLowerCase()===e.toLowerCase()?r.substring(0,r.length-e.length):r}function Ln(t){var e=jn.exec(t);return e?e[2]:""}function Vn(t,e){e=e||"";var n=t.indexOf("?"),i="";return n>0&&(i=t.substring(n),t=t.substring(0,n)),(n=t.lastIndexOf("."))<0?t+e+i:t.substring(0,n)+e+i}function Wn(t,e,n){if(0===e.indexOf("."))return Vn(t,e);var i=t.indexOf("?"),r="",a=n?Dn(t):"";return i>0&&(r=t.substring(i),t=t.substring(0,i)),i=(i=t.lastIndexOf("/"))<=0?0:i+1,t.substring(0,i)+e+a+r}function Gn(t){var e=t=String(t);do{e=t,t=t.replace(qn,"")}while(e.length!==t.length);return t}function Fn(t){return t.replace(/[\/\\]$/,"")}function Yn(){return x.sys.os===x.sys.OS_WINDOWS?"\\":"/"}t("az",Object.freeze({__proto__:null,join:kn,extname:Dn,mainFileName:Bn,basename:Un,dirname:Ln,changeExtname:Vn,changeBasename:Wn,_normalize:Gn,stripSep:Fn,getSeperator:Yn}));var Hn=t("A",Le("cc.Asset")((Tn=Cn=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).loaded=!0,c(e,"_native",Rn,o(e)),e._nativeUrl="",e._file=null,e._ref=0,Object.defineProperty(o(e),"_uuid",{value:"",writable:!0}),e}r(e,t),e.deserialize=function(t){return x.deserialize(t)},n(e,[{key:"nativeUrl",get:function(){if(!this._nativeUrl){if(!this._native)return"";var t=this._native;if(47===t.charCodeAt(0))return t.slice(1);46===t.charCodeAt(0)?this._nativeUrl=un(this._uuid,{nativeExt:t,isNative:!0}):this._nativeUrl=un(this._uuid,{__nativeName__:t,nativeExt:Dn(t),isNative:!0})}return this._nativeUrl}},{key:"_nativeAsset",get:function(){return this._file},set:function(t){this._file=t}}]);var i=e.prototype;return i.toString=function(){return this.nativeUrl},i.serialize=function(){},i._setRawAsset=function(t,e){void 0===e&&(e=!0),this._native=!1!==e?t||"":"/"+t},i.addRef=function(){return this._ref++,x.assetManager._releaseManager.removeFromDeleteQueue(this),this},i.decRef=function(t){return void 0===t&&(t=!0),this._ref>0&&this._ref--,t&&x.assetManager._releaseManager.tryRelease(this),this},i.onLoaded=function(){},n(e,[{key:"_nativeDep",get:function(){if(this._native)return{__isNative__:!0,uuid:this._uuid,ext:this._native}}},{key:"refCount",get:function(){return this._ref}}]),e}(On(vn)),Cn.preventDeferredLoadDependents=!1,Cn.preventPreloadNativeObject=!1,Rn=l((In=Tn).prototype,"_native",[We],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),l(In.prototype,"_nativeAsset",[Ve],Object.getOwnPropertyDescriptor(In.prototype,"_nativeAsset"),In.prototype),Sn=In))||Sn);Hn.prototype.createNode=null,x.Asset=Hn;var Xn=Math.PI/180,Qn=180/Math.PI,Kn=t("ac",1e-6);function Zn(t,e,n){if(e>n){var i=e;e=n,n=i}return t<e?e:t>n?n:t}function $n(t){return t*Qn}var Jn=t("aj",Math.random);function ti(t,e){return Math.random()*(e-t)+t}function ei(t){return(t=(9301*t+49297)%233280)/233280}function ni(t,e,n){return ei(t)*(n-e)+e}function ii(t,e){return t-Math.floor(t/e)*e}var ri,ai="undefined"==typeof window?global:window;!function(t){t[t.NONE=0]="NONE",t[t.LAN=1]="LAN",t[t.WWAN=2]="WWAN"}(ri||(ri={}));var si,mi,oi,hi,ui,ci,li=t("i",{NetworkType:ri,LANGUAGE_ENGLISH:"en",LANGUAGE_CHINESE:"zh",LANGUAGE_FRENCH:"fr",LANGUAGE_ITALIAN:"it",LANGUAGE_GERMAN:"de",LANGUAGE_SPANISH:"es",LANGUAGE_DUTCH:"du",LANGUAGE_RUSSIAN:"ru",LANGUAGE_KOREAN:"ko",LANGUAGE_JAPANESE:"ja",LANGUAGE_HUNGARIAN:"hu",LANGUAGE_PORTUGUESE:"pt",LANGUAGE_ARABIC:"ar",LANGUAGE_NORWEGIAN:"no",LANGUAGE_POLISH:"pl",LANGUAGE_TURKISH:"tr",LANGUAGE_UKRAINIAN:"uk",LANGUAGE_ROMANIAN:"ro",LANGUAGE_BULGARIAN:"bg",LANGUAGE_UNKNOWN:"unknown",OS_IOS:"iOS",OS_ANDROID:"Android",OS_WINDOWS:"Windows",OS_LINUX:"Linux",OS_OSX:"OS X",OS_UNKNOWN:"Unknown",UNKNOWN:-1,WIN32:0,LINUX:1,MACOS:2,ANDROID:3,IPHONE:4,IPAD:5,BLACKBERRY:6,NACL:7,EMSCRIPTEN:8,TIZEN:9,WINRT:10,WP8:11,MOBILE_BROWSER:100,DESKTOP_BROWSER:101,EDITOR_PAGE:102,EDITOR_CORE:103,WECHAT_GAME:104,QQ_PLAY:105,FB_PLAYABLE_ADS:106,BAIDU_MINI_GAME:107,VIVO_MINI_GAME:108,OPPO_MINI_GAME:109,HUAWEI_QUICK_GAME:110,XIAOMI_QUICK_GAME:111,COCOSPLAY:112,ALIPAY_MINI_GAME:113,QTT_MINI_GAME:116,BYTEDANCE_MINI_GAME:117,LINKSURE_MINI_GAME:119,BROWSER_TYPE_WECHAT:"wechat",BROWSER_TYPE_COCOSPLAY:"cocosplay",BROWSER_TYPE_HUAWEI_GAME:"huaweiquickgame",BROWSER_TYPE_OPPO_GAME:"oppogame",BROWSER_TYPE_VIVO_GAME:"vivogame",BROWSER_TYPE_XIAOMI_GAME:"xiaomigame",BROWSER_TYPE_ANDROID:"androidbrowser",BROWSER_TYPE_IE:"ie",BROWSER_TYPE_EDGE:"edge",BROWSER_TYPE_QQ:"qqbrowser",BROWSER_TYPE_MOBILE_QQ:"mqqbrowser",BROWSER_TYPE_UC:"ucbrowser",BROWSER_TYPE_UCBS:"ucbs",BROWSER_TYPE_360:"360browser",BROWSER_TYPE_BAIDU_APP:"baiduboxapp",BROWSER_TYPE_BAIDU:"baidubrowser",BROWSER_TYPE_MAXTHON:"maxthon",BROWSER_TYPE_OPERA:"opera",BROWSER_TYPE_OUPENG:"oupeng",BROWSER_TYPE_MIUI:"miuibrowser",BROWSER_TYPE_FIREFOX:"firefox",BROWSER_TYPE_SAFARI:"safari",BROWSER_TYPE_CHROME:"chrome",BROWSER_TYPE_LIEBAO:"liebao",BROWSER_TYPE_QZONE:"qzone",BROWSER_TYPE_SOUGOU:"sogou",BROWSER_TYPE_HUAWEI:"huawei",BROWSER_TYPE_UNKNOWN:"unknown",isNative:d,isBrowser:"object"==typeof window&&"object"==typeof document&&!p&&!d&&!y,isMobile:!1,isLittleEndian:(si=new ArrayBuffer(2),new DataView(si).setInt16(0,256,!0),256===new Int16Array(si)[0]),platform:-1,language:"unknown",languageCode:"unknown",os:"Unknown",osVersion:"",osMainVersion:0,browserType:"unknown",browserVersion:"",windowPixelResolution:null,capabilities:null,localStorage:null,__audioSupport:null,__videoSupport:null,getNetworkType:function(){return ri.LAN},getBatteryLevel:function(){return 1},garbageCollect:function(){},isObjectValid:function(t){return null!=t},dump:function(){var t="";t+="isMobile : "+this.isMobile+"\r\n",t+="language : "+this.language+"\r\n",t+="browserType : "+this.browserType+"\r\n",t+="browserVersion : "+this.browserVersion+"\r\n",t+="capabilities : "+JSON.stringify(this.capabilities)+"\r\n",t+="os : "+this.os+"\r\n",t+="osVersion : "+this.osVersion+"\r\n",t+="platform : "+this.platform+"\r\n",O(t+="Using "+(x.game.renderType===x.game.RENDER_TYPE_WEBGL?"WEBGL":"CANVAS")+" renderer.\r\n")},openURL:function(t){window.open(t)},now:function(){return Date.now?Date.now():+new Date},restartVM:function(){},getSafeAreaRect:function(){var t=x.view.getVisibleSize();return x.rect(0,0,t.width,t.height)}});if(ai.__globalAdapter&&ai.__globalAdapter.adaptSys)ai.__globalAdapter.adaptSys(li);else{var fi=window,yi=fi.navigator,pi=document,di=pi.documentElement,vi=yi.userAgent.toLowerCase();li.isMobile=/mobile|android|iphone|ipad/.test(vi),li.platform=li.isMobile?li.MOBILE_BROWSER:li.DESKTOP_BROWSER;var xi=yi.language;li.languageCode=xi.toLowerCase(),xi=(xi=xi||yi.browserLanguage)?xi.split("-")[0]:li.LANGUAGE_ENGLISH,li.language=xi;var bi=!1,gi=!1,_i="",wi=0,Mi=/android\s*(\d+(?:\.\d+)*)/i.exec(vi)||/android\s*(\d+(?:\.\d+)*)/i.exec(yi.platform);Mi&&(bi=!0,_i=Mi[1]||"",wi=parseInt(_i)||0),(Mi=/(iPad|iPhone|iPod).*OS ((\d+_?){2,3})/i.exec(vi))?(gi=!0,_i=Mi[2]||"",wi=parseInt(_i)||0):(/(iPhone|iPad|iPod)/.exec(yi.platform)||"MacIntel"===yi.platform&&yi.maxTouchPoints&&yi.maxTouchPoints>1)&&(gi=!0,_i="",wi=0);var zi=li.OS_UNKNOWN;-1!==yi.appVersion.indexOf("Win")?zi=li.OS_WINDOWS:gi?zi=li.OS_IOS:-1!==yi.appVersion.indexOf("Mac")?zi=li.OS_OSX:-1!==yi.appVersion.indexOf("X11")&&-1===yi.appVersion.indexOf("Linux")?zi=li.OS_UNIX:bi?zi=li.OS_ANDROID:-1===yi.appVersion.indexOf("Linux")&&-1===vi.indexOf("ubuntu")||(zi=li.OS_LINUX),li.os=zi,li.osVersion=_i,li.osMainVersion=wi,li.browserType=li.BROWSER_TYPE_UNKNOWN,function(){var t=/mqqbrowser|micromessenger|qqbrowser|sogou|qzone|liebao|maxthon|ucbs|360 aphone|360browser|baiduboxapp|baidubrowser|maxthon|mxbrowser|miuibrowser/i.exec(vi)||/qq|qqbrowser|ucbrowser|ubrowser|edge|HuaweiBrowser/i.exec(vi)||/chrome|safari|firefox|trident|opera|opr\/|oupeng/i.exec(vi),e=t?t[0].toLowerCase():li.BROWSER_TYPE_UNKNOWN;("safari"===e&&bi||"qq"===e&&vi.match(/android.*applewebkit/i))&&(e=li.BROWSER_TYPE_ANDROID);var n={micromessenger:li.BROWSER_TYPE_WECHAT,trident:li.BROWSER_TYPE_IE,edge:li.BROWSER_TYPE_EDGE,"360 aphone":li.BROWSER_TYPE_360,mxbrowser:li.BROWSER_TYPE_MAXTHON,"opr/":li.BROWSER_TYPE_OPERA,ubrowser:li.BROWSER_TYPE_UC,huaweibrowser:li.BROWSER_TYPE_HUAWEI};li.browserType=n[e]||e}(),li.browserVersion="",(oi=vi.match(/(mqqbrowser|micromessenger|qqbrowser|sogou|qzone|liebao|maxthon|uc|ucbs|360 aphone|360|baiduboxapp|baidu|maxthon|mxbrowser|miui(?:.hybrid)?)(mobile)?(browser)?\/?([\d.]+)/i))||(oi=vi.match(/(qq|chrome|safari|firefox|trident|opera|opr\/|oupeng)(mobile)?(browser)?\/?([\d.]+)/i)),li.browserVersion=oi?oi[4]:"";var Ei=window.innerWidth||document.documentElement.clientWidth,Ai=window.innerHeight||document.documentElement.clientHeight,Oi=window.devicePixelRatio||1;li.windowPixelResolution={width:Oi*Ei,height:Oi*Ai};var Ni,Si=document.createElement("canvas");try{var Ii=li.localStorage=fi.localStorage;Ii.setItem("storage",""),Ii.removeItem("storage"),Ii=null}catch(t){var Ri=function(){k(5200)};li.localStorage={getItem:Ri,setItem:Ri,removeItem:Ri,clear:Ri}}try{Ni=Si.toDataURL("image/webp").startsWith("data:image/webp")}catch(t){Ni=!1}var Ci=!!Si.getContext("2d"),Ti=!1;fi.WebGLRenderingContext&&(Ti=!0);var Pi,ji=li.capabilities={canvas:Ci,opengl:Ti,webp:Ni,imageBitmap:!1};"undefined"!=typeof createImageBitmap&&"undefined"!=typeof Blob&&(Si.width=Si.height=2,createImageBitmap(Si,{}).then((function(t){ji.imageBitmap=!0,t.close&&t.close()})).catch((function(){}))),(void 0!==di.ontouchstart||void 0!==pi.ontouchstart||yi.msPointerEnabled)&&(ji.touches=!0),void 0!==di.onmouseup&&(ji.mouse=!0),void 0!==di.onkeyup&&(ji.keyboard=!0),(fi.DeviceMotionEvent||fi.DeviceOrientationEvent)&&(ji.accelerometer=!0),Pi={ONLY_ONE:!1,WEB_AUDIO:!!(window.AudioContext||window.webkitAudioContext||window.mozAudioContext),DELAY_CREATE_CTX:!1},li.os===li.OS_IOS&&(Pi.USE_LOADER_EVENT="loadedmetadata"),li.browserType===li.BROWSER_TYPE_FIREFOX&&(Pi.DELAY_CREATE_CTX=!0,Pi.USE_LOADER_EVENT="canplay"),li.os===li.OS_ANDROID&&li.browserType===li.BROWSER_TYPE_UC&&(Pi.ONE_SOURCE=!0);try{Pi.WEB_AUDIO&&(Pi._context=null,Object.defineProperty(Pi,"context",{get:function(){return this._context?this._context:this._context=new(window.AudioContext||window.webkitAudioContext||window.mozAudioContext)}}))}catch(S){Pi.WEB_AUDIO=!1,j(5201)}var qi=[];(mi=document.createElement("audio")).canPlayType&&(mi.canPlayType('audio/ogg; codecs="vorbis"')&&qi.push(".ogg"),mi.canPlayType("audio/mpeg")&&qi.push(".mp3"),mi.canPlayType('audio/wav; codecs="1"')&&qi.push(".wav"),mi.canPlayType("audio/mp4")&&qi.push(".mp4"),mi.canPlayType("audio/x-m4a")&&qi.push(".m4a")),Pi.format=qi,li.__audioSupport=Pi,li.__videoSupport={format:[]},function(){var t=document.createElement("video");if(t.canPlayType){var e=li.__videoSupport.format;["mp4","webm"].forEach((function(n){t.canPlayType("video/"+n)&&e.push("."+n)})),li.__videoSupport.format=e}}()}x.sys=li;var ki=t("aO",Le("cc.Script")(hi=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e}(Hn))||hi);x._Script=ki;var Di=t("aP",Le("cc.JavaScript")(ui=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e}(ki))||ui);x._JavaScript=Di;var Bi,Ui,Li,Vi,Wi,Gi,Fi,Yi,Hi,Xi,Qi,Ki=t("aQ",Le("cc.TypeScript")(ci=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e}(ki))||ci);x._TypeScript=Ki;var Zi=new Z("Comp"),$i=vn.Flags.IsOnLoadCalled,Ji=t("C",(Bi=Le("cc.Component"),Ui=Fe(),Li=Xe(ki),Vi=Ye(),Bi((Qi=Xi=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return c(e=t.call.apply(t,[this].concat(i))||this,"node",Fi,o(e)),c(e,"_enabled",Yi,o(e)),c(e,"__prefab",Hi,o(e)),e._sceneGetter=null,e._id=Zi.getNewId(),e}r(e,t);var i=e.prototype;return i._getRenderScene=function(){return this._sceneGetter?this._sceneGetter():this.node.scene._renderScene},i.addComponent=function(t){return this.node.addComponent(t)},i.getComponent=function(t){return this.node.getComponent(t)},i.getComponents=function(t){return this.node.getComponents(t)},i.getComponentInChildren=function(t){return this.node.getComponentInChildren(t)},i.getComponentsInChildren=function(t){return this.node.getComponentsInChildren(t)},i.destroy=function(){return!!t.prototype.destroy.call(this)&&(this._enabled&&this.node.activeInHierarchy&&x.director._compScheduler.disableComp(this),!0)},i._onPreDestroy=function(){this.unscheduleAllCallbacks(),x.director._nodeActivator.destroyComp(this),this.node._removeComponent(this)},i._instantiate=function(t){return t||(t=x.instantiate._clone(this,this)),t.node=null,t},i.schedule=function(t,e,n,i){void 0===e&&(e=0),void 0===n&&(n=x.macro.REPEAT_FOREVER),void 0===i&&(i=0),V(t,1619),V((e=e||0)>=0,1620),n=isNaN(n)?x.macro.REPEAT_FOREVER:n,i=i||0;var r=x.director.getScheduler(),a=r.isTargetPaused(this);r.schedule(t,this,e,n,i,a)},i.scheduleOnce=function(t,e){void 0===e&&(e=0),this.schedule(t,0,0,e)},i.unschedule=function(t){t&&x.director.getScheduler().unschedule(t,this)},i.unscheduleAllCallbacks=function(){x.director.getScheduler().unscheduleAllForTarget(this)},n(e,[{key:"name",get:function(){if(this._name)return this._name;var t=ht(this),e=t.lastIndexOf(".");return e>=0&&(t=t.slice(e+1)),this.node.name+"<"+t+">"},set:function(t){this._name=t}},{key:"uuid",get:function(){return this._id}},{key:"__scriptAsset",get:function(){return null}},{key:"enabled",get:function(){return this._enabled},set:function(t){if(this._enabled!==t&&(this._enabled=t,this.node.activeInHierarchy)){var e=x.director._compScheduler;t?e.enableComp(this):e.disableComp(this)}}},{key:"enabledInHierarchy",get:function(){return this._enabled&&this.node&&this.node.activeInHierarchy}},{key:"_isOnLoadCalled",get:function(){return this._objFlags&$i}}]),e}(vn),Xi.system=null,l((Gi=Qi).prototype,"__scriptAsset",[Ui,Li,Vi,He],Object.getOwnPropertyDescriptor(Gi.prototype,"__scriptAsset"),Gi.prototype),Fi=l(Gi.prototype,"node",[We],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Yi=l(Gi.prototype,"_enabled",[We],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Hi=l(Gi.prototype,"__prefab",[We],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Wi=Gi))||Wi)),tr=Ji.prototype;tr.update=null,tr.lateUpdate=null,tr.__preload=null,tr.onLoad=null,tr.start=null,tr.onEnable=null,tr.onDisable=null,tr.onDestroy=null,tr.onFocusInEditor=null,tr.onLostFocusInEditor=null,tr.resetInEditor=null,tr._getLocalBounds=null,tr.onRestore=null,Ji._requireComponent=null,Ji._executionOrder=0,rt(Ji,"_registerEditorProps",(function(t,e){var n=e.requireComponent;n&&(t._requireComponent=n);var i=e.executionOrder;i&&"number"==typeof i&&(t._executionOrder=i)})),x.Component=Ji;var er=t("ce",2147483647);function nr(t){return(t>0)-(t<0)}function ir(t){var e,n;return e=(t>65535)<<4,e|=n=((t>>>=e)>255)<<3,e|=n=((t>>>=n)>15)<<2,(e|=n=((t>>>=n)>3)<<1)|(t>>>=n)>>1}function rr(t){var e=32;return(t&=-t)&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}function ar(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,1+(t|=t>>>16)}var sr=new Array(256);!function(t){for(var e=0;e<256;++e){var n=e,i=e,r=7;for(n>>>=1;n;n>>>=1)i<<=1,i|=1&n,--r;t[e]=i<<r&255}}(sr),t("U",Object.freeze({__proto__:null,INT_BITS:32,INT_MAX:er,INT_MIN:-1<<31,sign:nr,abs:function(t){var e=t>>31;return(t^e)-e},min:function(t,e){return e^(t^e)&-(t<e)},max:function(t,e){return t^(t^e)&-(t<e)},isPow2:function(t){return!(t&t-1||!t)},log2:ir,log10:function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},popCount:function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},countTrailingZeros:rr,nextPow2:ar,prevPow2:function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},parity:function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1},reverse:function(t){return sr[255&t]<<24|sr[t>>>8&255]<<16|sr[t>>>16&255]<<8|sr[t>>>24&255]},interleave2:function(t,e){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))<<1},deinterleave2:function(t,e){return(t=65535&((t=16711935&((t=252645135&((t=858993459&((t=t>>>e&1431655765)|t>>>1))|t>>>2))|t>>>4))|t>>>16))<<16>>16},interleave3:function(t,e,n){return t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2),(t|=(e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2))<<1)|(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<2},deinterleave3:function(t,e){return(t=1023&((t=4278190335&((t=251719695&((t=3272356035&((t=t>>>e&1227133513)|t>>>2))|t>>>4))|t>>>8))|t>>>16))<<22>>22},nextCombination:function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>rr(t)+1}}));var mr=t("W",function(t){function e(e,n){var i;return i=t.call(this)||this,e&&"object"==typeof e?(i.x=e.x,i.y=e.y):(i.x=e||0,i.y=n||0),i}r(e,t),e.clone=function(t){return new e(t.x,t.y)},e.copy=function(t,e){return t.x=e.x,t.y=e.y,t},e.set=function(t,e,n){return t.x=e,t.y=n,t},e.add=function(t,e,n){return t.x=e.x+n.x,t.y=e.y+n.y,t},e.subtract=function(t,e,n){return t.x=e.x-n.x,t.y=e.y-n.y,t},e.multiply=function(t,e,n){return t.x=e.x*n.x,t.y=e.y*n.y,t},e.divide=function(t,e,n){return t.x=e.x/n.x,t.y=e.y/n.y,t},e.ceil=function(t,e){return t.x=Math.ceil(e.x),t.y=Math.ceil(e.y),t},e.floor=function(t,e){return t.x=Math.floor(e.x),t.y=Math.floor(e.y),t},e.min=function(t,e,n){return t.x=Math.min(e.x,n.x),t.y=Math.min(e.y,n.y),t},e.max=function(t,e,n){return t.x=Math.max(e.x,n.x),t.y=Math.max(e.y,n.y),t},e.round=function(t,e){return t.x=Math.round(e.x),t.y=Math.round(e.y),t},e.multiplyScalar=function(t,e,n){return t.x=e.x*n,t.y=e.y*n,t},e.scaleAndAdd=function(t,e,n,i){return t.x=e.x+n.x*i,t.y=e.y+n.y*i,t},e.distance=function(t,e){var n=e.x-t.x,i=e.y-t.y;return Math.sqrt(n*n+i*i)},e.squaredDistance=function(t,e){var n=e.x-t.x,i=e.y-t.y;return n*n+i*i},e.len=function(t){var e=t.x,n=t.y;return Math.sqrt(e*e+n*n)},e.lengthSqr=function(t){var e=t.x,n=t.y;return e*e+n*n},e.negate=function(t,e){return t.x=-e.x,t.y=-e.y,t},e.inverse=function(t,e){return t.x=1/e.x,t.y=1/e.y,t},e.inverseSafe=function(t,e){var n=e.x,i=e.y;return Math.abs(n)<Kn?t.x=0:t.x=1/n,Math.abs(i)<Kn?t.y=0:t.y=1/i,t},e.normalize=function(t,e){var n=e.x,i=e.y,r=n*n+i*i;return r>0&&(r=1/Math.sqrt(r),t.x=n*r,t.y=i*r),t},e.dot=function(t,e){return t.x*e.x+t.y*e.y},e.cross=function(t,e,n){return t.x=t.y=0,t.z=e.x*n.y-e.y*n.x,t},e.lerp=function(t,e,n,i){var r=e.x,a=e.y;return t.x=r+i*(n.x-r),t.y=a+i*(n.y-a),t},e.random=function(t,e){e=e||1;var n=2*Jn()*Math.PI;return t.x=Math.cos(n)*e,t.y=Math.sin(n)*e,t},e.transformMat3=function(t,e,n){var i=e.x,r=e.y;return t.x=n.m00*i+n.m03*r+n.m06,t.y=n.m01*i+n.m04*r+n.m07,t},e.transformMat4=function(t,e,n){var i=e.x,r=e.y;return t.x=n.m00*i+n.m04*r+n.m12,t.y=n.m01*i+n.m05*r+n.m13,t},e.str=function(t){return"Vec2("+t.x+", "+t.y+")"},e.toArray=function(t,e,n){return void 0===n&&(n=0),t[n+0]=e.x,t[n+1]=e.y,t},e.fromArray=function(t,e,n){return void 0===n&&(n=0),t.x=e[n+0],t.y=e[n+1],t},e.strictEquals=function(t,e){return t.x===e.x&&t.y===e.y},e.equals=function(t,e,n){return void 0===n&&(n=Kn),Math.abs(t.x-e.x)<=n*Math.max(1,Math.abs(t.x),Math.abs(e.x))&&Math.abs(t.y-e.y)<=n*Math.max(1,Math.abs(t.y),Math.abs(e.y))},e.angle=function(t,n){e.normalize(or,t),e.normalize(hr,n);var i=e.dot(or,hr);return i>1?0:i<-1?Math.PI:Math.acos(i)};var n=e.prototype;return n.clone=function(){return new e(this.x,this.y)},n.set=function(t,e){return t&&"object"==typeof t?(this.x=t.x,this.y=t.y):(this.x=t||0,this.y=e||0),this},n.equals=function(t,e){return void 0===e&&(e=Kn),Math.abs(this.x-t.x)<=e*Math.max(1,Math.abs(this.x),Math.abs(t.x))&&Math.abs(this.y-t.y)<=e*Math.max(1,Math.abs(this.y),Math.abs(t.y))},n.equals2f=function(t,e,n){return void 0===n&&(n=Kn),Math.abs(this.x-t)<=n*Math.max(1,Math.abs(this.x),Math.abs(t))&&Math.abs(this.y-e)<=n*Math.max(1,Math.abs(this.y),Math.abs(e))},n.strictEquals=function(t){return t&&this.x===t.x&&this.y===t.y},n.strictEquals2f=function(t,e){return this.x===t&&this.y===e},n.toString=function(){return"("+this.x.toFixed(2)+", "+this.y.toFixed(2)+")"},n.lerp=function(t,e){var n=this.x,i=this.y;return this.x=n+e*(t.x-n),this.y=i+e*(t.y-i),this},n.clampf=function(t,e){return this.x=Zn(this.x,t.x,e.x),this.y=Zn(this.y,t.y,e.y),this},n.add=function(t){return this.x=this.x+t.x,this.y=this.y+t.y,this},n.add2f=function(t,e){return this.x=this.x+t,this.y=this.y+e,this},n.subtract=function(t){return this.x=this.x-t.x,this.y=this.y-t.y,this},n.subtract2f=function(t,e){return this.x=this.x-t,this.y=this.y-e,this},n.multiplyScalar=function(t){return"object"==typeof t&&console.warn("should use Vec2.multiply for vector * vector operation"),this.x=this.x*t,this.y=this.y*t,this},n.multiply=function(t){return"object"!=typeof t&&console.warn("should use Vec2.scale for vector * scalar operation"),this.x=this.x*t.x,this.y=this.y*t.y,this},n.multiply2f=function(t,e){return this.x=this.x*t,this.y=this.y*e,this},n.divide=function(t){return this.x=this.x/t.x,this.y=this.y/t.y,this},n.divide2f=function(t,e){return this.x=this.x/t,this.y=this.y/e,this},n.negative=function(){return this.x=-this.x,this.y=-this.y,this},n.dot=function(t){return this.x*t.x+this.y*t.y},n.cross=function(t){return this.x*t.y-this.y*t.x},n.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},n.lengthSqr=function(){return this.x*this.x+this.y*this.y},n.normalize=function(){var t=this.x,e=this.y,n=t*t+e*e;return n>0&&(n=1/Math.sqrt(n),this.x=this.x*n,this.y=this.y*n),this},n.angle=function(t){var e=this.lengthSqr(),n=t.lengthSqr();if(0===e||0===n)return console.warn("Can't get angle between zero vector"),0;var i=this.dot(t)/Math.sqrt(e*n);return i=Zn(i,-1,1),Math.acos(i)},n.signAngle=function(t){var e=this.angle(t);return this.cross(t)<0?-e:e},n.rotate=function(t){var e=this.x,n=this.y,i=Math.sin(t),r=Math.cos(t);return this.x=r*e-i*n,this.y=i*e+r*n,this},n.project=function(t){var e=this.dot(t)/t.dot(t);return this.x=t.x*e,this.y=t.y*e,this},n.transformMat4=function(t){var e=this.x,n=this.y;return this.x=t.m00*e+t.m04*n+t.m12,this.y=t.m01*e+t.m05*n+t.m13,this},e}(Wt));mr.ZERO=Object.freeze(new mr(0,0)),mr.ONE=Object.freeze(new mr(1,1)),mr.NEG_ONE=Object.freeze(new mr(-1,-1)),mr.UNIT_X=Object.freeze(new mr(1,0)),mr.UNIT_Y=Object.freeze(new mr(0,1));var or=new mr,hr=new mr;function ur(t,e){return new mr(t,e)}Ce.fastDefine("cc.Vec2",mr,{x:0,y:0}),x.Vec2=mr,x.v2=ur;var cr=t("V",function(t){function e(e,n,i){var r;return r=t.call(this)||this,e&&"object"==typeof e?(r.x=e.x,r.y=e.y,r.z=e.z):(r.x=e||0,r.y=n||0,r.z=i||0),r}r(e,t),e.zero=function(t){return t.x=0,t.y=0,t.z=0,t},e.clone=function(t){return new e(t.x,t.y,t.z)},e.copy=function(t,e){return t.x=e.x,t.y=e.y,t.z=e.z,t},e.set=function(t,e,n,i){return t.x=e,t.y=n,t.z=i,t},e.add=function(t,e,n){return t.x=e.x+n.x,t.y=e.y+n.y,t.z=e.z+n.z,t},e.subtract=function(t,e,n){return t.x=e.x-n.x,t.y=e.y-n.y,t.z=e.z-n.z,t},e.multiply=function(t,e,n){return t.x=e.x*n.x,t.y=e.y*n.y,t.z=e.z*n.z,t},e.divide=function(t,e,n){return t.x=e.x/n.x,t.y=e.y/n.y,t.z=e.z/n.z,t},e.ceil=function(t,e){return t.x=Math.ceil(e.x),t.y=Math.ceil(e.y),t.z=Math.ceil(e.z),t},e.floor=function(t,e){return t.x=Math.floor(e.x),t.y=Math.floor(e.y),t.z=Math.floor(e.z),t},e.min=function(t,e,n){return t.x=Math.min(e.x,n.x),t.y=Math.min(e.y,n.y),t.z=Math.min(e.z,n.z),t},e.max=function(t,e,n){return t.x=Math.max(e.x,n.x),t.y=Math.max(e.y,n.y),t.z=Math.max(e.z,n.z),t},e.round=function(t,e){return t.x=Math.round(e.x),t.y=Math.round(e.y),t.z=Math.round(e.z),t},e.multiplyScalar=function(t,e,n){return t.x=e.x*n,t.y=e.y*n,t.z=e.z*n,t},e.scaleAndAdd=function(t,e,n,i){return t.x=e.x+n.x*i,t.y=e.y+n.y*i,t.z=e.z+n.z*i,t},e.distance=function(t,e){var n=e.x-t.x,i=e.y-t.y,r=e.z-t.z;return Math.sqrt(n*n+i*i+r*r)},e.squaredDistance=function(t,e){var n=e.x-t.x,i=e.y-t.y,r=e.z-t.z;return n*n+i*i+r*r},e.len=function(t){var e=t.x,n=t.y,i=t.z;return Math.sqrt(e*e+n*n+i*i)},e.lengthSqr=function(t){var e=t.x,n=t.y,i=t.z;return e*e+n*n+i*i},e.negate=function(t,e){return t.x=-e.x,t.y=-e.y,t.z=-e.z,t},e.invert=function(t,e){return t.x=1/e.x,t.y=1/e.y,t.z=1/e.z,t},e.invertSafe=function(t,e){var n=e.x,i=e.y,r=e.z;return Math.abs(n)<Kn?t.x=0:t.x=1/n,Math.abs(i)<Kn?t.y=0:t.y=1/i,Math.abs(r)<Kn?t.z=0:t.z=1/r,t},e.normalize=function(t,e){var n=e.x,i=e.y,r=e.z,a=n*n+i*i+r*r;return a>0&&(a=1/Math.sqrt(a),t.x=n*a,t.y=i*a,t.z=r*a),t},e.dot=function(t,e){return t.x*e.x+t.y*e.y+t.z*e.z},e.cross=function(t,e,n){var i=e.x,r=e.y,a=e.z,s=n.x,m=n.y,o=n.z;return t.x=r*o-a*m,t.y=a*s-i*o,t.z=i*m-r*s,t},e.lerp=function(t,e,n,i){return t.x=e.x+i*(n.x-e.x),t.y=e.y+i*(n.y-e.y),t.z=e.z+i*(n.z-e.z),t},e.random=function(t,e){e=e||1;var n=2*Jn()*Math.PI,i=2*Jn()-1,r=Math.sqrt(1-i*i);return t.x=r*Math.cos(n)*e,t.y=r*Math.sin(n)*e,t.z=i*e,t},e.transformMat4=function(t,e,n){var i=e.x,r=e.y,a=e.z,s=n.m03*i+n.m07*r+n.m11*a+n.m15;return s=s?Math.abs(1/s):1,t.x=(n.m00*i+n.m04*r+n.m08*a+n.m12)*s,t.y=(n.m01*i+n.m05*r+n.m09*a+n.m13)*s,t.z=(n.m02*i+n.m06*r+n.m10*a+n.m14)*s,t},e.transformMat4Normal=function(t,e,n){var i=e.x,r=e.y,a=e.z,s=n.m03*i+n.m07*r+n.m11*a;return s=s?Math.abs(1/s):1,t.x=(n.m00*i+n.m04*r+n.m08*a)*s,t.y=(n.m01*i+n.m05*r+n.m09*a)*s,t.z=(n.m02*i+n.m06*r+n.m10*a)*s,t},e.transformMat3=function(t,e,n){var i=e.x,r=e.y,a=e.z;return t.x=i*n.m00+r*n.m03+a*n.m06,t.y=i*n.m01+r*n.m04+a*n.m07,t.z=i*n.m02+r*n.m05+a*n.m08,t},e.transformAffine=function(t,e,n){var i=e.x,r=e.y,a=e.z;return t.x=n.m00*i+n.m04*r+n.m08*a+n.m12,t.y=n.m01*i+n.m05*r+n.m09*a+n.m13,t.x=n.m02*i+n.m06*r+n.m10*a+n.m14,t},e.transformQuat=function(t,e,n){var i=n.w*e.x+n.y*e.z-n.z*e.y,r=n.w*e.y+n.z*e.x-n.x*e.z,a=n.w*e.z+n.x*e.y-n.y*e.x,s=-n.x*e.x-n.y*e.y-n.z*e.z;return t.x=i*n.w+s*-n.x+r*-n.z-a*-n.y,t.y=r*n.w+s*-n.y+a*-n.x-i*-n.z,t.z=a*n.w+s*-n.z+i*-n.y-r*-n.x,t},e.transformRTS=function(t,e,n,i,r){var a=e.x*r.x,s=e.y*r.y,m=e.z*r.z,o=n.w*a+n.y*m-n.z*s,h=n.w*s+n.z*a-n.x*m,u=n.w*m+n.x*s-n.y*a,c=-n.x*a-n.y*s-n.z*m;return t.x=o*n.w+c*-n.x+h*-n.z-u*-n.y+i.x,t.y=h*n.w+c*-n.y+u*-n.x-o*-n.z+i.y,t.z=u*n.w+c*-n.z+o*-n.y-h*-n.x+i.z,t},e.transformInverseRTS=function(t,e,n,i,r){var a=e.x-i.x,s=e.y-i.y,m=e.z-i.z,o=n.w*a-n.y*m+n.z*s,h=n.w*s-n.z*a+n.x*m,u=n.w*m-n.x*s+n.y*a,c=n.x*a+n.y*s+n.z*m;return t.x=(o*n.w+c*n.x+h*n.z-u*n.y)/r.x,t.y=(h*n.w+c*n.y+u*n.x-o*n.z)/r.y,t.z=(u*n.w+c*n.z+o*n.y-h*n.x)/r.z,t},e.rotateX=function(t,e,n,i){var r=e.x-n.x,a=e.y-n.y,s=e.z-n.z,m=Math.cos(i),o=Math.sin(i),h=r,u=a*m-s*o,c=a*o+s*m;return t.x=h+n.x,t.y=u+n.y,t.z=c+n.z,t},e.rotateY=function(t,e,n,i){var r=e.x-n.x,a=e.y-n.y,s=e.z-n.z,m=Math.cos(i),o=Math.sin(i),h=s*o+r*m,u=a,c=s*m-r*o;return t.x=h+n.x,t.y=u+n.y,t.z=c+n.z,t},e.rotateZ=function(t,e,n,i){var r=e.x-n.x,a=e.y-n.y,s=e.z-n.z,m=Math.cos(i),o=Math.sin(i),h=r*m-a*o,u=r*o+a*m,c=s;return t.x=h+n.x,t.y=u+n.y,t.z=c+n.z,t},e.toArray=function(t,e,n){return void 0===n&&(n=0),t[n+0]=e.x,t[n+1]=e.y,t[n+2]=e.z,t},e.fromArray=function(t,e,n){return void 0===n&&(n=0),t.x=e[n+0],t.y=e[n+1],t.z=e[n+2],t},e.strictEquals=function(t,e){return t.x===e.x&&t.y===e.y&&t.z===e.z},e.equals=function(t,e,n){void 0===n&&(n=Kn);var i=t.x,r=t.y,a=t.z,s=e.x,m=e.y,o=e.z;return Math.abs(i-s)<=n*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(r-m)<=n*Math.max(1,Math.abs(r),Math.abs(m))&&Math.abs(a-o)<=n*Math.max(1,Math.abs(a),Math.abs(o))},e.angle=function(t,n){e.normalize(lr,t),e.normalize(fr,n);var i=e.dot(lr,fr);return i>1?0:i<-1?Math.PI:Math.acos(i)},e.projectOnPlane=function(t,n,i){return e.subtract(t,n,e.project(t,n,i))},e.project=function(t,n,i){var r=e.lengthSqr(i);return r<1e-6?e.set(t,0,0,0):e.multiplyScalar(t,i,e.dot(n,i)/r)};var n=e.prototype;return n.clone=function(){return new e(this.x,this.y,this.z)},n.set=function(t,e,n){return t&&"object"==typeof t?(this.x=t.x,this.y=t.y,this.z=t.z):(this.x=t||0,this.y=e||0,this.z=n||0),this},n.equals=function(t,e){return void 0===e&&(e=Kn),Math.abs(this.x-t.x)<=e*Math.max(1,Math.abs(this.x),Math.abs(t.x))&&Math.abs(this.y-t.y)<=e*Math.max(1,Math.abs(this.y),Math.abs(t.y))&&Math.abs(this.z-t.z)<=e*Math.max(1,Math.abs(this.z),Math.abs(t.z))},n.equals3f=function(t,e,n,i){return void 0===i&&(i=Kn),Math.abs(this.x-t)<=i*Math.max(1,Math.abs(this.x),Math.abs(t))&&Math.abs(this.y-e)<=i*Math.max(1,Math.abs(this.y),Math.abs(e))&&Math.abs(this.z-n)<=i*Math.max(1,Math.abs(this.z),Math.abs(n))},n.strictEquals=function(t){return this.x===t.x&&this.y===t.y&&this.z===t.z},n.strictEquals3f=function(t,e,n){return this.x===t&&this.y===e&&this.z===n},n.toString=function(){return"("+this.x.toFixed(2)+", "+this.y.toFixed(2)+", "+this.z.toFixed(2)+")"},n.lerp=function(t,e){return this.x=this.x+e*(t.x-this.x),this.y=this.y+e*(t.y-this.y),this.z=this.z+e*(t.z-this.z),this},n.add=function(t){return this.x=this.x+t.x,this.y=this.y+t.y,this.z=this.z+t.z,this},n.add3f=function(t,e,n){return this.x=this.x+t,this.y=this.y+e,this.z=this.z+n,this},n.subtract=function(t){return this.x=this.x-t.x,this.y=this.y-t.y,this.z=this.z-t.z,this},n.subtract3f=function(t,e,n){return this.x=this.x-t,this.y=this.y-e,this.z=this.z-n,this},n.multiplyScalar=function(t){return"object"==typeof t&&console.warn("should use Vec3.multiply for vector * vector operation"),this.x=this.x*t,this.y=this.y*t,this.z=this.z*t,this},n.multiply=function(t){return"object"!=typeof t&&console.warn("should use Vec3.scale for vector * scalar operation"),this.x=this.x*t.x,this.y=this.y*t.y,this.z=this.z*t.z,this},n.multiply3f=function(t,e,n){return this.x=this.x*t,this.y=this.y*e,this.z=this.z*n,this},n.divide=function(t){return this.x=this.x/t.x,this.y=this.y/t.y,this.z=this.z/t.z,this},n.divide3f=function(t,e,n){return this.x=this.x/t,this.y=this.y/e,this.z=this.z/n,this},n.negative=function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},n.clampf=function(t,e){return this.x=Zn(this.x,t.x,e.x),this.y=Zn(this.y,t.y,e.y),this.z=Zn(this.z,t.z,e.z),this},n.dot=function(t){return this.x*t.x+this.y*t.y+this.z*t.z},n.cross=function(t){var e=this.x,n=this.y,i=this.z,r=t.x,a=t.y,s=t.z;return this.x=n*s-i*a,this.y=i*r-e*s,this.z=e*a-n*r,this},n.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},n.lengthSqr=function(){return this.x*this.x+this.y*this.y+this.z*this.z},n.normalize=function(){var t=this.x,e=this.y,n=this.z,i=t*t+e*e+n*n;return i>0&&(i=1/Math.sqrt(i),this.x=t*i,this.y=e*i,this.z=n*i),this},n.transformMat4=function(t){var e=this.x,n=this.y,i=this.z,r=t.m03*e+t.m07*n+t.m11*i+t.m15;return r=r?1/r:1,this.x=(t.m00*e+t.m04*n+t.m08*i+t.m12)*r,this.y=(t.m01*e+t.m05*n+t.m09*i+t.m13)*r,this.z=(t.m02*e+t.m06*n+t.m10*i+t.m14)*r,this},e}(Wt));cr.UNIT_X=Object.freeze(new cr(1,0,0)),cr.UNIT_Y=Object.freeze(new cr(0,1,0)),cr.UNIT_Z=Object.freeze(new cr(0,0,1)),cr.RIGHT=Object.freeze(new cr(1,0,0)),cr.UP=Object.freeze(new cr(0,1,0)),cr.FORWARD=Object.freeze(new cr(0,0,-1)),cr.ZERO=Object.freeze(new cr(0,0,0)),cr.ONE=Object.freeze(new cr(1,1,1)),cr.NEG_ONE=Object.freeze(new cr(-1,-1,-1));var lr=new cr,fr=new cr;function yr(t,e,n){return new cr(t,e,n)}Ce.fastDefine("cc.Vec3",cr,{x:0,y:0,z:0}),x.Vec3=cr,x.v3=yr;var pr=t("Z",function(t){function e(e,n,i,r){var a;return a=t.call(this)||this,e&&"object"==typeof e?(a.x=e.x,a.y=e.y,a.z=e.z,a.w=e.w):(a.x=e||0,a.y=n||0,a.z=i||0,a.w=r||0),a}r(e,t),e.clone=function(t){return new e(t.x,t.y,t.z,t.w)},e.copy=function(t,e){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t},e.set=function(t,e,n,i,r){return t.x=e,t.y=n,t.z=i,t.w=r,t},e.add=function(t,e,n){return t.x=e.x+n.x,t.y=e.y+n.y,t.z=e.z+n.z,t.w=e.w+n.w,t},e.subtract=function(t,e,n){return t.x=e.x-n.x,t.y=e.y-n.y,t.z=e.z-n.z,t.w=e.w-n.w,t},e.multiply=function(t,e,n){return t.x=e.x*n.x,t.y=e.y*n.y,t.z=e.z*n.z,t.w=e.w*n.w,t},e.divide=function(t,e,n){return t.x=e.x/n.x,t.y=e.y/n.y,t.z=e.z/n.z,t.w=e.w/n.w,t},e.ceil=function(t,e){return t.x=Math.ceil(e.x),t.y=Math.ceil(e.y),t.z=Math.ceil(e.z),t.w=Math.ceil(e.w),t},e.floor=function(t,e){return t.x=Math.floor(e.x),t.y=Math.floor(e.y),t.z=Math.floor(e.z),t.w=Math.floor(e.w),t},e.min=function(t,e,n){return t.x=Math.min(e.x,n.x),t.y=Math.min(e.y,n.y),t.z=Math.min(e.z,n.z),t.w=Math.min(e.w,n.w),t},e.max=function(t,e,n){return t.x=Math.max(e.x,n.x),t.y=Math.max(e.y,n.y),t.z=Math.max(e.z,n.z),t.w=Math.max(e.w,n.w),t},e.round=function(t,e){return t.x=Math.round(e.x),t.y=Math.round(e.y),t.z=Math.round(e.z),t.w=Math.round(e.w),t},e.multiplyScalar=function(t,e,n){return t.x=e.x*n,t.y=e.y*n,t.z=e.z*n,t.w=e.w*n,t},e.scaleAndAdd=function(t,e,n,i){return t.x=e.x+n.x*i,t.y=e.y+n.y*i,t.z=e.z+n.z*i,t.w=e.w+n.w*i,t},e.distance=function(t,e){var n=e.x-t.x,i=e.y-t.y,r=e.z-t.z,a=e.w-t.w;return Math.sqrt(n*n+i*i+r*r+a*a)},e.squaredDistance=function(t,e){var n=e.x-t.x,i=e.y-t.y,r=e.z-t.z,a=e.w-t.w;return n*n+i*i+r*r+a*a},e.len=function(t){var e=t.x,n=t.y,i=t.z,r=t.w;return Math.sqrt(e*e+n*n+i*i+r*r)},e.lengthSqr=function(t){var e=t.x,n=t.y,i=t.z,r=t.w;return e*e+n*n+i*i+r*r},e.negate=function(t,e){return t.x=-e.x,t.y=-e.y,t.z=-e.z,t.w=-e.w,t},e.inverse=function(t,e){return t.x=1/e.x,t.y=1/e.y,t.z=1/e.z,t.w=1/e.w,t},e.inverseSafe=function(t,e){var n=e.x,i=e.y,r=e.z,a=e.w;return Math.abs(n)<Kn?t.x=0:t.x=1/n,Math.abs(i)<Kn?t.y=0:t.y=1/i,Math.abs(r)<Kn?t.z=0:t.z=1/r,Math.abs(a)<Kn?t.w=0:t.w=1/a,t},e.normalize=function(t,e){var n=e.x,i=e.y,r=e.z,a=e.w,s=n*n+i*i+r*r+a*a;return s>0&&(s=1/Math.sqrt(s),t.x=n*s,t.y=i*s,t.z=r*s,t.w=a*s),t},e.dot=function(t,e){return t.x*e.x+t.y*e.y+t.z*e.z+t.w*e.w},e.lerp=function(t,e,n,i){return t.x=e.x+i*(n.x-e.x),t.y=e.y+i*(n.y-e.y),t.z=e.z+i*(n.z-e.z),t.w=e.w+i*(n.w-e.w),t},e.random=function(t,e){e=e||1;var n=2*Jn()*Math.PI,i=2*Jn()-1,r=Math.sqrt(1-i*i);return t.x=r*Math.cos(n)*e,t.y=r*Math.sin(n)*e,t.z=i*e,t.w=0,t},e.transformMat4=function(t,e,n){var i=e.x,r=e.y,a=e.z,s=e.w;return t.x=n.m00*i+n.m04*r+n.m08*a+n.m12*s,t.y=n.m01*i+n.m05*r+n.m09*a+n.m13*s,t.z=n.m02*i+n.m06*r+n.m10*a+n.m14*s,t.w=n.m03*i+n.m07*r+n.m11*a+n.m15*s,t},e.transformAffine=function(t,e,n){var i=e.x,r=e.y,a=e.z,s=e.w;return t.x=n.m00*i+n.m01*r+n.m02*a+n.m03*s,t.y=n.m04*i+n.m05*r+n.m06*a+n.m07*s,t.x=n.m08*i+n.m09*r+n.m10*a+n.m11*s,t.w=e.w,t},e.transformQuat=function(t,e,n){var i=e.x,r=e.y,a=e.z,s=n.x,m=n.y,o=n.z,h=n.w,u=h*i+m*a-o*r,c=h*r+o*i-s*a,l=h*a+s*r-m*i,f=-s*i-m*r-o*a;return t.x=u*h+f*-s+c*-o-l*-m,t.y=c*h+f*-m+l*-s-u*-o,t.z=l*h+f*-o+u*-m-c*-s,t.w=e.w,t},e.toArray=function(t,e,n){return void 0===n&&(n=0),t[n+0]=e.x,t[n+1]=e.y,t[n+2]=e.z,t[n+3]=e.w,t},e.fromArray=function(t,e,n){return void 0===n&&(n=0),t.x=e[n+0],t.y=e[n+1],t.z=e[n+2],t.w=e[n+3],t},e.strictEquals=function(t,e){return t.x===e.x&&t.y===e.y&&t.z===e.z&&t.w===e.w},e.equals=function(t,e,n){return void 0===n&&(n=Kn),Math.abs(t.x-e.x)<=n*Math.max(1,Math.abs(t.x),Math.abs(e.x))&&Math.abs(t.y-e.y)<=n*Math.max(1,Math.abs(t.y),Math.abs(e.y))&&Math.abs(t.z-e.z)<=n*Math.max(1,Math.abs(t.z),Math.abs(e.z))&&Math.abs(t.w-e.w)<=n*Math.max(1,Math.abs(t.w),Math.abs(e.w))};var n=e.prototype;return n.clone=function(){return new e(this.x,this.y,this.z,this.w)},n.set=function(t,e,n,i){return t&&"object"==typeof t?(this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w):(this.x=t||0,this.y=e||0,this.z=n||0,this.w=i||0),this},n.equals=function(t,e){return void 0===e&&(e=Kn),Math.abs(this.x-t.x)<=e*Math.max(1,Math.abs(this.x),Math.abs(t.x))&&Math.abs(this.y-t.y)<=e*Math.max(1,Math.abs(this.y),Math.abs(t.y))&&Math.abs(this.z-t.z)<=e*Math.max(1,Math.abs(this.z),Math.abs(t.z))&&Math.abs(this.w-t.w)<=e*Math.max(1,Math.abs(this.w),Math.abs(t.w))},n.equals4f=function(t,e,n,i,r){return void 0===r&&(r=Kn),Math.abs(this.x-t)<=r*Math.max(1,Math.abs(this.x),Math.abs(t))&&Math.abs(this.y-e)<=r*Math.max(1,Math.abs(this.y),Math.abs(e))&&Math.abs(this.z-n)<=r*Math.max(1,Math.abs(this.z),Math.abs(n))&&Math.abs(this.w-i)<=r*Math.max(1,Math.abs(this.w),Math.abs(i))},n.strictEquals=function(t){return this.x===t.x&&this.y===t.y&&this.z===t.z&&this.w===t.w},n.strictEquals4f=function(t,e,n,i){return this.x===t&&this.y===e&&this.z===n&&this.w===i},n.lerp=function(t,e){var n=this.x,i=this.y,r=this.z,a=this.w;return this.x=n+e*(t.x-n),this.y=i+e*(t.y-i),this.z=r+e*(t.z-r),this.w=a+e*(t.w-a),this},n.toString=function(){return"("+this.x.toFixed(2)+", "+this.y.toFixed(2)+", "+this.z.toFixed(2)+", "+this.w.toFixed(2)+")"},n.clampf=function(t,e){return this.x=Zn(this.x,t.x,e.x),this.y=Zn(this.y,t.y,e.y),this.z=Zn(this.z,t.z,e.z),this.w=Zn(this.w,t.w,e.w),this},n.add=function(t){return this.x=this.x+t.x,this.y=this.y+t.y,this.z=this.z+t.z,this.w=this.w+t.w,this},n.add4f=function(t,e,n,i){return this.x=this.x+t,this.y=this.y+e,this.z=this.z+n,this.w=this.w+i,this},n.subtract=function(t){return this.x=this.x-t.x,this.y=this.y-t.y,this.z=this.z-t.z,this.w=this.w-t.w,this},n.subtract4f=function(t,e,n,i){return this.x=this.x-t,this.y=this.y-e,this.z=this.z-n,this.w=this.w-i,this},n.multiplyScalar=function(t){return"object"==typeof t&&console.warn("should use Vec4.multiply for vector * vector operation"),this.x=this.x*t,this.y=this.y*t,this.z=this.z*t,this.w=this.w*t,this},n.multiply=function(t){return"object"!=typeof t&&console.warn("should use Vec4.scale for vector * scalar operation"),this.x=this.x*t.x,this.y=this.y*t.y,this.z=this.z*t.z,this.w=this.w*t.w,this},n.multiply4f=function(t,e,n,i){return this.x=this.x*t,this.y=this.y*e,this.z=this.z*n,this.w=this.w*i,this},n.divide=function(t){return this.x=this.x/t.x,this.y=this.y/t.y,this.z=this.z/t.z,this.w=this.w/t.w,this},n.divide4f=function(t,e,n,i){return this.x=this.x/t,this.y=this.y/e,this.z=this.z/n,this.w=this.w/i,this},n.negative=function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},n.dot=function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},n.cross=function(t){var e=this.x,n=this.y,i=this.z,r=t.x,a=t.y,s=t.z;return this.x=n*s-i*a,this.y=i*r-e*s,this.z=e*a-n*r,this},n.length=function(){var t=this.x,e=this.y,n=this.z,i=this.w;return Math.sqrt(t*t+e*e+n*n+i*i)},n.lengthSqr=function(){var t=this.x,e=this.y,n=this.z,i=this.w;return t*t+e*e+n*n+i*i},n.normalize=function(){var t=this.x,e=this.y,n=this.z,i=this.w,r=t*t+e*e+n*n+i*i;return r>0&&(r=1/Math.sqrt(r),this.x=t*r,this.y=e*r,this.z=n*r,this.w=i*r),this},n.transformMat4=function(t){var e=this.x,n=this.y,i=this.z,r=this.w;return this.x=t.m00*e+t.m04*n+t.m08*i+t.m12*r,this.y=t.m01*e+t.m05*n+t.m09*i+t.m13*r,this.z=t.m02*e+t.m06*n+t.m10*i+t.m14*r,this.w=t.m03*e+t.m07*n+t.m11*i+t.m15*r,this},e}(Wt));function dr(t,e,n,i){return new pr(t,e,n,i)}pr.ZERO=Object.freeze(new pr(0,0,0,0)),pr.ONE=Object.freeze(new pr(1,1,1,1)),pr.NEG_ONE=Object.freeze(new pr(-1,-1,-1,-1)),Ce.fastDefine("cc.Vec4",pr,{x:0,y:0,z:0,w:0}),x.Vec4=pr,x.v4=dr;var vr=t("a2",function(t){function e(e,n,i,r,a,s,m,o,h){var u;return void 0===e&&(e=1),void 0===n&&(n=0),void 0===i&&(i=0),void 0===r&&(r=0),void 0===a&&(a=1),void 0===s&&(s=0),void 0===m&&(m=0),void 0===o&&(o=0),void 0===h&&(h=1),u=t.call(this)||this,"object"==typeof e?(u.m00=e.m00,u.m01=e.m01,u.m02=e.m02,u.m03=e.m03,u.m04=e.m04,u.m05=e.m05,u.m06=e.m06,u.m07=e.m07,u.m08=e.m08):(u.m00=e,u.m01=n,u.m02=i,u.m03=r,u.m04=a,u.m05=s,u.m06=m,u.m07=o,u.m08=h),u}r(e,t),e.clone=function(t){return new e(t.m00,t.m01,t.m02,t.m03,t.m04,t.m05,t.m06,t.m07,t.m08)},e.copy=function(t,e){return t.m00=e.m00,t.m01=e.m01,t.m02=e.m02,t.m03=e.m03,t.m04=e.m04,t.m05=e.m05,t.m06=e.m06,t.m07=e.m07,t.m08=e.m08,t},e.set=function(t,e,n,i,r,a,s,m,o,h){return t.m00=e,t.m01=n,t.m02=i,t.m03=r,t.m04=a,t.m05=s,t.m06=m,t.m07=o,t.m08=h,t},e.identity=function(t){return t.m00=1,t.m01=0,t.m02=0,t.m03=0,t.m04=1,t.m05=0,t.m06=0,t.m07=0,t.m08=1,t},e.transpose=function(t,e){if(t===e){var n=e.m01,i=e.m02,r=e.m05;t.m01=e.m03,t.m02=e.m06,t.m03=n,t.m05=e.m07,t.m06=i,t.m07=r}else t.m00=e.m00,t.m01=e.m03,t.m02=e.m06,t.m03=e.m01,t.m04=e.m04,t.m05=e.m07,t.m06=e.m02,t.m07=e.m05,t.m08=e.m08;return t},e.invert=function(t,e){var n=e.m00,i=e.m01,r=e.m02,a=e.m03,s=e.m04,m=e.m05,o=e.m06,h=e.m07,u=e.m08,c=u*s-m*h,l=-u*a+m*o,f=h*a-s*o,y=n*c+i*l+r*f;return 0===y?(t.m00=0,t.m01=0,t.m02=0,t.m03=0,t.m04=0,t.m05=0,t.m06=0,t.m07=0,t.m08=0,t):(y=1/y,t.m00=c*y,t.m01=(-u*i+r*h)*y,t.m02=(m*i-r*s)*y,t.m03=l*y,t.m04=(u*n-r*o)*y,t.m05=(-m*n+r*a)*y,t.m06=f*y,t.m07=(-h*n+i*o)*y,t.m08=(s*n-i*a)*y,t)},e.determinant=function(t){var e=t.m00,n=t.m01,i=t.m02,r=t.m03,a=t.m04,s=t.m05,m=t.m06,o=t.m07,h=t.m08;return e*(h*a-s*o)+n*(-h*r+s*m)+i*(o*r-a*m)},e.multiply=function(t,e,n){var i=e.m00,r=e.m01,a=e.m02,s=e.m03,m=e.m04,o=e.m05,h=e.m06,u=e.m07,c=e.m08,l=n.m00,f=n.m01,y=n.m02,p=n.m03,d=n.m04,v=n.m05,x=n.m06,b=n.m07,g=n.m08;return t.m00=l*i+f*s+y*h,t.m01=l*r+f*m+y*u,t.m02=l*a+f*o+y*c,t.m03=p*i+d*s+v*h,t.m04=p*r+d*m+v*u,t.m05=p*a+d*o+v*c,t.m06=x*i+b*s+g*h,t.m07=x*r+b*m+g*u,t.m08=x*a+b*o+g*c,t},e.multiplyMat4=function(t,e,n){var i=e.m00,r=e.m01,a=e.m02,s=e.m03,m=e.m04,o=e.m05,h=e.m06,u=e.m07,c=e.m08,l=n.m00,f=n.m01,y=n.m02,p=n.m04,d=n.m05,v=n.m06,x=n.m08,b=n.m09,g=n.m10;return t.m00=l*i+f*s+y*h,t.m01=l*r+f*m+y*u,t.m02=l*a+f*o+y*c,t.m03=p*i+d*s+v*h,t.m04=p*r+d*m+v*u,t.m05=p*a+d*o+v*c,t.m06=x*i+b*s+g*h,t.m07=x*r+b*m+g*u,t.m08=x*a+b*o+g*c,t},e.transform=function(t,e,n){var i=e.m00,r=e.m01,a=e.m02,s=e.m03,m=e.m04,o=e.m05,h=e.m06,u=e.m07,c=e.m08,l=n.x,f=n.y;return t.m00=i,t.m01=r,t.m02=a,t.m03=s,t.m04=m,t.m05=o,t.m06=l*i+f*s+h,t.m07=l*r+f*m+u,t.m08=l*a+f*o+c,t},e.scale=function(t,e,n){var i=n.x,r=n.y;return t.m00=i*e.m00,t.m01=i*e.m01,t.m02=i*e.m02,t.m03=r*e.m03,t.m04=r*e.m04,t.m05=r*e.m05,t.m06=e.m06,t.m07=e.m07,t.m08=e.m08,t},e.rotate=function(t,e,n){var i=e.m00,r=e.m01,a=e.m02,s=e.m03,m=e.m04,o=e.m05,h=e.m06,u=e.m07,c=e.m08,l=Math.sin(n),f=Math.cos(n);return t.m00=f*i+l*s,t.m01=f*r+l*m,t.m02=f*a+l*o,t.m03=f*s-l*i,t.m04=f*m-l*r,t.m05=f*o-l*a,t.m06=h,t.m07=u,t.m08=c,t},e.fromMat4=function(t,e){return t.m00=e.m00,t.m01=e.m01,t.m02=e.m02,t.m03=e.m04,t.m04=e.m05,t.m05=e.m06,t.m06=e.m08,t.m07=e.m09,t.m08=e.m10,t},e.fromViewUp=function(t,n,i){return cr.lengthSqr(n)<Kn*Kn?(e.identity(t),t):(i=i||cr.UNIT_Y,cr.normalize(xr,cr.cross(xr,i,n)),cr.lengthSqr(xr)<Kn*Kn?(e.identity(t),t):(cr.cross(br,n,xr),e.set(t,xr.x,xr.y,xr.z,br.x,br.y,br.z,n.x,n.y,n.z),t))},e.fromTranslation=function(t,e){return t.m00=1,t.m01=0,t.m02=0,t.m03=0,t.m04=1,t.m05=0,t.m06=e.x,t.m07=e.y,t.m08=1,t},e.fromScaling=function(t,e){return t.m00=e.x,t.m01=0,t.m02=0,t.m03=0,t.m04=e.y,t.m05=0,t.m06=0,t.m07=0,t.m08=1,t},e.fromRotation=function(t,e){var n=Math.sin(e),i=Math.cos(e);return t.m00=i,t.m01=n,t.m02=0,t.m03=-n,t.m04=i,t.m05=0,t.m06=0,t.m07=0,t.m08=1,t},e.fromQuat=function(t,e){var n=e.x,i=e.y,r=e.z,a=e.w,s=n+n,m=i+i,o=r+r,h=n*s,u=i*s,c=i*m,l=r*s,f=r*m,y=r*o,p=a*s,d=a*m,v=a*o;return t.m00=1-c-y,t.m03=u-v,t.m06=l+d,t.m01=u+v,t.m04=1-h-y,t.m07=f-p,t.m02=l-d,t.m05=f+p,t.m08=1-h-c,t},e.inverseTransposeMat4=function(t,e){var n=e.m00,i=e.m01,r=e.m02,a=e.m03,s=e.m04,m=e.m05,o=e.m06,h=e.m07,u=e.m08,c=e.m09,l=e.m10,f=e.m11,y=e.m12,p=e.m13,d=e.m14,v=e.m15,x=n*m-i*s,b=n*o-r*s,g=n*h-a*s,_=i*o-r*m,w=i*h-a*m,M=r*h-a*o,z=u*p-c*y,E=u*d-l*y,A=u*v-f*y,O=c*d-l*p,N=c*v-f*p,S=l*v-f*d,I=x*S-b*N+g*O+_*A-w*E+M*z;return I?(I=1/I,t.m00=(m*S-o*N+h*O)*I,t.m01=(o*A-s*S-h*E)*I,t.m02=(s*N-m*A+h*z)*I,t.m03=(r*N-i*S-a*O)*I,t.m04=(n*S-r*A+a*E)*I,t.m05=(i*A-n*N-a*z)*I,t.m06=(p*M-d*w+v*_)*I,t.m07=(d*g-y*M-v*b)*I,t.m08=(y*w-p*g+v*x)*I,t):null},e.toArray=function(t,e,n){return void 0===n&&(n=0),t[n+0]=e.m00,t[n+1]=e.m01,t[n+2]=e.m02,t[n+3]=e.m03,t[n+4]=e.m04,t[n+5]=e.m05,t[n+6]=e.m06,t[n+7]=e.m07,t[n+8]=e.m08,t},e.fromArray=function(t,e,n){return void 0===n&&(n=0),t.m00=e[n+0],t.m01=e[n+1],t.m02=e[n+2],t.m03=e[n+3],t.m04=e[n+4],t.m05=e[n+5],t.m06=e[n+6],t.m07=e[n+7],t.m08=e[n+8],t},e.add=function(t,e,n){return t.m00=e.m00+n.m00,t.m01=e.m01+n.m01,t.m02=e.m02+n.m02,t.m03=e.m03+n.m03,t.m04=e.m04+n.m04,t.m05=e.m05+n.m05,t.m06=e.m06+n.m06,t.m07=e.m07+n.m07,t.m08=e.m08+n.m08,t},e.subtract=function(t,e,n){return t.m00=e.m00-n.m00,t.m01=e.m01-n.m01,t.m02=e.m02-n.m02,t.m03=e.m03-n.m03,t.m04=e.m04-n.m04,t.m05=e.m05-n.m05,t.m06=e.m06-n.m06,t.m07=e.m07-n.m07,t.m08=e.m08-n.m08,t},e.multiplyScalar=function(t,e,n){return t.m00=e.m00*n,t.m01=e.m01*n,t.m02=e.m02*n,t.m03=e.m03*n,t.m04=e.m04*n,t.m05=e.m05*n,t.m06=e.m06*n,t.m07=e.m07*n,t.m08=e.m08*n,t},e.multiplyScalarAndAdd=function(t,e,n,i){return t.m00=n.m00*i+e.m00,t.m01=n.m01*i+e.m01,t.m02=n.m02*i+e.m02,t.m03=n.m03*i+e.m03,t.m04=n.m04*i+e.m04,t.m05=n.m05*i+e.m05,t.m06=n.m06*i+e.m06,t.m07=n.m07*i+e.m07,t.m08=n.m08*i+e.m08,t},e.strictEquals=function(t,e){return t.m00===e.m00&&t.m01===e.m01&&t.m02===e.m02&&t.m03===e.m03&&t.m04===e.m04&&t.m05===e.m05&&t.m06===e.m06&&t.m07===e.m07&&t.m08===e.m08},e.equals=function(t,e,n){return void 0===n&&(n=Kn),Math.abs(t.m00-e.m00)<=n*Math.max(1,Math.abs(t.m00),Math.abs(e.m00))&&Math.abs(t.m01-e.m01)<=n*Math.max(1,Math.abs(t.m01),Math.abs(e.m01))&&Math.abs(t.m02-e.m02)<=n*Math.max(1,Math.abs(t.m02),Math.abs(e.m02))&&Math.abs(t.m03-e.m03)<=n*Math.max(1,Math.abs(t.m03),Math.abs(e.m03))&&Math.abs(t.m04-e.m04)<=n*Math.max(1,Math.abs(t.m04),Math.abs(e.m04))&&Math.abs(t.m05-e.m05)<=n*Math.max(1,Math.abs(t.m05),Math.abs(e.m05))&&Math.abs(t.m06-e.m06)<=n*Math.max(1,Math.abs(t.m06),Math.abs(e.m06))&&Math.abs(t.m07-e.m07)<=n*Math.max(1,Math.abs(t.m07),Math.abs(e.m07))&&Math.abs(t.m08-e.m08)<=n*Math.max(1,Math.abs(t.m08),Math.abs(e.m08))};var n=e.prototype;return n.clone=function(){var t=this;return new e(t.m00,t.m01,t.m02,t.m03,t.m04,t.m05,t.m06,t.m07,t.m08)},n.set=function(t,e,n,i,r,a,s,m,o){return void 0===t&&(t=1),void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),void 0===r&&(r=1),void 0===a&&(a=0),void 0===s&&(s=0),void 0===m&&(m=0),void 0===o&&(o=1),"object"==typeof t?(this.m00=t.m00,this.m01=t.m01,this.m02=t.m02,this.m03=t.m03,this.m04=t.m04,this.m05=t.m05,this.m06=t.m06,this.m07=t.m07,this.m08=t.m08):(this.m00=t,this.m01=e,this.m02=n,this.m03=i,this.m04=r,this.m05=a,this.m06=s,this.m07=m,this.m08=o),this},n.equals=function(t,e){return void 0===e&&(e=Kn),Math.abs(this.m00-t.m00)<=e*Math.max(1,Math.abs(this.m00),Math.abs(t.m00))&&Math.abs(this.m01-t.m01)<=e*Math.max(1,Math.abs(this.m01),Math.abs(t.m01))&&Math.abs(this.m02-t.m02)<=e*Math.max(1,Math.abs(this.m02),Math.abs(t.m02))&&Math.abs(this.m03-t.m03)<=e*Math.max(1,Math.abs(this.m03),Math.abs(t.m03))&&Math.abs(this.m04-t.m04)<=e*Math.max(1,Math.abs(this.m04),Math.abs(t.m04))&&Math.abs(this.m05-t.m05)<=e*Math.max(1,Math.abs(this.m05),Math.abs(t.m05))&&Math.abs(this.m06-t.m06)<=e*Math.max(1,Math.abs(this.m06),Math.abs(t.m06))&&Math.abs(this.m07-t.m07)<=e*Math.max(1,Math.abs(this.m07),Math.abs(t.m07))&&Math.abs(this.m08-t.m08)<=e*Math.max(1,Math.abs(this.m08),Math.abs(t.m08))},n.strictEquals=function(t){return this.m00===t.m00&&this.m01===t.m01&&this.m02===t.m02&&this.m03===t.m03&&this.m04===t.m04&&this.m05===t.m05&&this.m06===t.m06&&this.m07===t.m07&&this.m08===t.m08},n.toString=function(){var t=this;return"[\n"+t.m00+", "+t.m01+", "+t.m02+",\n"+t.m03+",\n"+t.m04+", "+t.m05+",\n"+t.m06+", "+t.m07+",\n"+t.m08+"\n]"},n.identity=function(){return this.m00=1,this.m01=0,this.m02=0,this.m03=0,this.m04=1,this.m05=0,this.m06=0,this.m07=0,this.m08=1,this},n.transpose=function(){var t=this.m01,e=this.m02,n=this.m05;return this.m01=this.m03,this.m02=this.m06,this.m03=t,this.m05=this.m07,this.m06=e,this.m07=n,this},n.invert=function(){var t=this.m00,e=this.m01,n=this.m02,i=this.m03,r=this.m04,a=this.m05,s=this.m06,m=this.m07,o=this.m08,h=o*r-a*m,u=-o*i+a*s,c=m*i-r*s,l=t*h+e*u+n*c;return 0===l?(this.set(0,0,0,0,0,0,0,0,0),this):(l=1/l,this.m00=h*l,this.m01=(-o*e+n*m)*l,this.m02=(a*e-n*r)*l,this.m03=u*l,this.m04=(o*t-n*s)*l,this.m05=(-a*t+n*i)*l,this.m06=c*l,this.m07=(-m*t+e*s)*l,this.m08=(r*t-e*i)*l,this)},n.determinant=function(){var t=this.m00,e=this.m01,n=this.m02,i=this.m03,r=this.m04,a=this.m05,s=this.m06,m=this.m07,o=this.m08;return t*(o*r-a*m)+e*(-o*i+a*s)+n*(m*i-r*s)},n.add=function(t){return this.m00=this.m00+t.m00,this.m01=this.m01+t.m01,this.m02=this.m02+t.m02,this.m03=this.m03+t.m03,this.m04=this.m04+t.m04,this.m05=this.m05+t.m05,this.m06=this.m06+t.m06,this.m07=this.m07+t.m07,this.m08=this.m08+t.m08,this},n.subtract=function(t){return this.m00=this.m00-t.m00,this.m01=this.m01-t.m01,this.m02=this.m02-t.m02,this.m03=this.m03-t.m03,this.m04=this.m04-t.m04,this.m05=this.m05-t.m05,this.m06=this.m06-t.m06,this.m07=this.m07-t.m07,this.m08=this.m08-t.m08,this},n.multiply=function(t){var e=this.m00,n=this.m01,i=this.m02,r=this.m03,a=this.m04,s=this.m05,m=this.m06,o=this.m07,h=this.m08,u=t.m00,c=t.m01,l=t.m02,f=t.m03,y=t.m04,p=t.m05,d=t.m06,v=t.m07,x=t.m08;return this.m00=u*e+c*r+l*m,this.m01=u*n+c*a+l*o,this.m02=u*i+c*s+l*h,this.m03=f*e+y*r+p*m,this.m04=f*n+y*a+p*o,this.m05=f*i+y*s+p*h,this.m06=d*e+v*r+x*m,this.m07=d*n+v*a+x*o,this.m08=d*i+v*s+x*h,this},n.multiplyScalar=function(t){return this.m00=this.m00*t,this.m01=this.m01*t,this.m02=this.m02*t,this.m03=this.m03*t,this.m04=this.m04*t,this.m05=this.m05*t,this.m06=this.m06*t,this.m07=this.m07*t,this.m08=this.m08*t,this},n.scale=function(t){var e=t.x,n=t.y;return this.m00=e*this.m00,this.m01=e*this.m01,this.m02=e*this.m02,this.m03=n*this.m03,this.m04=n*this.m04,this.m05=n*this.m05,this.m06=this.m06,this.m07=this.m07,this.m08=this.m08,this},n.rotate=function(t){var e=this.m00,n=this.m01,i=this.m02,r=this.m03,a=this.m04,s=this.m05,m=this.m06,o=this.m07,h=this.m08,u=Math.sin(t),c=Math.cos(t);return this.m00=c*e+u*r,this.m01=c*n+u*a,this.m02=c*i+u*s,this.m03=c*r-u*e,this.m04=c*a-u*n,this.m05=c*s-u*i,this.m06=m,this.m07=o,this.m08=h,this},n.fromQuat=function(t){var e=t.x,n=t.y,i=t.z,r=t.w,a=e+e,s=n+n,m=i+i,o=e*a,h=n*a,u=n*s,c=i*a,l=i*s,f=i*m,y=r*a,p=r*s,d=r*m;return this.m00=1-u-f,this.m03=h-d,this.m06=c+p,this.m01=h+d,this.m04=1-o-f,this.m07=l-y,this.m02=c-p,this.m05=l+y,this.m08=1-o-u,this},e}(Wt));vr.IDENTITY=Object.freeze(new vr);var xr=new cr,br=new cr;Ce.fastDefine("cc.Mat3",vr,{m00:1,m01:0,m02:0,m03:0,m04:1,m05:0,m06:0,m07:0,m08:1}),x.Mat3=vr;var gr=t("a0",function(t){function e(e,n,i,r){var a;return a=t.call(this)||this,e&&"object"==typeof e?(a.x=e.x,a.y=e.y,a.z=e.z,a.w=e.w):(a.x=e||0,a.y=n||0,a.z=i||0,a.w=null!=r?r:1),a}r(e,t),e.clone=function(t){return new e(t.x,t.y,t.z,t.w)},e.copy=function(t,e){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t},e.set=function(t,e,n,i,r){return t.x=e,t.y=n,t.z=i,t.w=r,t},e.identity=function(t){return t.x=0,t.y=0,t.z=0,t.w=1,t},e.rotationTo=function(t,n,i){var r=cr.dot(n,i);return r<-.999999?(cr.cross(Mr,cr.UNIT_X,n),Mr.length()<1e-6&&cr.cross(Mr,cr.UNIT_Y,n),cr.normalize(Mr,Mr),e.fromAxisAngle(t,Mr,Math.PI),t):r>.999999?(t.x=0,t.y=0,t.z=0,t.w=1,t):(cr.cross(Mr,n,i),t.x=Mr.x,t.y=Mr.y,t.z=Mr.z,t.w=1+r,e.normalize(t,t))},e.getAxisAngle=function(t,e){var n=2*Math.acos(e.w),i=Math.sin(n/2);return 0!==i?(t.x=e.x/i,t.y=e.y/i,t.z=e.z/i):(t.x=1,t.y=0,t.z=0),n},e.multiply=function(t,e,n){var i=e.x*n.w+e.w*n.x+e.y*n.z-e.z*n.y,r=e.y*n.w+e.w*n.y+e.z*n.x-e.x*n.z,a=e.z*n.w+e.w*n.z+e.x*n.y-e.y*n.x,s=e.w*n.w-e.x*n.x-e.y*n.y-e.z*n.z;return t.x=i,t.y=r,t.z=a,t.w=s,t},e.multiplyScalar=function(t,e,n){return t.x=e.x*n,t.y=e.y*n,t.z=e.z*n,t.w=e.w*n,t},e.scaleAndAdd=function(t,e,n,i){return t.x=e.x+n.x*i,t.y=e.y+n.y*i,t.z=e.z+n.z*i,t.w=e.w+n.w*i,t},e.rotateX=function(t,e,n){n*=.5;var i=Math.sin(n),r=Math.cos(n),a=e.x,s=e.y,m=e.z,o=e.w;return t.x=a*r+o*i,t.y=s*r+m*i,t.z=m*r-s*i,t.w=o*r-a*i,t},e.rotateY=function(t,e,n){n*=.5;var i=Math.sin(n),r=Math.cos(n),a=e.x,s=e.y,m=e.z,o=e.w;return t.x=a*r-m*i,t.y=s*r+o*i,t.z=m*r+a*i,t.w=o*r-s*i,t},e.rotateZ=function(t,e,n){n*=.5;var i=Math.sin(n),r=Math.cos(n),a=e.x,s=e.y,m=e.z,o=e.w;return t.x=a*r+s*i,t.y=s*r-a*i,t.z=m*r+o*i,t.w=o*r-m*i,t},e.rotateAround=function(t,n,i,r){return e.invert(_r,n),cr.transformQuat(Mr,i,_r),e.fromAxisAngle(_r,Mr,r),e.multiply(t,n,_r),t},e.rotateAroundLocal=function(t,n,i,r){return e.fromAxisAngle(_r,i,r),e.multiply(t,n,_r),t},e.calculateW=function(t,e){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=Math.sqrt(Math.abs(1-e.x*e.x-e.y*e.y-e.z*e.z)),t},e.dot=function(t,e){return t.x*e.x+t.y*e.y+t.z*e.z+t.w*e.w},e.lerp=function(t,e,n,i){return t.x=e.x+i*(n.x-e.x),t.y=e.y+i*(n.y-e.y),t.z=e.z+i*(n.z-e.z),t.w=e.w+i*(n.w-e.w),t},e.slerp=function(t,e,n,i){var r=0,a=0,s=n.x,m=n.y,o=n.z,h=n.w,u=e.x*n.x+e.y*n.y+e.z*n.z+e.w*n.w;if(u<0&&(u=-u,s=-s,m=-m,o=-o,h=-h),1-u>1e-6){var c=Math.acos(u),l=Math.sin(c);r=Math.sin((1-i)*c)/l,a=Math.sin(i*c)/l}else r=1-i,a=i;return t.x=r*e.x+a*s,t.y=r*e.y+a*m,t.z=r*e.z+a*o,t.w=r*e.w+a*h,t},e.sqlerp=function(t,n,i,r,a,s){return e.slerp(_r,n,a,s),e.slerp(wr,i,r,s),e.slerp(t,_r,wr,2*s*(1-s)),t},e.invert=function(t,e){var n=e.x*e.x+e.y*e.y+e.z*e.z+e.w*e.w,i=n?1/n:0;return t.x=-e.x*i,t.y=-e.y*i,t.z=-e.z*i,t.w=e.w*i,t},e.conjugate=function(t,e){return t.x=-e.x,t.y=-e.y,t.z=-e.z,t.w=e.w,t},e.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y+t.z*t.z+t.w*t.w)},e.lengthSqr=function(t){return t.x*t.x+t.y*t.y+t.z*t.z+t.w*t.w},e.normalize=function(t,e){var n=e.x*e.x+e.y*e.y+e.z*e.z+e.w*e.w;return n>0&&(n=1/Math.sqrt(n),t.x=e.x*n,t.y=e.y*n,t.z=e.z*n,t.w=e.w*n),t},e.fromAxes=function(t,n,i,r){return vr.set(zr,n.x,n.y,n.z,i.x,i.y,i.z,r.x,r.y,r.z),e.normalize(t,e.fromMat3(t,zr))},e.fromViewUp=function(t,n,i){return vr.fromViewUp(zr,n,i),e.normalize(t,e.fromMat3(t,zr))},e.fromAxisAngle=function(t,e,n){n*=.5;var i=Math.sin(n);return t.x=i*e.x,t.y=i*e.y,t.z=i*e.z,t.w=Math.cos(n),t},e.fromMat3=function(t,e){var n=e.m00,i=e.m03,r=e.m06,a=e.m01,s=e.m04,m=e.m07,o=e.m02,h=e.m05,u=e.m08,c=n+s+u;if(c>0){var l=.5/Math.sqrt(c+1);t.w=.25/l,t.x=(h-m)*l,t.y=(r-o)*l,t.z=(a-i)*l}else if(n>s&&n>u){var f=2*Math.sqrt(1+n-s-u);t.w=(h-m)/f,t.x=.25*f,t.y=(i+a)/f,t.z=(r+o)/f}else if(s>u){var y=2*Math.sqrt(1+s-n-u);t.w=(r-o)/y,t.x=(i+a)/y,t.y=.25*y,t.z=(m+h)/y}else{var p=2*Math.sqrt(1+u-n-s);t.w=(a-i)/p,t.x=(r+o)/p,t.y=(m+h)/p,t.z=.25*p}return t},e.fromEuler=function(t,e,n,i){e*=Er,n*=Er,i*=Er;var r=Math.sin(e),a=Math.cos(e),s=Math.sin(n),m=Math.cos(n),o=Math.sin(i),h=Math.cos(i);return t.x=r*m*h+a*s*o,t.y=a*s*h+r*m*o,t.z=a*m*o-r*s*h,t.w=a*m*h-r*s*o,t},e.fromAngleZ=function(t,e){return e*=Er,t.x=t.y=0,t.z=Math.sin(e),t.w=Math.cos(e),t},e.toAxisX=function(t,e){var n=2*e.y,i=2*e.z;return t.x=1-n*e.y-i*e.z,t.y=n*e.x+i*e.w,t.z=i*e.x+n*e.w,t},e.toAxisY=function(t,e){var n=2*e.x,i=2*e.y,r=2*e.z;return t.x=i*e.x-r*e.w,t.y=1-n*e.x-r*e.z,t.z=r*e.y+n*e.w,t},e.toAxisZ=function(t,e){var n=2*e.x,i=2*e.y,r=2*e.z;return t.x=r*e.x-i*e.w,t.y=r*e.y-n*e.w,t.z=1-n*e.x-i*e.y,t},e.toEuler=function(t,e,n){var i=e.x,r=e.y,a=e.z,s=e.w,m=0,o=0,h=0,u=i*r+a*s;if(u>.499999)m=0,o=$n(2*Math.atan2(i,s)),h=90;else if(u<-.499999)m=0,o=-$n(2*Math.atan2(i,s)),h=-90;else{var c=i*i,l=r*r,f=a*a;m=$n(Math.atan2(2*i*s-2*r*a,1-2*c-2*f)),o=$n(Math.atan2(2*r*s-2*i*a,1-2*l-2*f)),h=$n(Math.asin(2*u)),n&&(m=-180*Math.sign(m+1e-6)+m,o=-180*Math.sign(o+1e-6)+o,h=180*Math.sign(h+1e-6)-h)}return t.x=m,t.y=o,t.z=h,t},e.toArray=function(t,e,n){return void 0===n&&(n=0),t[n+0]=e.x,t[n+1]=e.y,t[n+2]=e.z,t[n+3]=e.w,t},e.fromArray=function(t,e,n){return void 0===n&&(n=0),t.x=e[n+0],t.y=e[n+1],t.z=e[n+2],t.w=e[n+3],t},e.strictEquals=function(t,e){return t.x===e.x&&t.y===e.y&&t.z===e.z&&t.w===e.w},e.equals=function(t,e,n){return void 0===n&&(n=Kn),Math.abs(t.x-e.x)<=n*Math.max(1,Math.abs(t.x),Math.abs(e.x))&&Math.abs(t.y-e.y)<=n*Math.max(1,Math.abs(t.y),Math.abs(e.y))&&Math.abs(t.z-e.z)<=n*Math.max(1,Math.abs(t.z),Math.abs(e.z))&&Math.abs(t.w-e.w)<=n*Math.max(1,Math.abs(t.w),Math.abs(e.w))};var n=e.prototype;return n.clone=function(){return new e(this.x,this.y,this.z,this.w)},n.set=function(t,e,n,i){return t&&"object"==typeof t?(this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w):(this.x=t||0,this.y=e||0,this.z=n||0,this.w=null!=i?i:1),this},n.equals=function(t,e){return void 0===e&&(e=Kn),Math.abs(this.x-t.x)<=e*Math.max(1,Math.abs(this.x),Math.abs(t.x))&&Math.abs(this.y-t.y)<=e*Math.max(1,Math.abs(this.y),Math.abs(t.y))&&Math.abs(this.z-t.z)<=e*Math.max(1,Math.abs(this.z),Math.abs(t.z))&&Math.abs(this.w-t.w)<=e*Math.max(1,Math.abs(this.w),Math.abs(t.w))},n.strictEquals=function(t){return t&&this.x===t.x&&this.y===t.y&&this.z===t.z&&this.w===t.w},n.getEulerAngles=function(t){return e.toEuler(t,this)},n.lerp=function(t,e){return this.x=this.x+e*(t.x-this.x),this.y=this.y+e*(t.y-this.y),this.z=this.z+e*(t.z-this.z),this.w=this.w+e*(t.w-this.w),this},n.slerp=function(t,n){return e.slerp(this,this,t,n)},n.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},n.lengthSqr=function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},e}(Wt));gr.IDENTITY=Object.freeze(new gr);var _r=new gr,wr=new gr,Mr=new cr,zr=new vr,Er=.5*Math.PI/180;function Ar(t,e,n,i){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=1),new gr(t,e,n,i)}Ce.fastDefine("cc.Quat",gr,{x:0,y:0,z:0,w:1}),x.Quat=gr,x.quat=Ar;var Or=t("bd",Object.freeze([Object.freeze([1,0,0,1]),Object.freeze([0,1,-1,0]),Object.freeze([-1,0,0,-1]),Object.freeze([0,-1,1,0])])),Nr=t("a3",function(t){function e(e,n,i,r,a,s,m,o,h,u,c,l,f,y,p,d){var v;return void 0===e&&(e=1),void 0===n&&(n=0),void 0===i&&(i=0),void 0===r&&(r=0),void 0===a&&(a=0),void 0===s&&(s=1),void 0===m&&(m=0),void 0===o&&(o=0),void 0===h&&(h=0),void 0===u&&(u=0),void 0===c&&(c=1),void 0===l&&(l=0),void 0===f&&(f=0),void 0===y&&(y=0),void 0===p&&(p=0),void 0===d&&(d=1),(v=t.call(this)||this).m00=void 0,v.m01=void 0,v.m02=void 0,v.m03=void 0,v.m04=void 0,v.m05=void 0,v.m06=void 0,v.m07=void 0,v.m08=void 0,v.m09=void 0,v.m10=void 0,v.m11=void 0,v.m12=void 0,v.m13=void 0,v.m14=void 0,v.m15=void 0,"object"==typeof e?(v.m00=e.m00,v.m01=e.m01,v.m02=e.m02,v.m03=e.m03,v.m04=e.m04,v.m05=e.m05,v.m06=e.m06,v.m07=e.m07,v.m08=e.m08,v.m09=e.m09,v.m10=e.m10,v.m11=e.m11,v.m12=e.m12,v.m13=e.m13,v.m14=e.m14,v.m15=e.m15):(v.m00=e,v.m01=n,v.m02=i,v.m03=r,v.m04=a,v.m05=s,v.m06=m,v.m07=o,v.m08=h,v.m09=u,v.m10=c,v.m11=l,v.m12=f,v.m13=y,v.m14=p,v.m15=d),v}r(e,t),e.clone=function(t){return new e(t.m00,t.m01,t.m02,t.m03,t.m04,t.m05,t.m06,t.m07,t.m08,t.m09,t.m10,t.m11,t.m12,t.m13,t.m14,t.m15)},e.copy=function(t,e){return t.m00=e.m00,t.m01=e.m01,t.m02=e.m02,t.m03=e.m03,t.m04=e.m04,t.m05=e.m05,t.m06=e.m06,t.m07=e.m07,t.m08=e.m08,t.m09=e.m09,t.m10=e.m10,t.m11=e.m11,t.m12=e.m12,t.m13=e.m13,t.m14=e.m14,t.m15=e.m15,t},e.set=function(t,e,n,i,r,a,s,m,o,h,u,c,l,f,y,p,d){return t.m00=e,t.m01=n,t.m02=i,t.m03=r,t.m04=a,t.m05=s,t.m06=m,t.m07=o,t.m08=h,t.m09=u,t.m10=c,t.m11=l,t.m12=f,t.m13=y,t.m14=p,t.m15=d,t},e.identity=function(t){return t.m00=1,t.m01=0,t.m02=0,t.m03=0,t.m04=0,t.m05=1,t.m06=0,t.m07=0,t.m08=0,t.m09=0,t.m10=1,t.m11=0,t.m12=0,t.m13=0,t.m14=0,t.m15=1,t},e.transpose=function(t,e){if(t===e){var n=e.m01,i=e.m02,r=e.m03,a=e.m06,s=e.m07,m=e.m11;t.m01=e.m04,t.m02=e.m08,t.m03=e.m12,t.m04=n,t.m06=e.m09,t.m07=e.m13,t.m08=i,t.m09=a,t.m11=e.m14,t.m12=r,t.m13=s,t.m14=m}else t.m00=e.m00,t.m01=e.m04,t.m02=e.m08,t.m03=e.m12,t.m04=e.m01,t.m05=e.m05,t.m06=e.m09,t.m07=e.m13,t.m08=e.m02,t.m09=e.m06,t.m10=e.m10,t.m11=e.m14,t.m12=e.m03,t.m13=e.m07,t.m14=e.m11,t.m15=e.m15;return t},e.invert=function(t,e){var n=e.m00,i=e.m01,r=e.m02,a=e.m03,s=e.m04,m=e.m05,o=e.m06,h=e.m07,u=e.m08,c=e.m09,l=e.m10,f=e.m11,y=e.m12,p=e.m13,d=e.m14,v=e.m15,x=n*m-i*s,b=n*o-r*s,g=n*h-a*s,_=i*o-r*m,w=i*h-a*m,M=r*h-a*o,z=u*p-c*y,E=u*d-l*y,A=u*v-f*y,O=c*d-l*p,N=c*v-f*p,S=l*v-f*d,I=x*S-b*N+g*O+_*A-w*E+M*z;return 0===I?(t.m00=0,t.m01=0,t.m02=0,t.m03=0,t.m04=0,t.m05=0,t.m06=0,t.m07=0,t.m08=0,t.m09=0,t.m10=0,t.m11=0,t.m12=0,t.m13=0,t.m14=0,t.m15=0,t):(I=1/I,t.m00=(m*S-o*N+h*O)*I,t.m01=(r*N-i*S-a*O)*I,t.m02=(p*M-d*w+v*_)*I,t.m03=(l*w-c*M-f*_)*I,t.m04=(o*A-s*S-h*E)*I,t.m05=(n*S-r*A+a*E)*I,t.m06=(d*g-y*M-v*b)*I,t.m07=(u*M-l*g+f*b)*I,t.m08=(s*N-m*A+h*z)*I,t.m09=(i*A-n*N-a*z)*I,t.m10=(y*w-p*g+v*x)*I,t.m11=(c*g-u*w-f*x)*I,t.m12=(m*E-s*O-o*z)*I,t.m13=(n*O-i*E+r*z)*I,t.m14=(p*b-y*_-d*x)*I,t.m15=(u*_-c*b+l*x)*I,t)},e.determinant=function(t){var e=t.m00,n=t.m01,i=t.m02,r=t.m03,a=t.m04,s=t.m05,m=t.m06,o=t.m07,h=t.m08,u=t.m09,c=t.m10,l=t.m11,f=t.m12,y=t.m13,p=t.m14,d=t.m15;return(e*s-n*a)*(c*d-l*p)-(e*m-i*a)*(u*d-l*y)+(e*o-r*a)*(u*p-c*y)+(n*m-i*s)*(h*d-l*f)-(n*o-r*s)*(h*p-c*f)+(i*o-r*m)*(h*y-u*f)},e.multiply=function(t,e,n){var i=e.m00,r=e.m01,a=e.m02,s=e.m03,m=e.m04,o=e.m05,h=e.m06,u=e.m07,c=e.m08,l=e.m09,f=e.m10,y=e.m11,p=e.m12,d=e.m13,v=e.m14,x=e.m15,b=n.m00,g=n.m01,_=n.m02,w=n.m03;return t.m00=b*i+g*m+_*c+w*p,t.m01=b*r+g*o+_*l+w*d,t.m02=b*a+g*h+_*f+w*v,t.m03=b*s+g*u+_*y+w*x,b=n.m04,g=n.m05,_=n.m06,w=n.m07,t.m04=b*i+g*m+_*c+w*p,t.m05=b*r+g*o+_*l+w*d,t.m06=b*a+g*h+_*f+w*v,t.m07=b*s+g*u+_*y+w*x,b=n.m08,g=n.m09,_=n.m10,w=n.m11,t.m08=b*i+g*m+_*c+w*p,t.m09=b*r+g*o+_*l+w*d,t.m10=b*a+g*h+_*f+w*v,t.m11=b*s+g*u+_*y+w*x,b=n.m12,g=n.m13,_=n.m14,w=n.m15,t.m12=b*i+g*m+_*c+w*p,t.m13=b*r+g*o+_*l+w*d,t.m14=b*a+g*h+_*f+w*v,t.m15=b*s+g*u+_*y+w*x,t},e.transform=function(t,e,n){var i=n.x,r=n.y,a=n.z;if(e===t)t.m12=e.m00*i+e.m04*r+e.m08*a+e.m12,t.m13=e.m01*i+e.m05*r+e.m09*a+e.m13,t.m14=e.m02*i+e.m06*r+e.m10*a+e.m14,t.m15=e.m03*i+e.m07*r+e.m11*a+e.m15;else{var s=e.m00,m=e.m01,o=e.m02,h=e.m03,u=e.m04,c=e.m05,l=e.m06,f=e.m07,y=e.m08,p=e.m09,d=e.m10,v=e.m11;e.m12,e.m13,e.m14,e.m15,t.m00=s,t.m01=m,t.m02=o,t.m03=h,t.m04=u,t.m05=c,t.m06=l,t.m07=f,t.m08=y,t.m09=p,t.m10=d,t.m11=v,t.m12=s*i+u*r+y*a+e.m12,t.m13=m*i+c*r+p*a+e.m13,t.m14=o*i+l*r+d*a+e.m14,t.m15=h*i+f*r+v*a+e.m15}return t},e.translate=function(t,e,n){return console.warn("function changed"),e===t?(t.m12+=n.x,t.m13+=n.y,t.m14+=n.z):(t.m00=e.m00,t.m01=e.m01,t.m02=e.m02,t.m03=e.m03,t.m04=e.m04,t.m05=e.m05,t.m06=e.m06,t.m07=e.m07,t.m08=e.m08,t.m09=e.m09,t.m10=e.m10,t.m11=e.m11,t.m12+=n.x,t.m13+=n.y,t.m14+=n.z,t.m15=e.m15),t},e.scale=function(t,e,n){var i=n.x,r=n.y,a=n.z;return t.m00=e.m00*i,t.m01=e.m01*i,t.m02=e.m02*i,t.m03=e.m03*i,t.m04=e.m04*r,t.m05=e.m05*r,t.m06=e.m06*r,t.m07=e.m07*r,t.m08=e.m08*a,t.m09=e.m09*a,t.m10=e.m10*a,t.m11=e.m11*a,t.m12=e.m12,t.m13=e.m13,t.m14=e.m14,t.m15=e.m15,t},e.rotate=function(t,e,n,i){var r=i.x,a=i.y,s=i.z,m=Math.sqrt(r*r+a*a+s*s);if(Math.abs(m)<Kn)return null;r*=m=1/m,a*=m,s*=m;var o=Math.sin(n),h=Math.cos(n),u=1-h,c=e.m00,l=e.m01,f=e.m02,y=e.m03,p=e.m04,d=e.m05,v=e.m06,x=e.m07,b=e.m08,g=e.m09,_=e.m10,w=e.m11,M=r*r*u+h,z=a*r*u+s*o,E=s*r*u-a*o,A=r*a*u-s*o,O=a*a*u+h,N=s*a*u+r*o,S=r*s*u+a*o,I=a*s*u-r*o,R=s*s*u+h;return t.m00=c*M+p*z+b*E,t.m01=l*M+d*z+g*E,t.m02=f*M+v*z+_*E,t.m03=y*M+x*z+w*E,t.m04=c*A+p*O+b*N,t.m05=l*A+d*O+g*N,t.m06=f*A+v*O+_*N,t.m07=y*A+x*O+w*N,t.m08=c*S+p*I+b*R,t.m09=l*S+d*I+g*R,t.m10=f*S+v*I+_*R,t.m11=y*S+x*I+w*R,e!==t&&(t.m12=e.m12,t.m13=e.m13,t.m14=e.m14,t.m15=e.m15),t},e.rotateX=function(t,e,n){var i=Math.sin(n),r=Math.cos(n),a=e.m04,s=e.m05,m=e.m06,o=e.m07,h=e.m08,u=e.m09,c=e.m10,l=e.m11;return e!==t&&(t.m00=e.m00,t.m01=e.m01,t.m02=e.m02,t.m03=e.m03,t.m12=e.m12,t.m13=e.m13,t.m14=e.m14,t.m15=e.m15),t.m04=a*r+h*i,t.m05=s*r+u*i,t.m06=m*r+c*i,t.m07=o*r+l*i,t.m08=h*r-a*i,t.m09=u*r-s*i,t.m10=c*r-m*i,t.m11=l*r-o*i,t},e.rotateY=function(t,e,n){var i=Math.sin(n),r=Math.cos(n),a=e.m00,s=e.m01,m=e.m02,o=e.m03,h=e.m08,u=e.m09,c=e.m10,l=e.m11;return e!==t&&(t.m04=e.m04,t.m05=e.m05,t.m06=e.m06,t.m07=e.m07,t.m12=e.m12,t.m13=e.m13,t.m14=e.m14,t.m15=e.m15),t.m00=a*r-h*i,t.m01=s*r-u*i,t.m02=m*r-c*i,t.m03=o*r-l*i,t.m08=a*i+h*r,t.m09=s*i+u*r,t.m10=m*i+c*r,t.m11=o*i+l*r,t},e.rotateZ=function(t,e,n){var i=Math.sin(n),r=Math.cos(n),a=e.m00,s=e.m01,m=e.m02,o=e.m03,h=e.m04,u=e.m05,c=e.m06,l=e.m07;return e!==t&&(t.m08=e.m08,t.m09=e.m09,t.m10=e.m10,t.m11=e.m11,t.m12=e.m12,t.m13=e.m13,t.m14=e.m14,t.m15=e.m15),t.m00=a*r+h*i,t.m01=s*r+u*i,t.m02=m*r+c*i,t.m03=o*r+l*i,t.m04=h*r-a*i,t.m05=u*r-s*i,t.m06=c*r-m*i,t.m07=l*r-o*i,t},e.fromTranslation=function(t,e){return t.m00=1,t.m01=0,t.m02=0,t.m03=0,t.m04=0,t.m05=1,t.m06=0,t.m07=0,t.m08=0,t.m09=0,t.m10=1,t.m11=0,t.m12=e.x,t.m13=e.y,t.m14=e.z,t.m15=1,t},e.fromScaling=function(t,e){return t.m00=e.x,t.m01=0,t.m02=0,t.m03=0,t.m04=0,t.m05=e.y,t.m06=0,t.m07=0,t.m08=0,t.m09=0,t.m10=e.z,t.m11=0,t.m12=0,t.m13=0,t.m14=0,t.m15=1,t},e.fromRotation=function(t,e,n){var i=n.x,r=n.y,a=n.z,s=Math.sqrt(i*i+r*r+a*a);if(Math.abs(s)<Kn)return null;i*=s=1/s,r*=s,a*=s;var m=Math.sin(e),o=Math.cos(e),h=1-o;return t.m00=i*i*h+o,t.m01=r*i*h+a*m,t.m02=a*i*h-r*m,t.m03=0,t.m04=i*r*h-a*m,t.m05=r*r*h+o,t.m06=a*r*h+i*m,t.m07=0,t.m08=i*a*h+r*m,t.m09=r*a*h-i*m,t.m10=a*a*h+o,t.m11=0,t.m12=0,t.m13=0,t.m14=0,t.m15=1,t},e.fromXRotation=function(t,e){var n=Math.sin(e),i=Math.cos(e);return t.m00=1,t.m01=0,t.m02=0,t.m03=0,t.m04=0,t.m05=i,t.m06=n,t.m07=0,t.m08=0,t.m09=-n,t.m10=i,t.m11=0,t.m12=0,t.m13=0,t.m14=0,t.m15=1,t},e.fromYRotation=function(t,e){var n=Math.sin(e),i=Math.cos(e);return t.m00=i,t.m01=0,t.m02=-n,t.m03=0,t.m04=0,t.m05=1,t.m06=0,t.m07=0,t.m08=n,t.m09=0,t.m10=i,t.m11=0,t.m12=0,t.m13=0,t.m14=0,t.m15=1,t},e.fromZRotation=function(t,e){var n=Math.sin(e),i=Math.cos(e);return t.m00=i,t.m01=n,t.m02=0,t.m03=0,t.m04=-n,t.m05=i,t.m06=0,t.m07=0,t.m08=0,t.m09=0,t.m10=1,t.m11=0,t.m12=0,t.m13=0,t.m14=0,t.m15=1,t},e.fromRT=function(t,e,n){var i=e.x,r=e.y,a=e.z,s=e.w,m=i+i,o=r+r,h=a+a,u=i*m,c=i*o,l=i*h,f=r*o,y=r*h,p=a*h,d=s*m,v=s*o,x=s*h;return t.m00=1-(f+p),t.m01=c+x,t.m02=l-v,t.m03=0,t.m04=c-x,t.m05=1-(u+p),t.m06=y+d,t.m07=0,t.m08=l+v,t.m09=y-d,t.m10=1-(u+f),t.m11=0,t.m12=n.x,t.m13=n.y,t.m14=n.z,t.m15=1,t},e.getTranslation=function(t,e){return t.x=e.m12,t.y=e.m13,t.z=e.m14,t},e.getScaling=function(t,e){var n=Ir.m00=e.m00,i=Ir.m01=e.m01,r=Ir.m02=e.m02,a=Ir.m03=e.m04,s=Ir.m04=e.m05,m=Ir.m05=e.m06,o=Ir.m06=e.m08,h=Ir.m07=e.m09,u=Ir.m08=e.m10;return t.x=Math.sqrt(n*n+i*i+r*r),t.y=Math.sqrt(a*a+s*s+m*m),t.z=Math.sqrt(o*o+h*h+u*u),vr.determinant(Ir)<0&&(t.x*=-1),t},e.getRotation=function(t,e){var n=e.m00+e.m05+e.m10,i=0;return n>0?(i=2*Math.sqrt(n+1),t.w=.25*i,t.x=(e.m06-e.m09)/i,t.y=(e.m08-e.m02)/i,t.z=(e.m01-e.m04)/i):e.m00>e.m05&&e.m00>e.m10?(i=2*Math.sqrt(1+e.m00-e.m05-e.m10),t.w=(e.m06-e.m09)/i,t.x=.25*i,t.y=(e.m01+e.m04)/i,t.z=(e.m08+e.m02)/i):e.m05>e.m10?(i=2*Math.sqrt(1+e.m05-e.m00-e.m10),t.w=(e.m08-e.m02)/i,t.x=(e.m01+e.m04)/i,t.y=.25*i,t.z=(e.m06+e.m09)/i):(i=2*Math.sqrt(1+e.m10-e.m00-e.m05),t.w=(e.m01-e.m04)/i,t.x=(e.m08+e.m02)/i,t.y=(e.m06+e.m09)/i,t.z=.25*i),t},e.toRTS=function(t,e,n,i){i.x=cr.set(Sr,t.m00,t.m01,t.m02).length(),Ir.m00=t.m00/i.x,Ir.m01=t.m01/i.x,Ir.m02=t.m02/i.x,i.y=cr.set(Sr,t.m04,t.m05,t.m06).length(),Ir.m03=t.m04/i.y,Ir.m04=t.m05/i.y,Ir.m05=t.m06/i.y,i.z=cr.set(Sr,t.m08,t.m09,t.m10).length(),Ir.m06=t.m08/i.z,Ir.m07=t.m09/i.z,Ir.m08=t.m10/i.z,vr.determinant(Ir)<0&&(i.x*=-1,Ir.m00*=-1,Ir.m01*=-1,Ir.m02*=-1),gr.fromMat3(e,Ir),cr.set(n,t.m12,t.m13,t.m14)},e.fromRTS=function(t,e,n,i){var r=e.x,a=e.y,s=e.z,m=e.w,o=r+r,h=a+a,u=s+s,c=r*o,l=r*h,f=r*u,y=a*h,p=a*u,d=s*u,v=m*o,x=m*h,b=m*u,g=i.x,_=i.y,w=i.z;return t.m00=(1-(y+d))*g,t.m01=(l+b)*g,t.m02=(f-x)*g,t.m03=0,t.m04=(l-b)*_,t.m05=(1-(c+d))*_,t.m06=(p+v)*_,t.m07=0,t.m08=(f+x)*w,t.m09=(p-v)*w,t.m10=(1-(c+y))*w,t.m11=0,t.m12=n.x,t.m13=n.y,t.m14=n.z,t.m15=1,t},e.fromRTSOrigin=function(t,e,n,i,r){var a=e.x,s=e.y,m=e.z,o=e.w,h=a+a,u=s+s,c=m+m,l=a*h,f=a*u,y=a*c,p=s*u,d=s*c,v=m*c,x=o*h,b=o*u,g=o*c,_=i.x,w=i.y,M=i.z,z=r.x,E=r.y,A=r.z;return t.m00=(1-(p+v))*_,t.m01=(f+g)*_,t.m02=(y-b)*_,t.m03=0,t.m04=(f-g)*w,t.m05=(1-(l+v))*w,t.m06=(d+x)*w,t.m07=0,t.m08=(y+b)*M,t.m09=(d-x)*M,t.m10=(1-(l+p))*M,t.m11=0,t.m12=n.x+z-(t.m00*z+t.m04*E+t.m08*A),t.m13=n.y+E-(t.m01*z+t.m05*E+t.m09*A),t.m14=n.z+A-(t.m02*z+t.m06*E+t.m10*A),t.m15=1,t},e.fromQuat=function(t,e){var n=e.x,i=e.y,r=e.z,a=e.w,s=n+n,m=i+i,o=r+r,h=n*s,u=i*s,c=i*m,l=r*s,f=r*m,y=r*o,p=a*s,d=a*m,v=a*o;return t.m00=1-c-y,t.m01=u+v,t.m02=l-d,t.m03=0,t.m04=u-v,t.m05=1-h-y,t.m06=f+p,t.m07=0,t.m08=l+d,t.m09=f-p,t.m10=1-h-c,t.m11=0,t.m12=0,t.m13=0,t.m14=0,t.m15=1,t},e.frustum=function(t,e,n,i,r,a,s){var m=1/(n-e),o=1/(r-i),h=1/(a-s);return t.m00=2*a*m,t.m01=0,t.m02=0,t.m03=0,t.m04=0,t.m05=2*a*o,t.m06=0,t.m07=0,t.m08=(n+e)*m,t.m09=(r+i)*o,t.m10=(s+a)*h,t.m11=-1,t.m12=0,t.m13=0,t.m14=s*a*2*h,t.m15=0,t},e.perspective=function(t,e,n,i,r,a,s,m,o){void 0===a&&(a=!0),void 0===s&&(s=-1),void 0===m&&(m=1),void 0===o&&(o=0);var h=1/Math.tan(e/2),u=1/(i-r),c=a?h/n:h,l=(a?h:h*n)*m,f=Or[o];return t.m00=c*f[0],t.m01=c*f[1],t.m02=0,t.m03=0,t.m04=l*f[2],t.m05=l*f[3],t.m06=0,t.m07=0,t.m08=0,t.m09=0,t.m10=(r-s*i)*u,t.m11=-1,t.m12=0,t.m13=0,t.m14=r*i*u*(1-s),t.m15=0,t},e.ortho=function(t,e,n,i,r,a,s,m,o,h){void 0===m&&(m=-1),void 0===o&&(o=1),void 0===h&&(h=0);var u=1/(e-n),c=1/(i-r)*o,l=1/(a-s),f=-2*u,y=-2*c,p=(e+n)*u,d=(r+i)*c,v=Or[h];return t.m00=f*v[0],t.m01=f*v[1],t.m02=0,t.m03=0,t.m04=y*v[2],t.m05=y*v[3],t.m06=0,t.m07=0,t.m08=0,t.m09=0,t.m10=l*(1-m),t.m11=0,t.m12=p*v[0]+d*v[2],t.m13=p*v[1]+d*v[3],t.m14=(a-m*s)*l,t.m15=1,t},e.lookAt=function(t,e,n,i){var r=e.x,a=e.y,s=e.z,m=i.x,o=i.y,h=i.z,u=r-n.x,c=a-n.y,l=s-n.z,f=1/Math.sqrt(u*u+c*c+l*l),y=o*(l*=f)-h*(c*=f),p=h*(u*=f)-m*l,d=m*c-o*u,v=c*(d*=f=1/Math.sqrt(y*y+p*p+d*d))-l*(p*=f),x=l*(y*=f)-u*d,b=u*p-c*y;return t.m00=y,t.m01=v,t.m02=u,t.m03=0,t.m04=p,t.m05=x,t.m06=c,t.m07=0,t.m08=d,t.m09=b,t.m10=l,t.m11=0,t.m12=-(y*r+p*a+d*s),t.m13=-(v*r+x*a+b*s),t.m14=-(u*r+c*a+l*s),t.m15=1,t},e.inverseTranspose=function(t,e){var n=e.m00,i=e.m01,r=e.m02,a=e.m03,s=e.m04,m=e.m05,o=e.m06,h=e.m07,u=e.m08,c=e.m09,l=e.m10,f=e.m11,y=e.m12,p=e.m13,d=e.m14,v=e.m15,x=n*m-i*s,b=n*o-r*s,g=n*h-a*s,_=i*o-r*m,w=i*h-a*m,M=r*h-a*o,z=u*p-c*y,E=u*d-l*y,A=u*v-f*y,O=c*d-l*p,N=c*v-f*p,S=l*v-f*d,I=x*S-b*N+g*O+_*A-w*E+M*z;return I?(I=1/I,t.m00=(m*S-o*N+h*O)*I,t.m01=(o*A-s*S-h*E)*I,t.m02=(s*N-m*A+h*z)*I,t.m03=0,t.m04=(r*N-i*S-a*O)*I,t.m05=(n*S-r*A+a*E)*I,t.m06=(i*A-n*N-a*z)*I,t.m07=0,t.m08=(p*M-d*w+v*_)*I,t.m09=(d*g-y*M-v*b)*I,t.m10=(y*w-p*g+v*x)*I,t.m11=0,t.m12=0,t.m13=0,t.m14=0,t.m15=1,t):null},e.toArray=function(t,e,n){return void 0===n&&(n=0),t[n+0]=e.m00,t[n+1]=e.m01,t[n+2]=e.m02,t[n+3]=e.m03,t[n+4]=e.m04,t[n+5]=e.m05,t[n+6]=e.m06,t[n+7]=e.m07,t[n+8]=e.m08,t[n+9]=e.m09,t[n+10]=e.m10,t[n+11]=e.m11,t[n+12]=e.m12,t[n+13]=e.m13,t[n+14]=e.m14,t[n+15]=e.m15,t},e.fromArray=function(t,e,n){return void 0===n&&(n=0),t.m00=e[n+0],t.m01=e[n+1],t.m02=e[n+2],t.m03=e[n+3],t.m04=e[n+4],t.m05=e[n+5],t.m06=e[n+6],t.m07=e[n+7],t.m08=e[n+8],t.m09=e[n+9],t.m10=e[n+10],t.m11=e[n+11],t.m12=e[n+12],t.m13=e[n+13],t.m14=e[n+14],t.m15=e[n+15],t},e.add=function(t,e,n){return t.m00=e.m00+n.m00,t.m01=e.m01+n.m01,t.m02=e.m02+n.m02,t.m03=e.m03+n.m03,t.m04=e.m04+n.m04,t.m05=e.m05+n.m05,t.m06=e.m06+n.m06,t.m07=e.m07+n.m07,t.m08=e.m08+n.m08,t.m09=e.m09+n.m09,t.m10=e.m10+n.m10,t.m11=e.m11+n.m11,t.m12=e.m12+n.m12,t.m13=e.m13+n.m13,t.m14=e.m14+n.m14,t.m15=e.m15+n.m15,t},e.subtract=function(t,e,n){return t.m00=e.m00-n.m00,t.m01=e.m01-n.m01,t.m02=e.m02-n.m02,t.m03=e.m03-n.m03,t.m04=e.m04-n.m04,t.m05=e.m05-n.m05,t.m06=e.m06-n.m06,t.m07=e.m07-n.m07,t.m08=e.m08-n.m08,t.m09=e.m09-n.m09,t.m10=e.m10-n.m10,t.m11=e.m11-n.m11,t.m12=e.m12-n.m12,t.m13=e.m13-n.m13,t.m14=e.m14-n.m14,t.m15=e.m15-n.m15,t},e.multiplyScalar=function(t,e,n){return t.m00=e.m00*n,t.m01=e.m01*n,t.m02=e.m02*n,t.m03=e.m03*n,t.m04=e.m04*n,t.m05=e.m05*n,t.m06=e.m06*n,t.m07=e.m07*n,t.m08=e.m08*n,t.m09=e.m09*n,t.m10=e.m10*n,t.m11=e.m11*n,t.m12=e.m12*n,t.m13=e.m13*n,t.m14=e.m14*n,t.m15=e.m15*n,t},e.multiplyScalarAndAdd=function(t,e,n,i){return t.m00=e.m00+n.m00*i,t.m01=e.m01+n.m01*i,t.m02=e.m02+n.m02*i,t.m03=e.m03+n.m03*i,t.m04=e.m04+n.m04*i,t.m05=e.m05+n.m05*i,t.m06=e.m06+n.m06*i,t.m07=e.m07+n.m07*i,t.m08=e.m08+n.m08*i,t.m09=e.m09+n.m09*i,t.m10=e.m10+n.m10*i,t.m11=e.m11+n.m11*i,t.m12=e.m12+n.m12*i,t.m13=e.m13+n.m13*i,t.m14=e.m14+n.m14*i,t.m15=e.m15+n.m15*i,t},e.strictEquals=function(t,e){return t.m00===e.m00&&t.m01===e.m01&&t.m02===e.m02&&t.m03===e.m03&&t.m04===e.m04&&t.m05===e.m05&&t.m06===e.m06&&t.m07===e.m07&&t.m08===e.m08&&t.m09===e.m09&&t.m10===e.m10&&t.m11===e.m11&&t.m12===e.m12&&t.m13===e.m13&&t.m14===e.m14&&t.m15===e.m15},e.equals=function(t,e,n){return void 0===n&&(n=Kn),Math.abs(t.m00-e.m00)<=n*Math.max(1,Math.abs(t.m00),Math.abs(e.m00))&&Math.abs(t.m01-e.m01)<=n*Math.max(1,Math.abs(t.m01),Math.abs(e.m01))&&Math.abs(t.m02-e.m02)<=n*Math.max(1,Math.abs(t.m02),Math.abs(e.m02))&&Math.abs(t.m03-e.m03)<=n*Math.max(1,Math.abs(t.m03),Math.abs(e.m03))&&Math.abs(t.m04-e.m04)<=n*Math.max(1,Math.abs(t.m04),Math.abs(e.m04))&&Math.abs(t.m05-e.m05)<=n*Math.max(1,Math.abs(t.m05),Math.abs(e.m05))&&Math.abs(t.m06-e.m06)<=n*Math.max(1,Math.abs(t.m06),Math.abs(e.m06))&&Math.abs(t.m07-e.m07)<=n*Math.max(1,Math.abs(t.m07),Math.abs(e.m07))&&Math.abs(t.m08-e.m08)<=n*Math.max(1,Math.abs(t.m08),Math.abs(e.m08))&&Math.abs(t.m09-e.m09)<=n*Math.max(1,Math.abs(t.m09),Math.abs(e.m09))&&Math.abs(t.m10-e.m10)<=n*Math.max(1,Math.abs(t.m10),Math.abs(e.m10))&&Math.abs(t.m11-e.m11)<=n*Math.max(1,Math.abs(t.m11),Math.abs(e.m11))&&Math.abs(t.m12-e.m12)<=n*Math.max(1,Math.abs(t.m12),Math.abs(e.m12))&&Math.abs(t.m13-e.m13)<=n*Math.max(1,Math.abs(t.m13),Math.abs(e.m13))&&Math.abs(t.m14-e.m14)<=n*Math.max(1,Math.abs(t.m14),Math.abs(e.m14))&&Math.abs(t.m15-e.m15)<=n*Math.max(1,Math.abs(t.m15),Math.abs(e.m15))};var n=e.prototype;return n.clone=function(){return new e(this.m00,this.m01,this.m02,this.m03,this.m04,this.m05,this.m06,this.m07,this.m08,this.m09,this.m10,this.m11,this.m12,this.m13,this.m14,this.m15)},n.set=function(t,e,n,i,r,a,s,m,o,h,u,c,l,f,y,p){return void 0===t&&(t=1),void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),void 0===r&&(r=0),void 0===a&&(a=1),void 0===s&&(s=0),void 0===m&&(m=0),void 0===o&&(o=0),void 0===h&&(h=0),void 0===u&&(u=1),void 0===c&&(c=0),void 0===l&&(l=0),void 0===f&&(f=0),void 0===y&&(y=0),void 0===p&&(p=1),"object"==typeof t?(this.m01=t.m01,this.m02=t.m02,this.m03=t.m03,this.m04=t.m04,this.m05=t.m05,this.m06=t.m06,this.m07=t.m07,this.m08=t.m08,this.m09=t.m09,this.m10=t.m10,this.m11=t.m11,this.m12=t.m12,this.m13=t.m13,this.m14=t.m14,this.m15=t.m15,this.m00=t.m00):(this.m01=e,this.m02=n,this.m03=i,this.m04=r,this.m05=a,this.m06=s,this.m07=m,this.m08=o,this.m09=h,this.m10=u,this.m11=c,this.m12=l,this.m13=f,this.m14=y,this.m15=p,this.m00=t),this},n.equals=function(t,e){return void 0===e&&(e=Kn),Math.abs(this.m00-t.m00)<=e*Math.max(1,Math.abs(this.m00),Math.abs(t.m00))&&Math.abs(this.m01-t.m01)<=e*Math.max(1,Math.abs(this.m01),Math.abs(t.m01))&&Math.abs(this.m02-t.m02)<=e*Math.max(1,Math.abs(this.m02),Math.abs(t.m02))&&Math.abs(this.m03-t.m03)<=e*Math.max(1,Math.abs(this.m03),Math.abs(t.m03))&&Math.abs(this.m04-t.m04)<=e*Math.max(1,Math.abs(this.m04),Math.abs(t.m04))&&Math.abs(this.m05-t.m05)<=e*Math.max(1,Math.abs(this.m05),Math.abs(t.m05))&&Math.abs(this.m06-t.m06)<=e*Math.max(1,Math.abs(this.m06),Math.abs(t.m06))&&Math.abs(this.m07-t.m07)<=e*Math.max(1,Math.abs(this.m07),Math.abs(t.m07))&&Math.abs(this.m08-t.m08)<=e*Math.max(1,Math.abs(this.m08),Math.abs(t.m08))&&Math.abs(this.m09-t.m09)<=e*Math.max(1,Math.abs(this.m09),Math.abs(t.m09))&&Math.abs(this.m10-t.m10)<=e*Math.max(1,Math.abs(this.m10),Math.abs(t.m10))&&Math.abs(this.m11-t.m11)<=e*Math.max(1,Math.abs(this.m11),Math.abs(t.m11))&&Math.abs(this.m12-t.m12)<=e*Math.max(1,Math.abs(this.m12),Math.abs(t.m12))&&Math.abs(this.m13-t.m13)<=e*Math.max(1,Math.abs(this.m13),Math.abs(t.m13))&&Math.abs(this.m14-t.m14)<=e*Math.max(1,Math.abs(this.m14),Math.abs(t.m14))&&Math.abs(this.m15-t.m15)<=e*Math.max(1,Math.abs(this.m15),Math.abs(t.m15))},n.strictEquals=function(t){return this.m00===t.m00&&this.m01===t.m01&&this.m02===t.m02&&this.m03===t.m03&&this.m04===t.m04&&this.m05===t.m05&&this.m06===t.m06&&this.m07===t.m07&&this.m08===t.m08&&this.m09===t.m09&&this.m10===t.m10&&this.m11===t.m11&&this.m12===t.m12&&this.m13===t.m13&&this.m14===t.m14&&this.m15===t.m15},n.toString=function(){return"[\n"+this.m00+", "+this.m01+", "+this.m02+", "+this.m03+",\n"+this.m04+", "+this.m05+", "+this.m06+", "+this.m07+",\n"+this.m08+", "+this.m09+", "+this.m10+", "+this.m11+",\n"+this.m12+", "+this.m13+", "+this.m14+", "+this.m15+"\n]"},n.identity=function(){return this.m00=1,this.m01=0,this.m02=0,this.m03=0,this.m04=0,this.m05=1,this.m06=0,this.m07=0,this.m08=0,this.m09=0,this.m10=1,this.m11=0,this.m12=0,this.m13=0,this.m14=0,this.m15=1,this},n.zero=function(){return this.m00=0,this.m01=0,this.m02=0,this.m03=0,this.m04=0,this.m05=0,this.m06=0,this.m07=0,this.m08=0,this.m09=0,this.m10=0,this.m11=0,this.m12=0,this.m13=0,this.m14=0,this.m15=0,this},n.transpose=function(){var t=this.m01,e=this.m02,n=this.m03,i=this.m06,r=this.m07,a=this.m11;return this.m01=this.m04,this.m02=this.m08,this.m03=this.m12,this.m04=t,this.m06=this.m09,this.m07=this.m13,this.m08=e,this.m09=i,this.m11=this.m14,this.m12=n,this.m13=r,this.m14=a,this},n.invert=function(){var t=this.m00,e=this.m01,n=this.m02,i=this.m03,r=this.m04,a=this.m05,s=this.m06,m=this.m07,o=this.m08,h=this.m09,u=this.m10,c=this.m11,l=this.m12,f=this.m13,y=this.m14,p=this.m15,d=t*a-e*r,v=t*s-n*r,x=t*m-i*r,b=e*s-n*a,g=e*m-i*a,_=n*m-i*s,w=o*f-h*l,M=o*y-u*l,z=o*p-c*l,E=h*y-u*f,A=h*p-c*f,O=u*p-c*y,N=d*O-v*A+x*E+b*z-g*M+_*w;return 0===N?(this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0),this):(N=1/N,this.m00=(a*O-s*A+m*E)*N,this.m01=(n*A-e*O-i*E)*N,this.m02=(f*_-y*g+p*b)*N,this.m03=(u*g-h*_-c*b)*N,this.m04=(s*z-r*O-m*M)*N,this.m05=(t*O-n*z+i*M)*N,this.m06=(y*x-l*_-p*v)*N,this.m07=(o*_-u*x+c*v)*N,this.m08=(r*A-a*z+m*w)*N,this.m09=(e*z-t*A-i*w)*N,this.m10=(l*g-f*x+p*d)*N,this.m11=(h*x-o*g-c*d)*N,this.m12=(a*M-r*E-s*w)*N,this.m13=(t*E-e*M+n*w)*N,this.m14=(f*v-l*b-y*d)*N,this.m15=(o*b-h*v+u*d)*N,this)},n.determinant=function(){var t=this.m00,e=this.m01,n=this.m02,i=this.m03,r=this.m04,a=this.m05,s=this.m06,m=this.m07,o=this.m08,h=this.m09,u=this.m10,c=this.m11,l=this.m12,f=this.m13,y=this.m14,p=this.m15;return(t*a-e*r)*(u*p-c*y)-(t*s-n*r)*(h*p-c*f)+(t*m-i*r)*(h*y-u*f)+(e*s-n*a)*(o*p-c*l)-(e*m-i*a)*(o*y-u*l)+(n*m-i*s)*(o*f-h*l)},n.add=function(t){return this.m00+=t.m00,this.m01+=t.m01,this.m02+=t.m02,this.m03+=t.m03,this.m04+=t.m04,this.m05+=t.m05,this.m06+=t.m06,this.m07+=t.m07,this.m08+=t.m08,this.m09+=t.m09,this.m10+=t.m10,this.m11+=t.m11,this.m12+=t.m12,this.m13+=t.m13,this.m14+=t.m14,this.m15+=t.m15,this},n.subtract=function(t){return this.m00-=t.m00,this.m01-=t.m01,this.m02-=t.m02,this.m03-=t.m03,this.m04-=t.m04,this.m05-=t.m05,this.m06-=t.m06,this.m07-=t.m07,this.m08-=t.m08,this.m09-=t.m09,this.m10-=t.m10,this.m11-=t.m11,this.m12-=t.m12,this.m13-=t.m13,this.m14-=t.m14,this.m15-=t.m15,this},n.multiply=function(t){var e=this.m00,n=this.m01,i=this.m02,r=this.m03,a=this.m04,s=this.m05,m=this.m06,o=this.m07,h=this.m08,u=this.m09,c=this.m10,l=this.m11,f=this.m12,y=this.m13,p=this.m14,d=this.m15,v=t.m00,x=t.m01,b=t.m02,g=t.m03;return this.m00=v*e+x*a+b*h+g*f,this.m01=v*n+x*s+b*u+g*y,this.m02=v*i+x*m+b*c+g*p,this.m03=v*r+x*o+b*l+g*d,v=t.m04,x=t.m05,b=t.m06,g=t.m07,this.m04=v*e+x*a+b*h+g*f,this.m05=v*n+x*s+b*u+g*y,this.m06=v*i+x*m+b*c+g*p,this.m07=v*r+x*o+b*l+g*d,v=t.m08,x=t.m09,b=t.m10,g=t.m11,this.m08=v*e+x*a+b*h+g*f,this.m09=v*n+x*s+b*u+g*y,this.m10=v*i+x*m+b*c+g*p,this.m11=v*r+x*o+b*l+g*d,v=t.m12,x=t.m13,b=t.m14,g=t.m15,this.m12=v*e+x*a+b*h+g*f,this.m13=v*n+x*s+b*u+g*y,this.m14=v*i+x*m+b*c+g*p,this.m15=v*r+x*o+b*l+g*d,this},n.multiplyScalar=function(t){return this.m00*=t,this.m01*=t,this.m02*=t,this.m03*=t,this.m04*=t,this.m05*=t,this.m06*=t,this.m07*=t,this.m08*=t,this.m09*=t,this.m10*=t,this.m11*=t,this.m12*=t,this.m13*=t,this.m14*=t,this.m15*=t,this},n.translate=function(t){return console.warn("function changed"),this.m12+=t.x,this.m13+=t.y,this.m14+=t.z,this},n.scale=function(t){var e=t.x,n=t.y,i=t.z;return this.m00*=e,this.m01*=e,this.m02*=e,this.m03*=e,this.m04*=n,this.m05*=n,this.m06*=n,this.m07*=n,this.m08*=i,this.m09*=i,this.m10*=i,this.m11*=i,this},n.rotate=function(t,e){var n=e.x,i=e.y,r=e.z,a=Math.sqrt(n*n+i*i+r*r);if(Math.abs(a)<Kn)return null;n*=a=1/a,i*=a,r*=a;var s=Math.sin(t),m=Math.cos(t),o=1-m,h=this.m00,u=this.m01,c=this.m02,l=this.m03,f=this.m04,y=this.m05,p=this.m06,d=this.m07,v=this.m08,x=this.m09,b=this.m10,g=this.m11,_=n*n*o+m,w=i*n*o+r*s,M=r*n*o-i*s,z=n*i*o-r*s,E=i*i*o+m,A=r*i*o+n*s,O=n*r*o+i*s,N=i*r*o-n*s,S=r*r*o+m;return this.m00=h*_+f*w+v*M,this.m01=u*_+y*w+x*M,this.m02=c*_+p*w+b*M,this.m03=l*_+d*w+g*M,this.m04=h*z+f*E+v*A,this.m05=u*z+y*E+x*A,this.m06=c*z+p*E+b*A,this.m07=l*z+d*E+g*A,this.m08=h*O+f*N+v*S,this.m09=u*O+y*N+x*S,this.m10=c*O+p*N+b*S,this.m11=l*O+d*N+g*S,this},n.getTranslation=function(t){return t.x=this.m12,t.y=this.m13,t.z=this.m14,t},n.getScale=function(t){var e=Ir.m00=this.m00,n=Ir.m01=this.m01,i=Ir.m02=this.m02,r=Ir.m03=this.m04,a=Ir.m04=this.m05,s=Ir.m05=this.m06,m=Ir.m06=this.m08,o=Ir.m07=this.m09,h=Ir.m08=this.m10;return t.x=Math.sqrt(e*e+n*n+i*i),t.y=Math.sqrt(r*r+a*a+s*s),t.z=Math.sqrt(m*m+o*o+h*h),vr.determinant(Ir)<0&&(t.x*=-1),t},n.getRotation=function(t){var e=this.m00+this.m05+this.m10,n=0;return e>0?(n=2*Math.sqrt(e+1),t.w=.25*n,t.x=(this.m06-this.m09)/n,t.y=(this.m08-this.m02)/n,t.z=(this.m01-this.m04)/n):this.m00>this.m05&&this.m00>this.m10?(n=2*Math.sqrt(1+this.m00-this.m05-this.m10),t.w=(this.m06-this.m09)/n,t.x=.25*n,t.y=(this.m01+this.m04)/n,t.z=(this.m08+this.m02)/n):this.m05>this.m10?(n=2*Math.sqrt(1+this.m05-this.m00-this.m10),t.w=(this.m08-this.m02)/n,t.x=(this.m01+this.m04)/n,t.y=.25*n,t.z=(this.m06+this.m09)/n):(n=2*Math.sqrt(1+this.m10-this.m00-this.m05),t.w=(this.m01-this.m04)/n,t.x=(this.m08+this.m02)/n,t.y=(this.m06+this.m09)/n,t.z=.25*n),t},n.fromRTS=function(t,e,n){var i=t.x,r=t.y,a=t.z,s=t.w,m=i+i,o=r+r,h=a+a,u=i*m,c=i*o,l=i*h,f=r*o,y=r*h,p=a*h,d=s*m,v=s*o,x=s*h,b=n.x,g=n.y,_=n.z;return this.m00=(1-(f+p))*b,this.m01=(c+x)*b,this.m02=(l-v)*b,this.m03=0,this.m04=(c-x)*g,this.m05=(1-(u+p))*g,this.m06=(y+d)*g,this.m07=0,this.m08=(l+v)*_,this.m09=(y-d)*_,this.m10=(1-(u+f))*_,this.m11=0,this.m12=e.x,this.m13=e.y,this.m14=e.z,this.m15=1,this},n.fromQuat=function(t){var e=t.x,n=t.y,i=t.z,r=t.w,a=e+e,s=n+n,m=i+i,o=e*a,h=n*a,u=n*s,c=i*a,l=i*s,f=i*m,y=r*a,p=r*s,d=r*m;return this.m00=1-u-f,this.m01=h+d,this.m02=c-p,this.m03=0,this.m04=h-d,this.m05=1-o-f,this.m06=l+y,this.m07=0,this.m08=c+p,this.m09=l-y,this.m10=1-o-u,this.m11=0,this.m12=0,this.m13=0,this.m14=0,this.m15=1,this},e}(Wt));Nr.IDENTITY=Object.freeze(new Nr);var Sr=new cr,Ir=new vr;function Rr(t,e,n,i,r,a,s,m,o,h,u,c,l,f,y,p){return new Nr(t,e,n,i,r,a,s,m,o,h,u,c,l,f,y,p)}Ce.fastDefine("cc.Mat4",Nr,{m00:1,m01:0,m02:0,m03:0,m04:0,m05:1,m06:0,m07:0,m08:0,m09:0,m10:1,m11:0,m12:0,m13:0,m14:0,m15:1}),x.Mat4=Nr,x.mat4=Rr;var Cr=t("a5",function(){function t(t,e,n,i,r,a){void 0===t&&(t=1),void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=1),void 0===r&&(r=0),void 0===a&&(a=0),this.a=t,this.b=e,this.c=n,this.d=i,this.tx=r,this.ty=a}return t.identity=function(){return new t},t.clone=function(e){return new t(e.a,e.b,e.c,e.d,e.tx,e.ty)},t.concat=function(t,e,n){var i=e.a,r=e.b,a=e.c,s=e.d,m=e.tx,o=e.ty;t.a=i*n.a+r*n.c,t.b=i*n.b+r*n.d,t.c=a*n.a+s*n.c,t.d=a*n.b+s*n.d,t.tx=m*n.a+o*n.c+n.tx,t.ty=m*n.b+o*n.d+n.ty},t.invert=function(t,e){var n=1/(e.a*e.d-e.b*e.c);t.a=n*e.d,t.b=-n*e.b,t.c=-n*e.c,t.d=n*e.a,t.tx=n*(e.c*e.ty-e.d*e.tx),t.ty=n*(e.b*e.tx-e.a*e.ty)},t.fromMat4=function(t,e){t.a=e.m00,t.b=e.m01,t.c=e.m04,t.d=e.m05,t.tx=e.m12,t.ty=e.m13},t.transformVec2=function(t,e,n,i){var r,a;void 0===i?(i=n,r=e.x,a=e.y):(r=e,a=n),t.x=i.a*r+i.c*a+i.tx,t.y=i.b*r+i.d*a+i.ty},t.transformSize=function(t,e,n){t.width=n.a*e.width+n.c*e.height,t.height=n.b*e.width+n.d*e.height},t.transformRect=function(t,e,n){var i=e.x+e.width,r=e.y+e.height,a=n.a*e.x+n.c*e.y+n.tx,s=n.b*e.x+n.d*e.y+n.ty,m=n.a*i+n.c*e.y+n.tx,o=n.b*i+n.d*e.y+n.ty,h=n.a*e.x+n.c*r+n.tx,u=n.b*e.x+n.d*r+n.ty,c=n.a*i+n.c*r+n.tx,l=n.b*i+n.d*r+n.ty,f=Math.min(a,m,h,c),y=Math.max(a,m,h,c),p=Math.min(s,o,u,l),d=Math.max(s,o,u,l);t.x=f,t.y=p,t.width=y-f,t.height=d-p},t.transformObb=function(t,e,n,i,r,a){var s=a.a*r.x+a.c*r.y+a.tx,m=a.b*r.x+a.d*r.y+a.ty,o=a.a*r.width,h=a.b*r.width,u=a.c*r.height,c=a.d*r.height;e.x=s,e.y=m,n.x=o+s,n.y=h+m,t.x=u+s,t.y=c+m,i.x=o+u+s,i.y=h+c+m},t}());x.AffineTransform=Cr;var Tr=t("a6",function(t){function e(e,n){var i;return i=t.call(this)||this,e&&"object"==typeof e?(i.width=e.width,i.height=e.height):(i.width=e||0,i.height=n||0),i}r(e,t),e.lerp=function(t,e,n,i){return t.width=e.width+(n.width-e.width)*i,t.height=e.height+(n.height-e.height)*i,t},n(e,[{key:"x",set:function(t){this.width=t},get:function(){return this.width}},{key:"y",set:function(t){this.height=t},get:function(){return this.height}}]);var i=e.prototype;return i.clone=function(){return new e(this.width,this.height)},i.set=function(t,e){return t&&"object"==typeof t?(this.height=t.height,this.width=t.width):(this.width=t||0,this.height=e||0),this},i.equals=function(t){return this.width===t.width&&this.height===t.height},i.lerp=function(t,e){return this.width=this.width+(t.width-this.width)*e,this.height=this.height+(t.height-this.height)*e,this},i.toString=function(){return"("+this.width.toFixed(2)+", "+this.height.toFixed(2)+")"},e}(Wt));function Pr(t,e){return void 0===t&&(t=0),void 0===e&&(e=0),new Tr(t,e)}Tr.ZERO=Object.freeze(new Tr(0,0)),Tr.ONE=Object.freeze(new Tr(1,1)),Ce.fastDefine("cc.Size",Tr,{width:0,height:0}),x.size=Pr,x.Size=Tr;var jr=t("a8",function(t){function e(e,n,i,r){var a;return(a=t.call(this)||this).T=void 0,e&&"object"==typeof e?(a.y=e.y,a.width=e.width,a.height=e.height,a.x=e.x):(a.x=e||0,a.y=n||0,a.width=i||0,a.height=r||0),a}r(e,t),e.fromMinMax=function(t,e,n){var i=Math.min(e.x,n.x),r=Math.min(e.y,n.y),a=Math.max(e.x,n.x),s=Math.max(e.y,n.y);return t.x=i,t.y=r,t.width=a-i,t.height=s-r,t},e.lerp=function(t,e,n,i){var r=e.x,a=e.y,s=e.width,m=e.height;return t.x=r+(n.x-r)*i,t.y=a+(n.y-a)*i,t.width=s+(n.width-s)*i,t.height=m+(n.height-m)*i,t},e.intersection=function(t,e,n){var i=e.x,r=e.y,a=e.x+e.width,s=e.y+e.height,m=n.x,o=n.y,h=n.x+n.width,u=n.y+n.height;return t.x=Math.max(i,m),t.y=Math.max(r,o),t.width=Math.min(a,h)-t.x,t.height=Math.min(s,u)-t.y,t},e.union=function(t,e,n){var i=e.x,r=e.y,a=e.width,s=e.height,m=n.x,o=n.y,h=n.width,u=n.height;return t.x=Math.min(i,m),t.y=Math.min(r,o),t.width=Math.max(i+a,m+h)-t.x,t.height=Math.max(r+s,o+u)-t.y,t},n(e,[{key:"xMin",get:function(){return this.x},set:function(t){this.width+=this.x-t,this.x=t}},{key:"yMin",get:function(){return this.y},set:function(t){this.height+=this.y-t,this.y=t}},{key:"xMax",get:function(){return this.x+this.width},set:function(t){this.width=t-this.x}},{key:"yMax",get:function(){return this.y+this.height},set:function(t){this.height=t-this.y}},{key:"center",get:function(){return new mr(this.x+.5*this.width,this.y+.5*this.height)},set:function(t){this.x=t.x-.5*this.width,this.y=t.y-.5*this.height}},{key:"origin",get:function(){return new mr(this.x,this.y)},set:function(t){this.x=t.x,this.y=t.y}},{key:"size",get:function(){return new Tr(this.width,this.height)},set:function(t){this.width=t.width,this.height=t.height}},{key:"z",set:function(t){this.width=t},get:function(){return this.width}},{key:"w",set:function(t){this.height=t},get:function(){return this.height}}]);var i=e.prototype;return i.clone=function(){return new e(this.x,this.y,this.width,this.height)},i.set=function(t,e,n,i){return t&&"object"==typeof t?(this.y=t.y,this.width=t.width,this.height=t.height,this.x=t.x):(this.x=t||0,this.y=e||0,this.width=n||0,this.height=i||0),this},i.equals=function(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height},i.lerp=function(t,e){var n=this.x,i=this.y,r=this.width,a=this.height;return this.x=n+(t.x-n)*e,this.y=i+(t.y-i)*e,this.width=r+(t.width-r)*e,this.height=a+(t.height-a)*e,this},i.toString=function(){return"("+this.x.toFixed(2)+", "+this.y.toFixed(2)+", "+this.width.toFixed(2)+", "+this.height.toFixed(2)+")"},i.intersects=function(t){var e=this.x+this.width,n=this.y+this.height,i=t.x+t.width,r=t.y+t.height;return!(e<t.x||i<this.x||n<t.y||r<this.y)},i.contains=function(t){return this.x<=t.x&&this.x+this.width>=t.x&&this.y<=t.y&&this.y+this.height>=t.y},i.containsRect=function(t){return this.x<=t.x&&this.x+this.width>=t.x+t.width&&this.y<=t.y&&this.y+this.height>=t.y+t.height},i.transformMat4=function(t){var e=this.x,n=this.y,i=e+this.width,r=n+this.height,a=t.m00*e+t.m04*n+t.m12,s=t.m01*e+t.m05*n+t.m13,m=t.m00*i+t.m04*n+t.m12,o=t.m01*i+t.m05*n+t.m13,h=t.m00*e+t.m04*r+t.m12,u=t.m01*e+t.m05*r+t.m13,c=t.m00*i+t.m04*r+t.m12,l=t.m01*i+t.m05*r+t.m13,f=Math.min(a,m,h,c),y=Math.max(a,m,h,c),p=Math.min(s,o,u,l),d=Math.max(s,o,u,l);return this.x=f,this.y=p,this.width=y-f,this.height=d-p,this},i.transformMat4ToPoints=function(t,e,n,i,r){var a=this.x,s=this.y,m=a+this.width,o=s+this.height;e.x=t.m00*a+t.m04*s+t.m12,e.y=t.m01*a+t.m05*s+t.m13,r.x=t.m00*m+t.m04*s+t.m12,r.y=t.m01*m+t.m05*s+t.m13,n.x=t.m00*a+t.m04*o+t.m12,n.y=t.m01*a+t.m05*o+t.m13,i.x=t.m00*m+t.m04*o+t.m12,i.y=t.m01*m+t.m05*o+t.m13},e}(Wt));function qr(t,e,n,i){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),new jr(t,e,n,i)}Ce.fastDefine("cc.Rect",jr,{x:0,y:0,width:0,height:0}),x.Rect=jr,x.rect=qr;var kr=t("aa",function(t){function e(e,n,i,r){var a;return(a=t.call(this)||this)._val=0,"string"==typeof e?a.fromHEX(e):void 0!==n?a.set(e,n,i,r):a.set(e),a}r(e,t),e.clone=function(t){var n=new e;return t._val?n._val=t._val:n._val=(t.a<<24>>>0)+(t.b<<16)+(t.g<<8)+t.r,n},e.copy=function(t,e){return t.r=e.r,t.g=e.g,t.b=e.b,t.a=e.a,t},e.set=function(t,e,n,i,r){return t.r=e,t.g=n,t.b=i,t.a=r,t},e.fromHEX=function(t,e){return e=0===e.indexOf("#")?e.substring(1):e,t.r=parseInt(e.substr(0,2),16)||0,t.g=parseInt(e.substr(2,2),16)||0,t.b=parseInt(e.substr(4,2),16)||0,t.a=parseInt(e.substr(6,2),16)||255,t._val=(t.a<<24>>>0)+(t.b<<16)+(t.g<<8)+t.r,t},e.add=function(t,e,n){return t.r=e.r+n.r,t.g=e.g+n.g,t.b=e.b+n.b,t.a=e.a+n.a,t},e.subtract=function(t,e,n){return t.r=e.r-n.r,t.g=e.g-n.g,t.b=e.b-n.b,t.a=e.a-n.a,t},e.multiply=function(t,e,n){return t.r=e.r*n.r,t.g=e.g*n.g,t.b=e.b*n.b,t.a=e.a*n.a,t},e.divide=function(t,e,n){return t.r=e.r/n.r,t.g=e.g/n.g,t.b=e.b/n.b,t.a=e.a/n.a,t},e.scale=function(t,e,n){return t.r=e.r*n,t.g=e.g*n,t.b=e.b*n,t.a=e.a*n,t},e.lerp=function(t,e,n,i){var r=e.r,a=e.g,s=e.b,m=e.a;return r+=(n.r-r)*i,a+=(n.g-a)*i,s+=(n.b-s)*i,m+=(n.a-m)*i,t._val=Math.floor((m<<24>>>0)+(s<<16)+(a<<8)+r),t},e.toArray=function(t,n,i){void 0===i&&(i=0);var r=n instanceof e||n.a>1?1/255:1;return t[i+0]=n.r*r,t[i+1]=n.g*r,t[i+2]=n.b*r,t[i+3]=n.a*r,t},e.fromArray=function(t,e,n){return void 0===n&&(n=0),e.r=255*t[n+0],e.g=255*t[n+1],e.b=255*t[n+2],e.a=255*t[n+3],e},e.strictEquals=function(t,e){return t.r===e.r&&t.g===e.g&&t.b===e.b&&t.a===e.a},e.equals=function(t,e,n){return void 0===n&&(n=Kn),Math.abs(t.r-e.r)<=n*Math.max(1,Math.abs(t.r),Math.abs(e.r))&&Math.abs(t.g-e.g)<=n*Math.max(1,Math.abs(t.g),Math.abs(e.g))&&Math.abs(t.b-e.b)<=n*Math.max(1,Math.abs(t.b),Math.abs(e.b))&&Math.abs(t.a-e.a)<=n*Math.max(1,Math.abs(t.a),Math.abs(e.a))},e.hex=function(t){return(255*t.r<<24|255*t.g<<16|255*t.b<<8|255*t.a)>>>0},n(e,[{key:"r",get:function(){return 255&this._val},set:function(t){t=~~Zn(t,0,255),this._val=(4294967040&this._val|t)>>>0}},{key:"g",get:function(){return(65280&this._val)>>8},set:function(t){t=~~Zn(t,0,255),this._val=(4294902015&this._val|t<<8)>>>0}},{key:"b",get:function(){return(16711680&this._val)>>16},set:function(t){t=~~Zn(t,0,255),this._val=(4278255615&this._val|t<<16)>>>0}},{key:"a",get:function(){return(4278190080&this._val)>>>24},set:function(t){t=~~Zn(t,0,255),this._val=(16777215&this._val|t<<24)>>>0}},{key:"x",get:function(){return this.r*(1/255)},set:function(t){this.r=255*t}},{key:"y",get:function(){return this.g*(1/255)},set:function(t){this.g=255*t}},{key:"z",get:function(){return this.b*(1/255)},set:function(t){this.b=255*t}},{key:"w",get:function(){return this.a*(1/255)},set:function(t){this.a=255*t}}]);var i=e.prototype;return i.clone=function(){var t=new e;return t._val=this._val,t},i.equals=function(t){return t&&this._val===t._val},i.lerp=function(t,e){var n=this.r,i=this.g,r=this.b,a=this.a;return n+=(t.r-n)*e,i+=(t.g-i)*e,r+=(t.b-r)*e,a+=(t.a-a)*e,this._val=Math.floor((a<<24>>>0)+(r<<16)+(i<<8)+n),this},i.toString=function(){return"rgba("+this.r.toFixed()+", "+this.g.toFixed()+", "+this.b.toFixed()+", "+this.a.toFixed()+")"},i.toCSS=function(t){return void 0===t&&(t="rgba"),"rgba"===t?"rgba("+this.r+","+this.g+","+this.b+","+(this.a*(1/255)).toFixed(2)+")":"rgb"===t?"rgb("+this.r+","+this.g+","+this.b+")":"#"+this.toHEX(t)},i.fromHEX=function(t){t=0===t.indexOf("#")?t.substring(1):t;var e=parseInt(t.substr(0,2),16)||0,n=parseInt(t.substr(2,2),16)||0,i=parseInt(t.substr(4,2),16)||0,r=parseInt(t.substr(6,2),16)||255;return this._val=(r<<24>>>0)+(i<<16)+(n<<8)+(0|e),this},i.toHEX=function(t){void 0===t&&(t="#rrggbb");var e=[(this.r<16?"0":"")+this.r.toString(16),(this.g<16?"0":"")+this.g.toString(16),(this.b<16?"0":"")+this.b.toString(16)];return"#rgb"===t?(e[0]=e[0][0],e[1]=e[1][0],e[2]=e[2][0]):"#rrggbbaa"===t&&e.push((this.a<16?"0":"")+this.a.toString(16)),e.join("")},i.toRGBValue=function(){return 16777215&this._val},i.fromHSV=function(t,e,n){var i=0,r=0,a=0;if(0===e)i=r=a=n;else if(0===n)i=r=a=0;else{1===t&&(t=0),t*=6;var s=Math.floor(t),m=t-s,o=n*(1-e),h=n*(1-e*m),u=n*(1-e*(1-m));switch(s){case 0:i=n,r=u,a=o;break;case 1:i=h,r=n,a=o;break;case 2:i=o,r=n,a=u;break;case 3:i=o,r=h,a=n;break;case 4:i=u,r=o,a=n;break;case 5:i=n,r=o,a=h}}return i*=255,r*=255,a*=255,this._val=(this.a<<24>>>0)+(a<<16)+(r<<8)+(0|i),this},i.toHSV=function(){var t=this.r*(1/255),e=this.g*(1/255),n=this.b*(1/255),i={h:0,s:0,v:0},r=Math.max(t,e,n),a=Math.min(t,e,n),s=0;return i.v=r,i.s=r?(r-a)/r:0,i.s?(s=r-a,i.h=t===r?(e-n)/s:e===r?2+(n-t)/s:4+(t-e)/s,i.h/=6,i.h<0&&(i.h+=1)):i.h=0,i},i.set=function(t,e,n,i){return"object"==typeof t?null!=t._val?this._val=t._val:(e=t.g||0,n=t.b||0,i="number"==typeof t.a?t.a:255,t=t.r||0,this._val=(i<<24>>>0)+(n<<16)+(e<<8)+(0|t)):(t=t||0,e=e||0,n=n||0,i="number"==typeof i?i:255,this._val=(i<<24>>>0)+(n<<16)+(e<<8)+(0|t)),this},i.multiply=function(t){var e=(255&this._val)*t.r>>8,n=(65280&this._val)*t.g>>8,i=(16711680&this._val)*t.b>>8,r=((4278190080&this._val)>>>8)*t.a;return this._val=4278190080&r|16711680&i|65280&n|255&e,this},i._set_r_unsafe=function(t){return this._val=(4294967040&this._val|t)>>>0,this},i._set_g_unsafe=function(t){return this._val=(4294902015&this._val|t<<8)>>>0,this},i._set_b_unsafe=function(t){return this._val=(4278255615&this._val|t<<16)>>>0,this},i._set_a_unsafe=function(t){return this._val=(16777215&this._val|t<<24)>>>0,this},e}(Wt));function Dr(t,e,n,i){return new kr(t,e,n,i)}kr.WHITE=Object.freeze(new kr(255,255,255,255)),kr.GRAY=Object.freeze(new kr(127,127,127,255)),kr.BLACK=Object.freeze(new kr(0,0,0,255)),kr.TRANSPARENT=Object.freeze(new kr(0,0,0,0)),kr.RED=Object.freeze(new kr(255,0,0,255)),kr.GREEN=Object.freeze(new kr(0,255,0,255)),kr.BLUE=Object.freeze(new kr(0,0,255,255)),kr.CYAN=Object.freeze(new kr(0,255,255,255)),kr.MAGENTA=Object.freeze(new kr(255,0,255,255)),kr.YELLOW=Object.freeze(new kr(255,255,0,255)),Ce.fastDefine("cc.Color",kr,{r:0,g:0,b:0,a:255}),x.Color=kr,x.color=Dr;var Br,Ur,Lr,Vr,Wr=10,Gr=0,Fr=new Map;Ur=function(t,e,n,i,r,a){var s=Fr.get(a);s&&s.logTimes>s.count&&(r("'%s' is deprecated, please use '%s' instead.",t+"."+e,n+"."+i),s.count++)},Br=t("aB",(function(t,e,n){null!=t&&n.forEach((function(n){var i=Gr++;Fr.set(i,{id:i,count:0,logTimes:void 0!==n.logTimes?n.logTimes:Wr});var r=null!=n.target?n.target:t,a=null!=n.newName?n.newName:n.name,s=null!=n.targetName?n.targetName:e,m=r==t;if(null!=n.customFunction)t[n.name]=function(){var t;return Ur(e,n.name,s,a,N,i),(t=n.customFunction).call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))};else if(null!=n.customSetter||null!=n.customGetter){var o=null!=n.customSetter,h=null!=n.customGetter;o&&h?Object.defineProperty(t,n.name,{get:function(){return Ur(e,n.name,s,a,N,i),n.customGetter.call(this)},set:function(t){Ur(e,n.name,s,a,N,i),n.customSetter.call(this,t)},enumerable:!1}):o?Object.defineProperty(t,n.name,{set:function(t){Ur(e,n.name,s,a,N,i),n.customSetter.call(this,t)},enumerable:!1}):h&&Object.defineProperty(t,n.name,{get:function(){return Ur(e,n.name,s,a,N,i),n.customGetter.call(this)},enumerable:!1})}else Object.defineProperty(t,n.name,{get:function(){return Ur(e,n.name,s,a,N,i),m?this[a]:r[a]},set:function(t){Ur(e,n.name,s,a,N,i),m?this[a]=t:r[a]=t},enumerable:!1})}))})),Vr=function(t,e,n,i,r){var a=Fr.get(i),s=void 0===r?"":"("+r+")";a&&a.logTimes>a.count&&(n("'%s' has been removed. "+s,t+"."+e),a.count++)},t("aC",(function(t,e,n){null!=t&&n.forEach((function(n){var i=Gr++;Fr.set(i,{id:i,count:0,logTimes:void 0!==n.logTimes?n.logTimes:Wr}),Object.defineProperty(t,n.name,{get:function(){return Vr(e,n.name,S,i,n.suggest)},set:function(){Vr(e,n.name,S,i,n.suggest)},enumerable:!1})}))})),Lr=function(t,e,n,i,r){var a=Fr.get(i),s=void 0===r?"":"("+r+")";a&&a.logTimes>a.count&&(n("'%s' is deprecated. "+s,t+"."+e),a.count++)},t("aD",(function(t,e,n){if(null!=t){var i=function(t,e,n,i,r,a){if(t.get){var s=t.get();t.get=function(){return Lr(e,n,i,r,a),s.call(this)}}if(t.set){var m=Object.create(t.set);t.set=function(t){Lr(e,n,i,r,a),m.call(this,t)}}};n.forEach((function(n){var r=n.name,a=Object.getOwnPropertyDescriptor(t,r);if(a){var s=Gr++;if(Fr.set(s,{id:s,count:0,logTimes:void 0!==n.logTimes?n.logTimes:Wr}),null!=a.value)if("function"==typeof a.value){var m=a.value;t[r]=function(){return Lr(e,r,N,s,n.suggest),m.call.apply(m,[this].concat(Array.prototype.slice.call(arguments)))}}else i(a,e,r,N,s,n.suggest);else i(a,e,r,N,s,n.suggest);Object.defineProperty(t,r,{enumerable:!1})}}))}})),Br(mr,"Vec2",[{name:"sub",newName:"subtract",target:mr,targetName:"Vec2"},{name:"mul",newName:"multiply",target:mr,targetName:"Vec2"},{name:"div",newName:"divide",target:mr,targetName:"Vec2"},{name:"dist",newName:"distance",target:mr,targetName:"Vec2"},{name:"sqrDist",newName:"squaredDistance",target:mr,targetName:"Vec2"},{name:"mag",newName:"len",target:mr,targetName:"Vec2"},{name:"sqrMag",newName:"lengthSqr",target:mr,targetName:"Vec2"},{name:"scale",newName:"multiplyScalar",target:mr,targetName:"Vec2"},{name:"exactEquals",newName:"strictEquals",target:mr,targetName:"Vec2"}]),Br(mr.prototype,"Vec2",[{name:"mag",newName:"length",target:mr.prototype,targetName:"Vec2"},{name:"magSqr",newName:"lengthSqr",target:mr.prototype,targetName:"Vec2"},{name:"scale",newName:"multiplyScalar",target:mr.prototype,targetName:"Vec2"},{name:"exactEquals",newName:"strictEquals",target:mr.prototype,targetName:"Vec2"}]),Br(cr,"Vec3",[{name:"sub",newName:"subtract",target:cr,targetName:"Vec3"},{name:"mul",newName:"multiply",target:cr,targetName:"Vec3"},{name:"div",newName:"divide",target:cr,targetName:"Vec3"},{name:"dist",newName:"distance",target:cr,targetName:"Vec3"},{name:"sqrDist",newName:"squaredDistance",target:cr,targetName:"Vec3"},{name:"mag",newName:"len",target:cr,targetName:"Vec3"},{name:"sqrMag",newName:"lengthSqr",target:cr,targetName:"Vec3"},{name:"scale",newName:"multiplyScalar",target:cr,targetName:"Vec3"},{name:"exactEquals",newName:"strictEquals",target:cr,targetName:"Vec3"}]),Br(cr.prototype,"Vec3",[{name:"mag",newName:"length",target:cr.prototype,targetName:"Vec3"},{name:"magSqr",newName:"lengthSqr",target:cr.prototype,targetName:"Vec3"},{name:"scale",newName:"multiplyScalar",target:cr.prototype,targetName:"Vec3"},{name:"exactEquals",newName:"strictEquals",target:cr.prototype,targetName:"Vec3"}]),Br(pr,"Vec4",[{name:"sub",newName:"subtract",target:pr,targetName:"Vec4"},{name:"mul",newName:"multiply",target:pr,targetName:"Vec4"},{name:"div",newName:"divide",target:pr,targetName:"Vec4"},{name:"dist",newName:"distance",target:pr,targetName:"Vec4"},{name:"sqrDist",newName:"squaredDistance",target:pr,targetName:"Vec4"},{name:"mag",newName:"len",target:pr,targetName:"Vec4"},{name:"sqrMag",newName:"lengthSqr",target:pr,targetName:"Vec4"},{name:"scale",newName:"multiplyScalar",target:pr,targetName:"Vec4"},{name:"exactEquals",newName:"strictEquals",target:pr,targetName:"Vec4"}]),Br(pr.prototype,"Vec4",[{name:"mag",newName:"length",target:pr.prototype,targetName:"Vec4"},{name:"magSqr",newName:"lengthSqr",target:pr.prototype,targetName:"Vec4"},{name:"scale",newName:"multiplyScalar",target:pr.prototype,targetName:"Vec4"},{name:"exactEquals",newName:"strictEquals",target:pr.prototype,targetName:"Vec4"}]),Br(gr,"Quat",[{name:"mag",newName:"len",target:gr,targetName:"Quat"},{name:"mul",newName:"multiply",target:gr,targetName:"Quat"},{name:"sqrMag",newName:"lengthSqr",target:gr,targetName:"Quat"},{name:"scale",newName:"multiplyScalar",target:gr,targetName:"Quat"},{name:"exactEquals",newName:"strictEquals",target:gr,targetName:"Quat"}]),Br(gr.prototype,"Quat",[{name:"scale",newName:"multiplyScalar",target:gr.prototype,targetName:"Quat"},{name:"exactEquals",newName:"strictEquals",target:gr.prototype,targetName:"Quat"}]),Br(kr,"Color",[{name:"sub",newName:"subtract",target:kr,targetName:"Color"},{name:"mul",newName:"multiply",target:kr,targetName:"Color"},{name:"div",newName:"divide",target:kr,targetName:"Color"},{name:"exactEquals",newName:"strictEquals",target:kr,targetName:"Color"},{name:"fromHex",newName:"fromHEX",customFunction:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=e[1].toString(16);return x.Color.fromHEX(e[0],i)}}]),Br(vr,"Mat3",[{name:"sub",newName:"subtract",target:vr,targetName:"Mat3"},{name:"mul",newName:"multiply",target:vr,targetName:"Mat3"},{name:"exactEquals",newName:"strictEquals",target:vr,targetName:"Mat3"},{name:"transfrom",newName:"transform",target:vr,targetName:"Mat3"}]),Br(vr.prototype,"Mat3",[{name:"sub",newName:"subtract",target:vr.prototype,targetName:"Mat3"},{name:"mul",newName:"multiply",target:vr.prototype,targetName:"Mat3"},{name:"mulScalar",newName:"multiplyScalar",target:vr.prototype,targetName:"Mat3"},{name:"exactEquals",newName:"strictEquals",target:vr.prototype,targetName:"Mat3"}]),Br(Nr,"Mat4",[{name:"sub",newName:"subtract",target:Nr,targetName:"Mat4"},{name:"mul",newName:"multiply",target:Nr,targetName:"Mat4"},{name:"exactEquals",newName:"strictEquals",target:Nr,targetName:"Mat4"}]),Br(Nr.prototype,"Mat4",[{name:"sub",newName:"subtract",target:Nr.prototype,targetName:"Mat4"},{name:"mul",newName:"multiply",target:Nr.prototype,targetName:"Mat4"},{name:"mulScalar",newName:"multiplyScalar",target:Nr.prototype,targetName:"Mat4"},{name:"exactEquals",newName:"strictEquals",target:Nr.prototype,targetName:"Mat4"}])}}}));
