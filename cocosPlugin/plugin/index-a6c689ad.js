System.register(["./deprecated-0768b3d4.js","./deprecated-4df5f565.js","./index-7375b6c6.js","./deprecated-ffd97385.js","./label-e9b775fb.js","./SubContextView-e935a34c.js","./graphics-5a29dbec.js"],(function(t){"use strict";var e,a,i,n,r,o,s,h,l,u,f,c,d,v,x,p,g,y,m,_,C,w,D,b,T,S,R,A,L,M,F,E,B,O,P,z,I,H,N,V,W,k,Z,U,q,X,Y,G,K,Q,j,J,$,tt,et,at,it,nt,rt,ot,st,ht,lt,ut,ft,ct,dt,vt;return{setters:[function(t){e=t.V,a=t.a3,i=t.aa,n=t._,r=t.W,o=t.a8,s=t.a6,h=t.bV,l=t.b8,u=t.l,f=t.Q,c=t.x,d=t.z,v=t.c,x=t.y,p=t.j},function(t){g=t.eK,y=t.A,m=t.F,_=t.bv,C=t.bu,w=t.bN,D=t.bw,b=t.bx,T=t.br,S=t.bt},function(){},function(t){R=t.v,A=t.Q,L=t.i,M=t.c,F=t.V,E=t.W,B=t.x,O=t.X},function(t){P=t.s,z=t.O,I=t.H,H=t.V,N=t.a,V=t.c,W=t.L,k=t.S},function(t){Z=t.L,U=t.a,q=t.M,X=t.b,Y=t.B,G=t.E,K=t.c,Q=t.P,j=t.R,J=t.S,$=t.d,tt=t.e,et=t.T,at=t.f,it=t.U,nt=t.g,rt=t.h,ot=t.i,st=t.j,ht=t.k,lt=t.l,ut=t.m},function(t){ft=t.P,ct=t.L,dt=t.a,vt=t.G}],execute:function(){t("e",Nt);var xt=new e,pt=new a;function gt(t,a,n,r){var o=n.data,s=a.acquireBufferBatch(),h=s.byteOffset>>2,l=n.vertexCount,u=s.indicesOffset,f=s.vertexOffset;s.request(l,n.indicesCount)||(s=a.currBufferBatch,l=0,u=0,f=0);var c=s.vData,d=s.iData;t.getWorldMatrix(pt);for(var v=0;v<l;v++){var x=o[v];e.set(xt,x.x,x.y,0),e.transformMat4(xt,xt,pt),c[h++]=xt.x,c[h++]=xt.y,c[h++]=xt.z,c[h++]=x.u,c[h++]=x.v,i.toArray(c,r,h),h+=4}for(var p=0,g=l/4;p<g;p++){var y=f+4*p;d[u++]=y,d[u++]=y+1,d[u++]=y+2,d[u++]=y+1,d[u++]=y+3,d[u++]=y+2}}var yt=function(t,e,a){this.i=void 0,this.x=void 0,this.y=void 0,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1,this.i=t,this.x=e,this.y=a};function mt(t,e,a,i,n){var r=0,o=null;if(n===function(t,e,a,i){for(var n=0,r=e,o=a-i;r<a;r+=i)n+=(t[o]-t[r])*(t[r+1]+t[o+1]),o=r;return n}(t,e,a,i)>0)for(r=e;r<a;r+=i)o=It(r,t[r],t[r+1],o);else for(r=a-i;r>=e;r-=i)o=It(r,t[r],t[r+1],o);return o&&Bt(o,o.next)&&(Ht(o),o=o.next),o}function _t(t,e){if(void 0===e&&(e=null),!t)return t;e||(e=t);var a=t,i=!1;do{if(i=!1,a.steiner||!Bt(a,a.next)&&0!==Et(a.prev,a,a.next))a=a.next;else{if(Ht(a),(a=e=a.prev)===a.next)return null;i=!0}}while(i||a!==e);return e}function Ct(t,e,a,i,n,r,o){if(void 0===o&&(o=0),t){!o&&r&&function(t,e,a,i){var n=t;do{null===n.z&&(n.z=At(n.x,n.y,e,a,i)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,function(t){var e=0,a=null,i=null,n=null,r=null,o=0,s=0,h=0,l=1;do{for(a=t,t=null,r=null,o=0;a;){for(o++,i=a,s=0,e=0;e<l&&(s++,i=i.nextZ);e++);for(h=l;s>0||h>0&&i;)0===s?(n=i,i=i.nextZ,h--):0!==h&&i?a.z<=i.z?(n=a,a=a.nextZ,s--):(n=i,i=i.nextZ,h--):(n=a,a=a.nextZ,s--),r?r.nextZ=n:t=n,n.prevZ=r,r=n;a=i}r.nextZ=null,l*=2}while(o>1)}(n)}(t,i,n,r);for(var s=t,h=null,l=null;t.prev!==t.next;)if(h=t.prev,l=t.next,r?Dt(t,i,n,r):wt(t))e.push(h.i/a),e.push(t.i/a),e.push(l.i/a),Ht(t),t=l.next,s=l.next;else if((t=l)===s){o?1===o?Ct(t=bt(t,e,a),e,a,i,n,r,2):2===o&&Tt(t,e,a,i,n,r):Ct(_t(t),e,a,i,n,r,1);break}}}function wt(t){var e=t.prev,a=t,i=t.next;if(Et(e,a,i)>=0)return!1;for(var n=t.next.next;n!==t.prev;){if(Mt(e.x,e.y,a.x,a.y,i.x,i.y,n.x,n.y)&&Et(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function Dt(t,e,a,i){var n=t.prev,r=t,o=t.next;if(Et(n,r,o)>=0)return!1;for(var s=n.x<r.x?n.x<o.x?n.x:o.x:r.x<o.x?r.x:o.x,h=n.y<r.y?n.y<o.y?n.y:o.y:r.y<o.y?r.y:o.y,l=n.x>r.x?n.x>o.x?n.x:o.x:r.x>o.x?r.x:o.x,u=n.y>r.y?n.y>o.y?n.y:o.y:r.y>o.y?r.y:o.y,f=At(s,h,e,a,i),c=At(l,u,e,a,i),d=t.nextZ;d&&d.z<=c;){if(d!==t.prev&&d!==t.next&&Mt(n.x,n.y,r.x,r.y,o.x,o.y,d.x,d.y)&&Et(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(d=t.prevZ;d&&d.z>=f;){if(d!==t.prev&&d!==t.next&&Mt(n.x,n.y,r.x,r.y,o.x,o.y,d.x,d.y)&&Et(d.prev,d,d.next)>=0)return!1;d=d.prevZ}return!0}function bt(t,e,a){var i=t;do{var n=i.prev,r=i.next.next;!Bt(n,r)&&Ot(n,i,i.next,r)&&Pt(n,r)&&Pt(r,n)&&(e.push(n.i/a),e.push(i.i/a),e.push(r.i/a),Ht(i),Ht(i.next),i=t=r),i=i.next}while(i!==t);return i}function Tt(t,e,a,i,n,r){var o=t;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&Ft(o,s)){var h=zt(o,s);return o=_t(o,o.next),h=_t(h,h.next),Ct(o,e,a,i,n,r),void Ct(h,e,a,i,n,r)}s=s.next}o=o.next}while(o!==t)}function St(t,e){return t.x-e.x}function Rt(t,e){if(e=function(t,e){var a=e,i=t.x,n=t.y,r=-1/0,o=null;do{if(n<=a.y&&n>=a.next.y){var s=a.x+(n-a.y)*(a.next.x-a.x)/(a.next.y-a.y);if(s<=i&&s>r){if(r=s,s===i){if(n===a.y)return a;if(n===a.next.y)return a.next}o=a.x<a.next.x?a:a.next}}a=a.next}while(a!==e);if(!o)return null;if(i===r)return o.prev;var h,l=o,u=o.x,f=o.y,c=1/0;for(a=o.next;a!==l;)i>=a.x&&a.x>=u&&Mt(n<f?i:r,n,u,f,n<f?r:i,n,a.x,a.y)&&((h=Math.abs(n-a.y)/(i-a.x))<c||h===c&&a.x>o.x)&&Pt(a,t)&&(o=a,c=h),a=a.next;return o}(t,e)){var a=zt(e,t);_t(a,a.next)}}function At(t,e,a,i,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-a)/n)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)/n)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Lt(t){var e=t,a=t;do{e.x<a.x&&(a=e),e=e.next}while(e!==t);return a}function Mt(t,e,a,i,n,r,o,s){return(n-o)*(e-s)-(t-o)*(r-s)>=0&&(t-o)*(i-s)-(a-o)*(e-s)>=0&&(a-o)*(r-s)-(n-o)*(i-s)>=0}function Ft(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var a=t;do{if(a.i!==t.i&&a.next.i!==t.i&&a.i!==e.i&&a.next.i!==e.i&&Ot(a,a.next,t,e))return!0;a=a.next}while(a!==t);return!1}(t,e)&&Pt(t,e)&&Pt(e,t)&&function(t,e){var a=t,i=!1,n=(t.x+e.x)/2,r=(t.y+e.y)/2;do{a.y>r!=a.next.y>r&&n<(a.next.x-a.x)*(r-a.y)/(a.next.y-a.y)+a.x&&(i=!i),a=a.next}while(a!==t);return i}(t,e)}function Et(t,e,a){return(e.y-t.y)*(a.x-e.x)-(e.x-t.x)*(a.y-e.y)}function Bt(t,e){return t.x===e.x&&t.y===e.y}function Ot(t,e,a,i){return!!(Bt(t,e)&&Bt(a,i)||Bt(t,i)&&Bt(a,e))||Et(t,e,a)>0!=Et(t,e,i)>0&&Et(a,i,t)>0!=Et(a,i,e)>0}function Pt(t,e){return Et(t.prev,t,t.next)<0?Et(t,e,t.next)>=0&&Et(t,t.prev,e)>=0:Et(t,e,t.prev)<0||Et(t,t.next,e)<0}function zt(t,e){var a=new yt(t.i,t.x,t.y),i=new yt(e.i,e.x,e.y),n=t.next,r=e.prev;return t.next=e,e.prev=t,a.next=n,n.prev=a,i.next=a,a.prev=i,r.next=i,i.prev=r,i}function It(t,e,a,i){var n=new yt(t,e,a);return i?(n.next=i.next,n.prev=i,i.next.prev=n,i.next=n):(n.prev=n,n.next=n),n}function Ht(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Nt(t,e,a){a=a||3;var i=e?e.length:0,n=i?e[0]*a:t.length,r=mt(t,0,n,a,!0),o=[];if(!r)return o;var s=0,h=0,l=0,u=0,f=0,c=0,d=0;if(i&&(r=function(t,e,a,i){var n,r=[],o=0,s=null;for(o=0,n=e.length;o<n;o++)(s=mt(t,e[o]*i,o<n-1?e[o+1]*i:t.length,i,!1))&&(s===s.next&&(s.steiner=!0),r.push(Lt(s)));if(r.sort(St),!a)return a;for(o=0;o<r.length;o++)Rt(r[o],a),a=_t(a,a.next);return a}(t,e,r,a)),t.length>80*a){s=l=t[0],h=u=t[1];for(var v=a;v<n;v+=a)(f=t[v])<s&&(s=f),(c=t[v+1])<h&&(h=c),f>l&&(l=f),c>u&&(u=c);d=Math.max(l-s,u-h)}return Ct(r,o,a,s,h,d),o}var Vt=Math.PI,Wt=Math.min,kt=Math.max,Zt=Math.cos,Ut=Math.sin,qt=Math.abs,Xt=Math.sign,Yt=.5522847493;function Gt(t,e,a,i,n){t.moveTo(e-i,a),t.bezierCurveTo(e-i,a+n*Yt,e-i*Yt,a+n,e,a+n),t.bezierCurveTo(e+i*Yt,a+n,e+i,a+n*Yt,e+i,a),t.bezierCurveTo(e+i,a-n*Yt,e+i*Yt,a-n,e,a-n),t.bezierCurveTo(e-i*Yt,a-n,e-i,a-n*Yt,e-i,a),t.close()}for(var Kt=function(t){function e(e,a){var i;return(i=t.call(this,e,a)||this).dx=0,i.dy=0,i.dmx=0,i.dmy=0,i.flags=0,i.len=0,i.reset(),i}return n(e,t),e.prototype.reset=function(){this.dx=0,this.dy=0,this.dmx=0,this.dmy=0,this.flags=0,this.len=0},e}(r),Qt=function(){function t(){this.closed=!1,this.bevel=0,this.complex=!0,this.points=[],this.reset()}return t.prototype.reset=function(){this.closed=!1,this.bevel=0,this.complex=!0,this.points?this.points.length=0:this.points=[]},t}(),jt=function(){function t(){this.dataOffset=0,this.updatePathOffset=!1,this.pathLength=0,this.pathOffset=0,this.paths=[],this.tessTol=.25,this.distTol=.01,this.fillColor=i.WHITE.clone(),this.lineCap=ct.BUTT,this.strokeColor=i.BLACK.clone(),this.lineJoin=dt.MITER,this.lineWidth=0,this.pointsOffset=0,this._commandX=0,this._commandY=0,this._points=[],this._renderDataList=[],this._curPath=null}var e=t.prototype;return e.moveTo=function(t,e){this.updatePathOffset&&(this.pathOffset=this.pathLength,this.updatePathOffset=!1),this._addPath(),this.addPoint(t,e,ft.PT_CORNER),this._commandX=t,this._commandY=e},e.lineTo=function(t,e){this.addPoint(t,e,ft.PT_CORNER),this._commandX=t,this._commandY=e},e.bezierCurveTo=function(t,e,a,i,n,r){var o=this._curPath,s=o.points[o.points.length-1];s&&(s.x!==t||s.y!==e||a!==n||i!==r?(function t(e,a,i,n,r,o,s,h,l,u,f){var c,d,v,x,p,g,y,m,_,C,w,D,b,T,S,R;u>10||(p=.5*(o+h),g=.5*(s+l),y=.5*((c=.5*(a+n))+(v=.5*(n+o))),m=.5*((d=.5*(i+r))+(x=.5*(r+s))),((S=qt((n-h)*(T=l-i)-(r-l)*(b=h-a)))+(R=qt((o-h)*T-(s-l)*b)))*(S+R)<e.tessTol*(b*b+T*T)?e.addPoint(h,l,0===f?f|ft.PT_BEVEL:f):(t(e,a,i,c,d,y,m,w=.5*(y+(_=.5*(v+p))),D=.5*(m+(C=.5*(x+g))),u+1,0),t(e,w,D,_,C,p,g,h,l,u+1,f)))}(this,s.x,s.y,t,e,a,i,n,r,0,ft.PT_CORNER),this._commandX=n,this._commandY=r):this.lineTo(n,r))},e.quadraticCurveTo=function(t,e,a,i){var n=this._commandX,r=this._commandY;this.bezierCurveTo(n+2/3*(t-n),r+2/3*(e-r),a+2/3*(t-a),i+2/3*(e-i),a,i)},e.arc=function(t,e,a,i,n,r){!function(t,e,a,i,n,r,o){var s,h,l=0,u=0,f=0,c=0,d=0,v=0,x=0,p=0,g=0,y=0,m=0,_=0,C=0,w=0;if(u=r-n,o=o||!1)if(qt(u)>=2*Vt)u=2*Vt;else for(;u<0;)u+=2*Vt;else if(qt(u)>=2*Vt)u=2*-Vt;else for(;u>0;)u-=2*Vt;for(h=0|kt(1,Wt(qt(u)/(.5*Vt)+.5,5)),f=qt(4/3*(1-Zt(s=u/h/2))/Ut(s)),o||(f=-f),w=0;w<=h;w++)v=e+(c=Zt(l=n+u*(w/h)))*i,x=a+(d=Ut(l))*i,p=-d*i*f,g=c*i*f,0===w?t.moveTo(v,x):t.bezierCurveTo(y+_,m+C,v-p,x-g,v,x),y=v,m=x,_=p,C=g}(this,t,e,a,i,n,r)},e.ellipse=function(t,e,a,i){Gt(this,t,e,a,i),this._curPath.complex=!1},e.circle=function(t,e,a){Gt(this,t,e,a,a),this._curPath.complex=!1},e.rect=function(t,e,a,i){this.moveTo(t,e),this.lineTo(t+a,e),this.lineTo(t+a,e+i),this.lineTo(t,e+i),this.close(),this._curPath.complex=!1},e.roundRect=function(t,e,a,i,n){!function(t,e,a,i,n,r){if(r<.1)t.rect(e,a,i,n);else{var o=Wt(r,.5*qt(i))*Xt(i),s=Wt(r,.5*qt(n))*Xt(n);t.moveTo(e,a+s),t.lineTo(e,a+n-s),t.bezierCurveTo(e,a+n-s*(1-Yt),e+o*(1-Yt),a+n,e+o,a+n),t.lineTo(e+i-o,a+n),t.bezierCurveTo(e+i-o*(1-Yt),a+n,e+i,a+n-s*(1-Yt),e+i,a+n-s),t.lineTo(e+i,a+s),t.bezierCurveTo(e+i,a+s*(1-Yt),e+i-o*(1-Yt),a,e+i-o,a),t.lineTo(e+o,a),t.bezierCurveTo(e+o*(1-Yt),a,e,a+s*(1-Yt),e,a+s),t.close()}}(this,t,e,a,i,n),this._curPath.complex=!1},e.clear=function(){this.pathLength=0,this.pathOffset=0,this.pointsOffset=0,this.dataOffset=0,this._curPath=null,this.paths.length=0,this._points.length=0;for(var t=this._renderDataList,e=0,a=t.length;e<a;e++){var i=t[e];i&&g.remove(i)}this._renderDataList.length=0},e.close=function(){this._curPath.closed=!0},e.requestRenderData=function(){var t=g.add();return this._renderDataList.push(t),t},e.getRenderData=function(){return 0===this._renderDataList.length&&this.requestRenderData(),this._renderDataList},e.addPoint=function(t,e,a){var i=this._curPath;if(i){var n=this._points,r=i.points,o=n[this.pointsOffset++];o?(o.x=t,o.y=e):(o=new Kt(t,e),n.push(o)),o.flags=a,r.push(o)}},e._addPath=function(){var t=this.pathLength,e=this.paths[t];return e?e.reset():(e=new Qt,this.paths.push(e)),this.pathLength++,this._curPath=e,e},t}(),Jt=Math.PI,$t=Math.min,te=Math.max,ee=Math.ceil,ae=Math.acos,ie=Math.cos,ne=Math.sin,re=Math.atan2,oe=R.concat([new y("a_dist",m.R32F)]),se=A(oe),he=null,le=null,ue=new i,fe=[],ce=0;ce<4;ce++)fe.push(new e);function de(t,e,a){return t<e?e:t>a?a:t}var ve={useModel:!0,createImpl:function(){return new jt},updateRenderData:function(){},fillBuffers:function(){},renderIA:function(){},getRenderData:function(t,e){if(!le)return null;var a=le.getRenderData(),i=a[le.dataOffset];if(!i)return null;var n=i,r=n?n.vertexCount+e:0;return(r>65535||3*r>131070)&&(++le.dataOffset,le.dataOffset<a.length?i=a[le.dataOffset]:(i=le.requestRenderData(),a[le.dataOffset]=i),n=i),n&&n.vertexCount<r&&n.request(e,3*e),i},stroke:function(t){i.copy(ue,t.strokeColor),t.impl&&(this._flattenPaths(t.impl),this._expandStroke(t),t.impl.updatePathOffset=!0,this.end(t))},fill:function(t){i.copy(ue,t.fillColor),this._expandFill(t),t.impl&&(t.impl.updatePathOffset=!0),this.end(t)},end:function(t){var e=t.impl,a=e&&e.getRenderData();if(a&&t.model){var i=t.model.subModels.length,n=a.length;if(n-i>0)for(var r=i;r<n;r++)t.activeSubModel(r);for(var o=t.model.subModels,s=0;s<a.length;s++){var h=a[s],l=o[s].inputAssembler,u=Float32Array.BYTES_PER_ELEMENT*se,f=h.vertexStart*u,c=new Float32Array(h.vData.buffer,0,f>>2);l.vertexCount=h.vertexStart,l.vertexBuffers[0].update(c);var d=new Uint16Array(h.iData.buffer,0,h.indicesStart);l.indexCount=h.indicesStart,l.indexBuffer.update(d)}t.markForUpdateRenderData()}},_expandStroke:function(t){var e,a,i,n,r=.5*t.lineWidth,o=t.lineCap,s=t.lineJoin,h=t.miterLimit;if(le=t.impl){var l=(e=r,a=Jt,i=le.tessTol,n=2*ae(e/(e+i)),te(2,ee(a/n)));this._calculateJoins(le,r,s,h);for(var u=le.paths,f=0,c=le.pathOffset,d=le.pathLength;c<d;c++){var v=u[c],x=v.points.length;s===dt.ROUND?f+=2*(x+v.bevel*(l+2)+1):f+=2*(x+5*v.bevel+1),v.closed||(o===ct.ROUND?f+=2*(2*l+2):f+=12)}var p=he=this.getRenderData(t,f);if(p){for(var g=p.vData,y=p.iData,m=le.pathOffset,_=le.pathLength;m<_;m++){var C=u[m],w=C.points,D=w.length,b=p.vertexStart,T=void 0,S=void 0,R=0,A=0,L=C.closed;if(L?(T=w[D-1],S=w[0],R=0,A=D):(T=w[0],S=w[1],R=1,A=D-1),S=S||T,!L){var M=new Kt(S.x,S.y);M.subtract(T),M.normalize();var F=M.x,E=M.y;o===ct.BUTT?this._buttCapStart(T,F,E,r,0):o===ct.SQUARE?this._buttCapStart(T,F,E,r,r):o===ct.ROUND&&this._roundCapStart(T,F,E,r,l)}for(var B=R;B<A;++B)s===dt.ROUND?this._roundJoin(T,S,r,r,l):0!=(S.flags&(ft.PT_BEVEL|ft.PT_INNERBEVEL))?this._bevelJoin(T,S,r,r):(this._vSet(S.x+S.dmx*r,S.y+S.dmy*r,1),this._vSet(S.x-S.dmx*r,S.y-S.dmy*r,-1)),T=S,S=w[B+1];if(L){var O=8*b;this._vSet(g[O],g[O+1],1),this._vSet(g[O+8],g[O+8+1],-1)}else{var P=new Kt(S.x,S.y);P.subtract(T),P.normalize();var z=P.x,I=P.y;o===ct.BUTT?this._buttCapEnd(S,z,I,r,0):o===ct.SQUARE?this._buttCapEnd(S,z,I,r,r):o===ct.ROUND&&this._roundCapEnd(S,z,I,r,l)}for(var H=p.indicesStart,N=b+2,V=p.vertexStart;N<V;N++)y[H++]=N-2,y[H++]=N-1,y[H++]=N;p.indicesStart=H}he=null,le=null}}},_expandFill:function(t){if(le=t.impl){for(var e=le.paths,a=0,i=le.pathOffset,n=le.pathLength;i<n;i++)a+=e[i].points.length;var r=he=this.getRenderData(t,a);if(r){for(var o=r,s=o.vData,h=o.iData,l=le.pathOffset,u=le.pathLength;l<u;l++){var f=e[l],c=f.points,d=c.length;if(0!==d){for(var v=r.vertexStart,x=0;x<d;++x)this._vSet(c[x].x,c[x].y);var p=r.indicesStart;if(f.complex){for(var g=[],y=v,m=r.vertexStart;y<m;y++){var _=8*y;g.push(s[_++]),g.push(s[_++]),g.push(s[_++])}var C=Nt(g,null,3);if(!C||0===C.length)continue;for(var w=0,D=C.length;w<D;w++)h[p++]=C[w]+v}else for(var b=v,T=v+2,S=o.vertexStart;T<S;T++)h[p++]=b,h[p++]=T-1,h[p++]=T;o.indicesStart=p}}he=null,le=null}}},_calculateJoins:function(t,e,a,i){var n=0;e>0&&(n=1/e);for(var r=t.paths,o=t.pathOffset,s=t.pathLength;o<s;o++){var h=r[o],l=h.points,u=l.length,f=l[u-1],c=l[0];h.bevel=0;for(var d=0;d<u;d++){var v,x,p=f.dy,g=-f.dx,y=c.dy,m=-c.dx;if(c.dmx=.5*(p+y),c.dmy=.5*(g+m),(v=c.dmx*c.dmx+c.dmy*c.dmy)>1e-6){var _=1/v;_>600&&(_=600),c.dmx*=_,c.dmy*=_}c.dx*f.dy-f.dx*c.dy>0&&(c.flags|=ft.PT_LEFT),v*(x=te(11,$t(f.len,c.len)*n))*x<1&&(c.flags|=ft.PT_INNERBEVEL),c.flags&ft.PT_CORNER&&(v*i*i<1||a===dt.BEVEL||a===dt.ROUND)&&(c.flags|=ft.PT_BEVEL),0!=(c.flags&(ft.PT_BEVEL|ft.PT_INNERBEVEL))&&h.bevel++,f=c,c=l[d+1]}}},_flattenPaths:function(t){for(var e=t.paths,a=t.pathOffset,i=t.pathLength;a<i;a++){var n=e[a],r=n.points,o=r[r.length-1],s=r[0];r.length>2&&o.equals(s)&&(n.closed=!0,r.pop(),o=r[r.length-1]);for(var h=0,l=r.length;h<l;h++){var u=new Kt(s.x,s.y);u.subtract(o),o.len=u.length(),(u.x||u.y)&&u.normalize(),o.dx=u.x,o.dy=u.y,o=s,s=r[h+1]}}},_chooseBevel:function(t,e,a,i){var n=a.x,r=a.y,o=0,s=0,h=0,l=0;return 0!==t?(o=n+e.dy*i,s=r-e.dx*i,h=n+a.dy*i,l=r-a.dx*i):(o=h=n+a.dmx*i,s=l=r+a.dmy*i),[o,s,h,l]},_buttCapStart:function(t,e,a,i,n){var r=t.x-e*n,o=t.y-a*n,s=a,h=-e;this._vSet(r+s*i,o+h*i,1),this._vSet(r-s*i,o-h*i,-1)},_buttCapEnd:function(t,e,a,i,n){var r=t.x+e*n,o=t.y+a*n,s=a,h=-e;this._vSet(r+s*i,o+h*i,1),this._vSet(r-s*i,o-h*i,-1)},_roundCapStart:function(t,e,a,i,n){for(var r=t.x,o=t.y,s=a,h=-e,l=0;l<n;l++){var u=l/(n-1)*Jt,f=ie(u)*i,c=ne(u)*i;this._vSet(r-s*f-e*c,o-h*f-a*c,1),this._vSet(r,o,0)}this._vSet(r+s*i,o+h*i,1),this._vSet(r-s*i,o-h*i,-1)},_roundCapEnd:function(t,e,a,i,n){var r=t.x,o=t.y,s=a,h=-e;this._vSet(r+s*i,o+h*i,1),this._vSet(r-s*i,o-h*i,-1);for(var l=0;l<n;l++){var u=l/(n-1)*Jt,f=ie(u)*i,c=ne(u)*i;this._vSet(r,o,0),this._vSet(r-s*f+e*c,o-h*f+a*c,1)}},_roundJoin:function(t,e,a,i,n){var r=t.dy,o=-t.dx,s=e.dy,h=-e.dx,l=e.x,u=e.y;if(0!=(e.flags&ft.PT_LEFT)){var f=this._chooseBevel(e.flags&ft.PT_INNERBEVEL,t,e,a),c=f[0],d=f[1],v=f[2],x=f[3],p=re(-o,-r),g=re(-h,-s);g>p&&(g-=2*Jt),this._vSet(c,d,1),this._vSet(l-r*i,e.y-o*i,-1);for(var y=de(ee((p-g)/Jt)*n,2,n),m=0;m<y;m++){var _=p+m/(y-1)*(g-p),C=l+ie(_)*i,w=u+ne(_)*i;this._vSet(l,u,0),this._vSet(C,w,-1)}this._vSet(v,x,1),this._vSet(l-s*i,u-h*i,-1)}else{var D=this._chooseBevel(e.flags&ft.PT_INNERBEVEL,t,e,-i),b=D[0],T=D[1],S=D[2],R=D[3],A=re(o,r),L=re(h,s);L<A&&(L+=2*Jt),this._vSet(l+r*i,u+o*i,1),this._vSet(b,T,-1);for(var M=de(ee((L-A)/Jt)*n,2,n),F=0;F<M;F++){var E=A+F/(M-1)*(L-A),B=l+ie(E)*a,O=u+ne(E)*a;this._vSet(B,O,1),this._vSet(l,u,0)}this._vSet(l+s*i,u+h*i,1),this._vSet(S,R,-1)}},_bevelJoin:function(t,e,a,i){var n=0,r=0,o=0,s=0,h=0,l=0,u=0,f=0,c=t.dy,d=-t.dx,v=e.dy,x=-e.dx;if(e.flags&ft.PT_LEFT){var p=this._chooseBevel(e.flags&ft.PT_INNERBEVEL,t,e,a);h=p[0],l=p[1],u=p[2],f=p[3],this._vSet(h,l,1),this._vSet(e.x-c*i,e.y-d*i,-1),this._vSet(u,f,1),this._vSet(e.x-v*i,e.y-x*i,-1)}else{var g=this._chooseBevel(e.flags&ft.PT_INNERBEVEL,t,e,-i);n=g[0],r=g[1],o=g[2],s=g[3],this._vSet(e.x+c*a,e.y+d*a,1),this._vSet(n,r,-1),this._vSet(e.x+v*a,e.y+x*a,1),this._vSet(o,s,-1)}},_vSet:function(t,e,a){if(void 0===a&&(a=0),he){var n=he,r=8*n.vertexStart,o=n.vData;o[r++]=t,o[r++]=e,o[r++]=0,i.toArray(o,ue,r),r+=4,o[r++]=a,n.vertexStart++}}},xe=t("g",{getAssembler:function(){return ve}});vt.Assembler=xe;var pe=function(){this.char="",this.valid=!0,this.x=0,this.y=0,this.line=0,this.hash=""},ge=new o,ye=null,me=null,_e=[],Ce=[],we=[],De=[],be=new s,Te=new s,Se=new r,Re=null,Ae=0,Le=0,Me=0,Fe=0,Ee=0,Be=1,Oe=null,Pe="",ze=0,Ie=0,He=0,Ne=0,Ve=0,We=0,ke=0,Ze=!1,Ue=0,qe=0,Xe=0,Ye={updateRenderData:function(t){t.renderData&&t.renderData.vertDirty&&ye!==t&&(me=(ye=t).node._uiProps.uiTransformComp,this._updateFontFamily(t),this._updateProperties(t),this._updateLabelInfo(t),this._updateContent(),ye.actualFontSize=ze,me.setContentSize(Te),ye.renderData.vertDirty=ye.renderData.uvDirty=!1,ye=null,this._resetProperties())},_updateFontScale:function(){Be=ze/Ie},_updateFontFamily:function(t){var e=t.font;Oe=e.spriteFrame,Re=e.fntConfig,P.fontAtlas=e.fontDefDictionary},_updateLabelInfo:function(){P.hash="",P.margin=0},_updateProperties:function(t){Pe=t.string.toString(),ze=t.fontSize,Ie=Re?Re.fontSize:t.fontSize,He=t.horizontalAlign,Ne=t.verticalAlign,Ve=t.spacingX,ke=t.overflow,We=t._lineHeight;var e=me.contentSize;Te.width=e.width,Te.height=e.height,ke===z.NONE?(Ze=!1,Te.width+=2*P.margin,Te.height+=2*P.margin):ke===z.RESIZE_HEIGHT?(Ze=!0,Te.height+=2*P.margin):Ze=t.enableWrapText,P.lineHeight=We,P.fontSize=ze,this._setupBMFontOverflowMetrics()},_resetProperties:function(){Re=null,Oe=null,P.hash="",P.margin=0},_updateContent:function(){this._updateFontScale(),this._computeHorizontalKerningForText(),this._alignText()},_computeHorizontalKerningForText:function(){for(var t=Pe,e=t.length,a=Re.kerningDict,i=_e,n=-1,r=0;r<e;++r){var o=t.charCodeAt(r),s=a[n<<16|65535&o]||0;i[r]=r<e-1?s:0,n=o}},_multilineTextWrap:function(t){for(var e=Pe.length,a=0,i=0,n=0,r=0,o=0,s=0,h=0,l=null,u=0;u<e;){var f=Pe.charAt(u);if("\n"!==f){for(var c=t(Pe,u,e),d=s,v=h,x=o,p=i,g=!1,y=0;y<c;++y){var m=u+y;if("\r"!==(f=Pe.charAt(m)))if(l=P.fontAtlas.getLetterDefinitionForChar(f,P)){var C=p+l.offsetX*Be-P.margin;if(Ze&&Xe>0&&i>0&&C+l.w*Be>Xe&&!_(f)){we.push(o),o=0,a++,i=0,n-=We*this._getFontScale()+0,g=!0;break}Se.x=C,Se.y=n-l.offsetY*Be,this._recordLetterInfo(Se,f,m,a),m+1<_e.length&&m<e-1&&(p+=_e[m+1]),p+=l.xAdvance*Be+Ve,x=Se.x+l.w*Be,d<Se.y&&(d=Se.y),v>Se.y-l.h*Be&&(v=Se.y-l.h*Be)}else this._recordPlaceholderInfo(m,f),console.log("Can't find letter definition in texture atlas "+Re.atlasName+" for letter:"+f);else this._recordPlaceholderInfo(m,f)}g||(i=p,s<d&&(s=d),h>v&&(h=v),r<(o=x)&&(r=o),u+=c)}else we.push(o),o=0,a++,i=0,n-=We*this._getFontScale()+0,this._recordPlaceholderInfo(u,f),u++}return we.push(o),Le=(Ae=a+1)*We*this._getFontScale(),Ae>1&&(Le+=0*(Ae-1)),Te.width=Ue,Te.height=qe,Ue<=0&&(Te.width=parseFloat(r.toFixed(2))+2*P.margin),qe<=0&&(Te.height=parseFloat(Le.toFixed(2))+2*P.margin),Fe=Te.height,Ee=0,s>0&&(Fe=Te.height+s),h<-Le&&(Ee=Le+h),!0},_getFirstCharLen:function(){return 1},_getFontScale:function(){return ke===z.SHRINK?Be:1},_getFirstWordLen:function(t,e,a){var i=t.charAt(e);if(C(i)||"\n"===i||_(i))return 1;var n=1,r=P.fontAtlas.getLetterDefinitionForChar(i,P);if(!r)return n;for(var o=r.xAdvance*Be+Ve,s=e+1;s<a&&(i=t.charAt(s),r=P.fontAtlas.getLetterDefinitionForChar(i,P));++s){if(o+r.offsetX*Be+r.w*Be>Xe&&!_(i)&&Xe>0)return n;if(o+=r.xAdvance*Be+Ve,"\n"===i||_(i)||C(i))break;n++}return n},_multilineTextWrapByWord:function(){return this._multilineTextWrap(this._getFirstWordLen)},_multilineTextWrapByChar:function(){return this._multilineTextWrap(this._getFirstCharLen)},_recordPlaceholderInfo:function(t,e){if(t>=Ce.length){var a=new pe;Ce.push(a)}Ce[t].char=e,Ce[t].hash=e.charCodeAt(0)+P.hash,Ce[t].valid=!1},_recordLetterInfo:function(t,e,a,i){if(a>=Ce.length){var n=new pe;Ce.push(n)}var r=e.charCodeAt(0)+P.hash;Ce[a].line=i,Ce[a].char=e,Ce[a].hash=r,Ce[a].valid=P.fontAtlas.getLetter(r).valid,Ce[a].x=t.x,Ce[a].y=t.y},_alignText:function(){Le=0,we.length=0,this._multilineTextWrapByWord(),this._computeAlignmentOffset(),ke===z.SHRINK&&ze>0&&this._isVerticalClamp()&&this._shrinkLabelToContentSize(this._isVerticalClamp),this._updateQuads()||ke===z.SHRINK&&this._shrinkLabelToContentSize(this._isHorizontalClamp)},_scaleFontSizeDown:function(t){var e=!0;t||(t=.1,e=!1),ze=t,e&&this._updateContent()},_shrinkLabelToContentSize:function(t){for(var e=0,a=0|ze,i=0;e<a;){var n=i=e+a+1>>1;if(n<=0)break;Be=n/Ie,this._multilineTextWrapByWord(),this._computeAlignmentOffset(),t()?a=i-1:e=i}e>=0&&this._scaleFontSizeDown(e)},_isVerticalClamp:function(){return Le>Te.height},_isHorizontalClamp:function(){for(var t=!1,e=0,a=Pe.length;e<a;++e){var i=Ce[e];if(i.valid){var n=P.fontAtlas.getLetterDefinitionForChar(i.char,P);if(!n)continue;var r=i.x+n.w/2*Be,o=i.line;if(Ue>0)if(Ze){if(we[o]>Te.width&&(r>Te.width||r<0)){t=!0;break}}else if(r>Te.width){t=!0;break}}}return t},_isHorizontalClamped:function(t,e){var a=we[e],i=t>Te.width||t<0;return Ze?a>Te.width&&i:i},_updateQuads:function(){if(!ye)return!1;var t=Oe?Oe.texture:P.fontAtlas.getTexture(),e=ye.renderData;e.dataLength=e.vertexCount=e.indicesCount=0;for(var a=me.anchorPoint,i=Te,n=a.x*i.width,r=a.y*i.height,o=!0,s=0,h=Pe.length;s<h;++s){var l=Ce[s];if(l.valid){var u=P.fontAtlas.getLetter(l.hash);if(u){ge.height=u.h,ge.width=u.w,ge.x=u.u,ge.y=u.v;var f=l.y+Me;if(qe>0){if(f>Fe){var c=f-Fe;ge.y+=c,ge.height-=c,f-=c}f-u.h*Be<Ee&&ke===z.CLAMP&&(ge.height=f<Ee?0:(f-Ee)/Be)}var d=l.line,v=l.x+u.w/2*Be+De[d];if(Ue>0&&this._isHorizontalClamped(v,d))if(ke===z.CLAMP)ge.width=0;else if(ke===z.SHRINK){if(Te.width>u.w){o=!1;break}ge.width=0}if(ge.height>0&&ge.width>0){var x=this._determineRect(),p=l.x+De[l.line];this.appendQuad(ye,t,ge,x,p-n,f-r,Be)}}else console.warn("Can't find letter in this bitmap-font")}}return o},appendQuad:function(){},_determineRect:function(){var t=Oe.isRotated(),e=Oe.getOriginalSize(),a=Oe.getRect(),i=Oe.getOffset(),n=i.x+(e.width-a.width)/2,r=i.y-(e.height-a.height)/2;if(t){var o=ge.x;ge.x=a.x+a.height-ge.y-ge.height-r,ge.y=o+a.y-n,ge.y<0&&(ge.height=ge.height+r)}else ge.x+=a.x-n,ge.y+=a.y+r;return t},_computeAlignmentOffset:function(){switch(De.length=0,He){case I.LEFT:for(var t=0;t<Ae;++t)De.push(0);break;case I.CENTER:for(var e=0,a=we.length;e<a;e++)De.push((Te.width-we[e])/2);break;case I.RIGHT:for(var i=0,n=we.length;i<n;i++)De.push(Te.width-we[i])}if(Me=Te.height,Ne!==H.TOP){var r=Te.height-Le+We*this._getFontScale()-Ie*Be;Ne===H.BOTTOM?Me-=r:Me-=r/2}},_setupBMFontOverflowMetrics:function(){var t=Te.width,e=Te.height;ke===z.RESIZE_HEIGHT&&(e=0),ke===z.NONE&&(t=0,e=0),Ue=t,qe=e,be.width=t,be.height=e,Xe=t}},Ge={createData:function(t){return t.requestRenderData()},fillBuffers:function(t,e){gt(t.node,e,t.renderData,t.color)},appendQuad:function(t,e,a,i,n,r,o){var s=t.renderData;if(s){var h=s.dataLength;s.dataLength+=4,s.vertexCount=s.dataLength,s.indicesCount=s.dataLength/2*3;var l=s.data,u=e.width,f=e.height,c=a.width,d=a.height,v=0,x=0,p=0,g=0;i?(v=a.x/u,g=(a.x+d)/u,x=(a.y+c)/f,p=a.y/f,l[h].u=v,l[h].v=p,l[h+1].u=v,l[h+1].v=x,l[h+2].u=g,l[h+2].v=p,l[h+3].u=g,l[h+3].v=x):(v=a.x/u,g=(a.x+c)/u,x=(a.y+d)/f,p=a.y/f,l[h].u=v,l[h].v=x,l[h+1].u=g,l[h+1].v=x,l[h+2].u=v,l[h+2].v=p,l[h+3].u=g,l[h+3].v=p),l[h].x=n,l[h].y=r-d*o,l[h+1].x=n+c*o,l[h+1].y=r-d*o,l[h+2].x=n,l[h+2].y=r,l[h+3].x=n+c*o,l[h+3].y=r}}};h(Ge,Ye);var Ke=null,Qe=l(Ye,{getAssemblerData:function(){return Ke||(Ke=new N(1024,1024)),Ke.getTexture()},_updateFontFamily:function(t){P.fontAtlas=Ke,P.fontFamily=this._getFontFamily(t);var e=t.getComponent(Z);e&&e.enabled?(P.isOutlined=!0,P.margin=e.width,P.out=e.color.clone(),P.out.a=e.color.a*t.color.a/255):(P.isOutlined=!1,P.margin=0)},_getFontFamily:function(t){var e="Arial";return t.useSystemFont?e=t.fontFamily||"Arial":t.font&&(t.font._nativeAsset?e=t.font._nativeAsset:L.postLoadNative(t.font,(function(){t.isValid&&(e=t.font._nativeAsset||"Arial",t.updateRenderData(!0))}))),e},_updateLabelInfo:function(t){P.fontDesc=this._getFontDesc(),P.color=t.color,P.hash=V(P)},_getFontDesc:function(){return P.fontSize.toString()+"px "+P.fontFamily},_computeHorizontalKerningForText:function(){},_determineRect:function(){return!1}}),je=new i(255,255,255,255),Je={createData:function(t){return t.requestRenderData()},fillBuffers:function(t,e){if(t.renderData){var a=t.node;je.a=t.color.a,gt(a,e,t.renderData,je)}},appendQuad:Ge.appendQuad};h(Je,Qe);var $e=W.Overflow,ta=S(),ea=null,aa=null,ia=null,na="",ra="",oa=0,sa=0,ha=[],la=new s,ua=0,fa=0,ca=0,da=new i,va="",xa=$e.NONE,pa=!1,ga=null,ya=i.BLACK.clone(),ma=null,_a=i.BLACK.clone(),Ca=new o,wa=s.ZERO.clone(),Da=s.ZERO.clone(),ba=r.ZERO.clone(),Ta=r.ZERO.clone(),Sa=0,Ra=0,Aa=!1,La=!1,Ma=!1,Fa=["left","center","right"],Ea={getAssemblerData:function(){return W._canvasPool.get()},resetAssemblerData:function(t){t&&W._canvasPool.put(t)},updateRenderData:function(t){if(t.renderData&&t.renderData.vertDirty){var e=t.node._uiProps.uiTransformComp;this._updateFontFamily(t),this._updateProperties(t,e),this._calculateLabelFont(),this._updateLabelDimensions(),this._updateTexture(),t.actualFontSize=oa,e.setContentSize(la),this.updateVertexData(t),t.markForUpdateRenderData(!1),ea=null,aa=null,ia=null}},updateVertexData:function(){},_updateFontFamily:function(t){t.useSystemFont?va=t.fontFamily||"Arial":t.font?t.font._nativeAsset?va=t.font._nativeAsset:(L.postLoadNative(t.font,(function(){t.isValid&&(va=t.font._nativeAsset||"Arial",t.updateRenderData(!0))})),va="Arial"):va="Arial"},_updateProperties:function(t,e){var a=t.assemblerData;a&&(ea=a.context,aa=a.canvas,ia=t.spriteFrame,ra=t.string.toString(),oa=t.fontSize,sa=oa,xa=t.overflow,la.width=e.width,la.height=e.height,Da=e.contentSize,Ra=t.underlineHeight,ua=t.lineHeight,fa=t.horizontalAlign,ca=t.verticalAlign,da=t.color,Aa=t.isBold,La=t.isItalic,Ma=t.isUnderline,pa=xa!==$e.NONE&&(xa===$e.RESIZE_HEIGHT||t.enableWrapText),(ga=(ga=Z&&t.getComponent(Z))&&ga.enabled&&ga.width>0?ga:null)&&ya.set(ga.color),(ma=(ma=U&&t.getComponent(U))&&ma.enabled?ma:null)&&_a.set(ma.color),this._updatePaddingRect())},_updatePaddingRect:function(){var t=0,e=0,a=0,i=0,n=0;if(wa.width=wa.height=0,ga&&(t=e=a=i=n=ga.width,wa.width=wa.height=2*n),ma){var r=ma.blur+n,o=ma.offset.x,s=ma.offset.y;a=Math.max(a,-o+r),i=Math.max(i,o+r),t=Math.max(t,s+r),e=Math.max(e,-s+r)}if(La){var h=sa*Math.tan(.20943951);i+=h,wa.width+=h}Ca.x=a,Ca.y=t,Ca.width=a+i,Ca.height=t+e},_calculateFillTextStartPosition:function(){var t=0;fa===I.RIGHT?t=la.width-Ca.width:fa===I.CENTER&&(t=(la.width-Ca.width)/2);var e=this._getLineHeight()*(ha.length-1),a=oa*(1-T/2);if(ca!==H.TOP){var i=e+Ca.height+oa-la.height;ca===H.BOTTOM?a-=i+=T/2*oa:a-=i/2}return a+=ta*oa,ba.set(t+Ca.x,a+Ca.y)},_updateTexture:function(){if(ea&&aa){ea.clearRect(0,0,aa.width,aa.height),ea.font=na,this._calculateFillTextStartPosition();var t=this._getLineHeight();ea.lineJoin="round",ea.fillStyle="rgba("+da.r+", "+da.g+", "+da.b+", 1)";var e,a=ba.x,i=0;this._drawTextEffect(ba,t);for(var n=0;n<ha.length;++n)i=ba.y+n*t,ga&&ea.strokeText(ha[n],a,i),ea.fillText(ha[n],a,i);ma&&(ea.shadowColor="transparent"),ia&&(e=ia instanceof w?ia.texture:ia,0!==aa.width&&0!==aa.height&&(e.reset({width:aa.width,height:aa.height,mipmapLevel:1}),e.uploadData(aa),u.director.root&&u.director.root.ui&&u.director.root.ui._releaseDescriptorSetCache(e.getHash())))}},_setupOutline:function(){ea.strokeStyle="rgba("+ya.r+", "+ya.g+", "+ya.b+", "+ya.a/255+")",ea.lineWidth=2*ga.width},_setupShadow:function(){ea.shadowColor="rgba("+_a.r+", "+_a.g+", "+_a.b+", "+_a.a/255+")",ea.shadowBlur=ma.blur,ea.shadowOffsetX=ma.offset.x,ea.shadowOffsetY=-ma.offset.y},_drawTextEffect:function(t,e){if(ma||ga||Ma){var a=ha.length>1&&ma,i=this._measureText(ea,na),n=0,r=0;ma&&this._setupShadow(),ga&&this._setupOutline();for(var o=0;o<ha.length;++o)n=t.x,r=t.y+o*e,a&&(ga&&ea.strokeText(ha[o],n,r),ea.fillText(ha[o],n,r)),Ma&&(Sa=i(ha[o]),fa===I.RIGHT?Ta.x=t.x-Sa:fa===I.CENTER?Ta.x=t.x-Sa/2:Ta.x=t.x,Ta.y=r+sa/8,ea.fillRect(Ta.x,Ta.y,Sa,Ra));a&&(ea.shadowColor="transparent")}},_updateLabelDimensions:function(){la.width=Math.min(la.width,2048),la.height=Math.min(la.height,2048);var t=!1;aa.width!==la.width&&(aa.width=la.width,t=!0),aa.height!==la.height&&(aa.height=la.height,t=!0),t&&(ea.font=na),ea.textAlign=Fa[fa],ea.textBaseline="alphabetic"},_getFontDesc:function(){var t=oa.toString()+"px ";return t+=va,Aa&&(t="bold "+t),La&&(t="italic "+t),t},_getLineHeight:function(){return 0|(0===ua?oa:ua*oa/sa)},_calculateParagraphLength:function(t,e){for(var a,i=[],n=f(t);!(a=n()).done;){var r=a.value,o=D(e,r,na);i.push(o)}return i},_measureText:function(t,e){return function(a){return D(t,a,e)}},_calculateShrinkFont:function(t){if(ea){var e=this._calculateParagraphLength(t,ea),a=0,i=0,n=0;if(pa){var r=Da.width,o=Da.height;if(r<0||o<0)return;i=o+1;for(var s=0,h=0|oa+1,l=0;s<h;){if((l=s+h+1>>1)<=0){c(4003);break}oa=l,na=this._getFontDesc(),ea.font=na;var u=this._getLineHeight();for(i=0,a=0;a<t.length;++a){var f=D(ea,t[a],na);i+=b(t[a],f,r,this._measureText(ea,na)).length*u}i>o?h=l-1:s=l}0===s?c(4003):(oa=s,na=this._getFontDesc(),ea.font=na)}else{for(i=t.length*this._getLineHeight(),a=0;a<t.length;++a)n<e[a]&&(n=e[a]);var d=(la.width-Ca.width)/n,v=la.height/i;oa=sa*Math.min(1,d,v)|0,na=this._getFontDesc(),ea.font=na}}},_calculateWrapText:function(t){if(pa&&ea){ha=[];for(var e=Da.width,a=0;a<t.length;++a){var i=D(ea,t[a],na),n=b(t[a],i,e,this._measureText(ea,na));ha=ha.concat(n)}}},_calculateLabelFont:function(){if(ea){var t=ra.split("\n");switch(ha=t,na=this._getFontDesc(),ea.font=na,xa){case $e.NONE:for(var e=0,a=0,i=0;i<t.length;++i){var n=D(ea,t[i],na);e=e>n?e:n}a=(ha.length+T)*this._getLineHeight();var r=parseFloat(e.toFixed(2)),o=parseFloat(a.toFixed(2));la.width=r+Ca.width,la.height=o+Ca.height,Da.width=r+wa.width,Da.height=o+wa.height;break;case $e.SHRINK:this._calculateShrinkFont(t),this._calculateWrapText(t);break;case $e.CLAMP:this._calculateWrapText(t);break;case $e.RESIZE_HEIGHT:this._calculateWrapText(t);var s=(ha.length+T)*this._getLineHeight();la.height=s+Ca.height,Da.height=s+wa.height}}}},Ba=i.WHITE.clone(),Oa={createData:function(t){var e=t.requestRenderData();e.dataLength=4,e.vertexCount=4,e.indicesCount=6;var a=e.vData=new Float32Array(36);a[3]=a[21]=a[22]=a[31]=0,a[4]=a[12]=a[13]=a[30]=1;for(var n=5,r=0;r<4;r++)i.toArray(a,Ba,n),n+=9;return e},fillBuffers:function(t,e){var a=t.renderData,i=a.data,n=t.node,r=e.acquireBufferBatch(),o=r.byteOffset>>2,s=r.indicesOffset,h=r.vertexOffset;r.request()||(r=e.currBufferBatch,s=0,h=0);var l=r.vData,u=r.iData,f=a.vData,c=i[0],d=i[3];n.updateWorldTransform();var v=n._pos,x=n._rot,p=n._scale,g=c.x*p.x,y=d.x*p.x,m=c.y*p.y,_=d.y*p.y,C=x.x,w=x.y,D=x.z,b=x.w,T=C*w,S=D*b,R=C*C-w*w,A=b*b-D*D,L=A+R,M=2*(T-S),F=A-R,E=2*(T+S),B=v.x,O=v.y;f[0]=L*g+M*m+B,f[1]=F*m+E*g+O,f[9]=L*y+M*m+B,f[10]=F*m+E*y+O,f[18]=L*g+M*_+B,f[19]=F*_+E*g+O,f[27]=L*y+M*_+B,f[28]=F*_+E*y+O,l.set(f,o),u[s++]=h,u[s++]=h+1,u[s++]=h+2,u[s++]=h+2,u[s++]=h+1,u[s++]=h+3},updateVertexData:function(t){var e=t.renderData;if(e){var a=t.node._uiProps.uiTransformComp,i=a.width,n=a.height,r=a.anchorX*i,o=a.anchorY*n,s=e.data;s[0].x=-r,s[0].y=-o,s[3].x=i-r,s[3].y=n-o}}};h(Oa,Ea);var Pa=t("l",{getAssembler:function(t){var e=Oa;return t.font instanceof M?e=Ge:t.cacheMode===W.CacheMode.CHAR&&(e=Je),e}});W.Assembler=Pa;var za=k.FillType,Ia=new a,Ha={useModel:!1,updateRenderData:function(t){var e=t.spriteFrame,a=t.renderData;if(a&&e){var i=a.uvDirty,n=a.vertDirty;if(!i&&!n)return;var r=t.fillStart,o=t.fillRange;o<0&&(r+=o,o=-o),o=(o=(o=r+o)>1?1:o)<0?0:o;var s=(r=(r=r>1?1:r)<0?0:r)+(o=(o-=r)<0?0:o);s=s>1?1:s,i&&this.updateUVs(t,r,s),n&&(this.updateVertexData&&this.updateVertexData(t,r,s),this.updateWorldVertexData(t))}},updateUVs:function(t,e,a){var i=t.spriteFrame,n=t.renderData,r=n.data,o=i.width,s=i.height,h=i.getRect(),l=0,u=0,f=0,c=0,v=0,x=0,p=0,g=0,y=0,m=0;switch(i.isRotated()?(l=h.x/o,u=(h.y+h.width)/s,f=v=l,p=y=(h.x+h.height)/o,x=m=u,c=g=h.y/s):(l=h.x/o,u=(h.y+h.height)/s,f=p=l,v=y=(h.x+h.width)/o,c=x=u,g=m=h.y/s),t.fillType){case za.HORIZONTAL:r[0].u=f+(v-f)*e,r[0].v=c+(x-c)*e,r[1].u=f+(v-f)*a,r[1].v=c+(x-c)*a,r[2].u=p+(y-p)*e,r[2].v=g+(m-g)*e,r[3].u=p+(y-p)*a,r[3].v=g+(m-g)*a;break;case za.VERTICAL:r[0].u=f+(p-f)*e,r[0].v=c+(g-c)*e,r[1].u=v+(y-v)*e,r[1].v=x+(m-x)*e,r[2].u=f+(p-f)*a,r[2].v=c+(g-c)*a,r[3].u=v+(y-v)*a,r[3].v=x+(m-x)*a;break;default:d(2626)}n.uvDirty=!1},updateVertexData:function(t,e,a){var i=t.renderData,n=i.data,r=t.node._uiProps.uiTransformComp,o=r.width,s=r.height,h=r.anchorX*o,l=r.anchorY*s,u=-h,f=-l,c=o-h,v=s-l,x=0;switch(t.fillType){case za.HORIZONTAL:x=u+(c-u)*a,u+=(c-u)*e,c=x;break;case za.VERTICAL:x=f+(v-f)*a,f+=(v-f)*e,v=x;break;default:d(2626)}n[4].x=u,n[4].y=f,n[5].x=c,n[5].y=f,n[6].x=u,n[6].y=v,n[7].x=c,n[7].y=v,i.vertDirty=!1},createData:function(t){var e=t.requestRenderData();e.dataLength=8,e.vertexCount=4,e.indicesCount=6;for(var a,i=e.data,n=f(i);!(a=n()).done;)a.value.z=0;return e},updateWorldVertexData:function(t){var a=t.node,i=t.renderData.data;a.getWorldMatrix(Ia);for(var n=0;n<4;n++){var r=i[n+4],o=i[n];e.transformMat4(o,r,Ia)}},fillBuffers:function(t,e){t.node.hasChangedFlags&&this.updateWorldVertexData(t),t.node,function(t,e,a,n){var r=a.data,o=e.acquireBufferBatch(),s=o.byteOffset>>2,h=a.vertexCount,l=o.indicesOffset,u=o.vertexOffset;o.request(h,a.indicesCount)||(o=e.currBufferBatch,h=0,l=0,u=0);for(var f=o.vData,c=0;c<h;c++){var d=r[c];f[s++]=d.x,f[s++]=d.y,f[s++]=d.z,f[s++]=d.u,f[s++]=d.v,i.toArray(f,n,s),s+=4}var v=o.iData;v[l++]=u,v[l++]=u+1,v[l++]=u+2,v[l++]=u+1,v[l++]=u+3,v[l++]=u+2}(0,e,t.renderData,t.color)}},Na=2*Math.PI,Va=[new r,new r,new r,new r],Wa=new Array(4),ka=new Array(8),Za=[new r,new r,new r,new r],Ua=[new r,new r,new r,new r],qa=new r,Xa=[new r,new r,new r,new r];function Ya(t,e,a,i,n,r,o){var s=Math.sin(r);s=Math.abs(s)>1e-6?s:0;var h=Math.cos(r),l=0,u=0;if(0!==(h=Math.abs(h)>1e-6?h:0)){if(l=s/h,(t-n.x)*h>0){var f=n.y+l*(t-n.x);o[0].x=t,o[0].y=f}if((e-n.x)*h>0){var c=n.y+l*(e-n.x);o[2].x=e,o[2].y=c}}if(0!==s){if(u=h/s,(i-n.y)*s>0){var d=n.x+u*(i-n.y);o[3].x=d,o[3].y=i}if((a-n.y)*s>0){var v=n.x+u*(a-n.y);o[1].x=v,o[1].y=a}}}function Ga(t,e){var a=e.x-t.x,i=e.y-t.y;if(0===a&&0===i)return 0;if(0===a)return i>0?.5*Math.PI:1.5*Math.PI;var n=Math.atan(i/a);return a<0&&(n+=Math.PI),n}function Ka(t,e,a,i,n){var r=Wa,o=r[0],s=r[1],h=r[2],l=r[3];t[e].x=a.x,t[e].y=a.y,t[e+1].x=i.x,t[e+1].y=i.y,t[e+2].x=n.x,t[e+2].y=n.y,Qa((a.x-o)/(h-o),(a.y-s)/(l-s),t,e),Qa((i.x-o)/(h-o),(i.y-s)/(l-s),t,e+1),Qa((n.x-o)/(h-o),(n.y-s)/(l-s),t,e+2)}function Qa(t,e,a,i){var n=ka,r=n[0]+(n[2]-n[0])*t,o=n[4]+(n[6]-n[4])*t,s=n[1]+(n[3]-n[1])*t,h=n[5]+(n[7]-n[5])*t,l=a[i];l.u=r+(o-r)*e,l.v=s+(h-s)*e}for(var ja={useModel:!1,createData:function(t){return t.requestRenderData()},updateRenderData:function(t){var e,a,i,n,o,s,h,l,u,c=t.spriteFrame,d=t.renderData;if(d&&c&&(d.vertDirty||d.uvDirty)){var v=d.data,x=t.fillStart,p=t.fillRange;for(p<0&&(x+=p,p=-p);x>=1;)x-=1;for(;x<0;)x+=1;var g=(x*=Na)+(p*=Na);!function(t){var e=t.node._uiProps.uiTransformComp,a=e.width,i=e.height,n=e.anchorX*a,o=e.anchorY*i,s=-n,h=-o,l=a-n,u=i-o,c=Wa;c[0]=s,c[1]=h,c[2]=l,c[3]=u;var d=t.fillCenter,v=qa.x=Math.min(Math.max(0,d.x),1)*(l-s)+s,x=qa.y=Math.min(Math.max(0,d.y),1)*(u-h)+h;Va[0].x=Va[3].x=s,Va[1].x=Va[2].x=l,Va[0].y=Va[1].y=h,Va[2].y=Va[3].y=u;for(var p,g=f(Xa);!(p=g()).done;){var y=p.value;r.set(y,0,0)}v!==c[0]&&r.set(Xa[0],3,0),v!==c[2]&&r.set(Xa[2],1,2),x!==c[1]&&r.set(Xa[1],0,1),x!==c[3]&&r.set(Xa[3],2,3)}(t),a=(e=c).width,i=e.height,n=e.getRect(),o=0,s=0,h=0,l=0,u=ka,e.isRotated()?(o=n.x/a,s=(n.x+n.height)/a,h=n.y/i,l=(n.y+n.width)/i,u[0]=u[2]=o,u[4]=u[6]=s,u[3]=u[7]=l,u[1]=u[5]=h):(o=n.x/a,s=(n.x+n.width)/a,h=n.y/i,l=(n.y+n.height)/i,u[0]=u[4]=o,u[2]=u[6]=s,u[1]=u[3]=l,u[5]=u[7]=h),Ya(Wa[0],Wa[2],Wa[1],Wa[3],qa,x,Za),Ya(Wa[0],Wa[2],Wa[1],Wa[3],qa,x+p,Ua);for(var y=0,m=0;m<4;++m){var _=Xa[m];if(_)if(p>=Na)d.dataLength=y+3,Ka(v,y,qa,Va[_.x],Va[_.y]),y+=3;else{var C=Ga(qa,Va[_.x]),w=Ga(qa,Va[_.y]);w<C&&(w+=Na),C-=Na,w-=Na;for(var D=0;D<3;++D)C>=g||(C>=x?(d.dataLength=y+3,Ka(v,y,qa,Va[_.x],w>=g?Ua[m]:Va[_.y]),y+=3):w<=x||(w<=g?(d.dataLength=y+3,Ka(v,y,qa,Za[m],Va[_.y]),y+=3):(d.dataLength=y+3,Ka(v,y,qa,Za[m],Ua[m]),y+=3))),C+=Na,w+=Na}}d.indicesCount=d.vertexCount=y,d.vertDirty=d.uvDirty=!1}},fillBuffers:function(t,a){!function(t,a,n,r){var o=n.data,s=a.acquireBufferBatch(),h=s.byteOffset>>2,l=n.vertexCount,u=s.indicesOffset,f=s.vertexOffset;s.request(l,n.indicesCount)||(s=a.currBufferBatch,l=0,u=0,f=0);var c=s.vData;t.getWorldMatrix(pt);for(var d=0;d<l;d++){var v=o[d];e.set(xt,v.x,v.y,0),e.transformMat4(xt,xt,pt),c[h++]=xt.x,c[h++]=xt.y,c[h++]=xt.z,c[h++]=v.u,c[h++]=v.v,i.toArray(c,r,h),h+=4}for(var x=s.iData,p=0;p<n.dataLength;p++)x[u+p]=f+p}(t.node,a,t.renderData,t.color)}},Ja=[],$a=0;$a<4;$a++)Ja.push(new e);for(var ti={createData:function(t){var e=t.requestRenderData();return e.dataLength=4,e.vertexCount=4,e.indicesCount=6,e.vData=new Float32Array(36),e},updateRenderData:function(t){var e=t.spriteFrame,a=t.renderData;a&&e&&(a.vertDirty&&this.updateVertexData(t),a.uvDirty&&this.updateUvs(t))},fillBuffers:function(t,e){if(null!==t){var a=t.renderData.data,i=t.node,n=e.acquireBufferBatch(),r=n.byteOffset>>2,o=n.indicesOffset,s=n.vertexOffset;n.request()||(n=e.currBufferBatch,r=0,o=0,s=0);var h=n.vData,l=n.iData,u=t.renderData.vData,f=a[0],c=a[3],d=i.worldMatrix,v=d.m00,x=d.m01,p=d.m04,g=d.m05,y=d.m12,m=d.m13,_=f.x,C=c.x,w=f.y,D=c.y,b=v*_,T=v*C,S=x*_,R=x*C,A=p*w,L=p*D,M=g*w,F=g*D;u[0]=b+A+y,u[1]=S+M+m,u[9]=T+A+y,u[10]=R+M+m,u[18]=b+L+y,u[19]=S+F+m,u[27]=T+L+y,u[28]=R+F+m,h.set(u,r),l[o++]=s,l[o++]=s+1,l[o++]=s+2,l[o++]=s+2,l[o++]=s+1,l[o++]=s+3}},updateVertexData:function(t){var e=t.renderData;if(e){var a=t.node._uiProps.uiTransformComp,i=e.data,n=a.width,r=a.height,o=a.anchorX*n,s=a.anchorY*r,h=0,l=0,u=0,f=0;if(t.trim)h=-o,l=-s,u=n-o,f=r-s;else{var c=t.spriteFrame,d=c.getOriginalSize(),v=c.getRect(),x=d.width,p=d.height,g=v.width,y=v.height,m=c.getOffset(),_=n/x,C=r/p,w=m.x+(x-g)/2,D=m.x-(x-g)/2;h=w*_-o,l=(m.y+(p-y)/2)*C-s,u=n+D*_-o,f=r+(m.y-(p-y)/2)*C-s}i[0].x=h,i[0].y=l,i[0].z=0,i[3].x=u,i[3].y=f,i[3].z=0,e.vertDirty=!1}},updateUvs:function(t){var e=t.renderData,a=e.vData,i=t.spriteFrame.uv;a[3]=i[0],a[4]=i[1],a[12]=i[2],a[13]=i[3],a[21]=i[4],a[22]=i[5],a[30]=i[6],a[31]=i[7],e.uvDirty=!1},updateColor:function(t){for(var e=t.renderData.vData,a=5,i=t.color,n=i.r/255,r=i.g/255,o=i.b/255,s=i.a/255,h=0;h<4;h++)e[a]=n,e[a+1]=r,e[a+2]=o,e[a+3]=s,a+=9}},ei=new e,ai=new a,ii={useModel:!1,createData:function(t){var e=t.requestRenderData();return e.dataLength=20,e.vertexCount=16,e.indicesCount=54,e},updateRenderData:function(t){var e=t.spriteFrame,a=t.renderData;a&&e&&a.vertDirty&&(this.updateVertexData(t),this.updateWorldVertexData(t))},updateVertexData:function(t){var e=t.renderData,a=e.data,i=t.node._uiProps.uiTransformComp,n=i.width,r=i.height,o=i.anchorX*n,s=i.anchorY*r,h=t.spriteFrame,l=h.insetLeft,u=h.insetRight,f=h.insetTop,c=h.insetBottom,d=n-l-u,v=r-f-c,x=n/(l+u),p=r/(f+c);x=isNaN(x)||x>1?1:x,p=isNaN(p)||p>1?1:p,d=d<0?0:d,v=v<0?0:v,a[0].x=-o,a[0].y=-s,a[1].x=l*x-o,a[1].y=c*p-s,a[2].x=a[1].x+d,a[2].y=a[1].y+v,a[3].x=n-o,a[3].y=r-s,e.vertDirty=!1},fillBuffers:function(t,e){t.node.hasChangedFlags&&this.updateWorldVertexData(t);var a=e.acquireBufferBatch(),n=t.renderData,r=n.data,o=a.byteOffset>>2,s=n.vertexCount,h=a.indicesOffset,l=a.vertexOffset,u=t.spriteFrame.uvSliced;a.request(s,n.indicesCount)||(a=e.currBufferBatch,o=0,h=0,l=0);for(var f=a.vData,c=a.iData,d=4;d<20;++d){var v=r[d],x=u[d-4];f[o++]=v.x,f[o++]=v.y,f[o++]=v.z,f[o++]=x.u,f[o++]=x.v,i.toArray(f,t.color,o),o+=4}for(var p=0;p<3;++p)for(var g=0;g<3;++g){var y=l+4*p+g;c[h++]=y,c[h++]=y+1,c[h++]=y+4,c[h++]=y+1,c[h++]=y+5,c[h++]=y+4}},updateWorldVertexData:function(t){var a=t.node,i=t.renderData.data;a.getWorldMatrix(ai);for(var n=0;n<4;++n)for(var r=i[n],o=0;o<4;++o){var s=i[o],h=i[4+4*n+o];e.set(ei,s.x,r.y,0),e.transformMat4(h,ei,ai)}}},ni=[],ri=0;ri<4;ri++)ni.push(new e);var oi={useModel:!1,createData:function(t){return t.requestRenderData()},updateRenderData:function(t){var e=t.renderData,a=t.spriteFrame;if(a&&e&&(e.uvDirty||e.vertDirty)){var i=t.node._uiProps.uiTransformComp,n=Math.abs(i.width),r=Math.abs(i.height),o=a.getRect(),s=a.insetLeft,h=a.insetRight,l=o.width-s-h,u=a.insetTop,f=a.insetBottom,c=o.height-u-f;this.sizableWidth=n-s-h,this.sizableHeight=r-u-f,this.sizableWidth=this.sizableWidth>0?this.sizableWidth:0,this.sizableHeight=this.sizableHeight>0?this.sizableHeight:0,this.hRepeat=0===l?this.sizableWidth:this.sizableWidth/l,this.vRepeat=0===c?this.sizableHeight:this.sizableHeight/c,this.row=Math.ceil(this.vRepeat+2),this.col=Math.ceil(this.hRepeat+2),e.dataLength=Math.max(8,this.row+1,this.col+1),this.updateVerts(t),e.vertexCount=this.row*this.col*4,e.indicesCount=this.row*this.col*6,e.uvDirty=!1,e.vertDirty=!1}},fillBuffers:function(t,e){var a,n=t.node,r=t.renderData,o=e.acquireBufferBatch(),s=o.indicesOffset,h=o.byteOffset>>2,l=o.vertexOffset,u=r.vertexCount,f=r.indicesCount,c=o.vData,d=o.iData;o.request(u,f)||(o=e.currBufferBatch,h=0,s=0,l=0);var v=t.spriteFrame,x=v.isRotated(),p=v.uv,g=null===(a=t.spriteFrame)||void 0===a?void 0:a.uvSliced,y=v.getRect(),m=v.insetLeft,_=v.insetRight,C=y.width-m-_,w=v.insetTop,D=v.insetBottom,b=y.height-w-D,T=n.worldMatrix;this.fillVertices(c,h,T,this.row,this.col,r.data);for(var S=0,R=0,A=0,L=this.row;A<L;++A){R=this.sizableHeight>b?this.sizableHeight>=A*b?1:this.vRepeat%1:this.vRepeat;for(var M=0,F=this.col;M<F;++M){S=this.sizableWidth>C?this.sizableWidth>=M*C?1:this.hRepeat%1:this.hRepeat;var E=h+3,B=E+1;x?(c[E]=p[0],c[B]=p[1],c[E+9]=p[0],c[B+9]=p[1]+(p[7]-p[1])*S,c[E+18]=p[0]+(p[6]-p[0])*R,c[B+18]=p[1],c[E+27]=c[E+18],c[B+27]=c[B+9]):(0===M?c[E]=p[0]:M>0&&M<this.col-1?c[E]=g[1].u:M===this.col-1&&(c[E]=g[2].u),0===A?c[B]=g[0].v:A>0&&A<this.row-1?c[B]=g[4].v:A===this.row-1&&(c[B]=g[8].v),0===M||M>0&&M<this.col-1?c[E+9]=g[1].u+(g[2].u-g[1].u)*S:M===this.col-1&&(c[E+9]=g[3].u),0===A?c[B+9]=g[0].v:A>0&&A<this.row-1?c[B+9]=g[4].v:A===this.row-1&&(c[B+9]=g[8].v),0===M?c[E+18]=p[0]:M>0&&M<this.col-1?c[E+18]=g[1].u:M===this.col-1&&(c[E+18]=g[2].u),0===A||A>0&&A<this.row-1?c[B+18]=g[4].v+(g[8].v-g[4].v)*R:A===this.row-1&&(c[B+18]=g[12].v),c[E+27]=c[E+9],c[B+27]=c[B+18]),i.toArray(c,t.color,B+1),i.toArray(c,t.color,B+9+1),i.toArray(c,t.color,B+18+1),i.toArray(c,t.color,B+27+1),h+=36}}for(var O=0;O<f;O+=6)d[s++]=l,d[s++]=l+1,d[s++]=l+2,d[s++]=l+1,d[s++]=l+3,d[s++]=l+2,l+=4},fillVertices:function(t,a,i,n,r,o){for(var s=0,h=0,l=0,u=0,f=0,c=n;f<c;++f){l=o[f].y,u=o[f+1].y;for(var d=0,v=r;d<v;++d){s=o[d].x,h=o[d+1].x,e.set(ni[0],s,l,0),e.set(ni[1],h,l,0),e.set(ni[2],s,u,0),e.set(ni[3],h,u,0);for(var x=0;x<4;x++){var p=ni[x];e.transformMat4(p,p,i);var g=9*x;t[a+g]=p.x,t[a+g+1]=p.y,t[a+g+2]=p.z}a+=36}}},updateVerts:function(t){var e,a,i,n=t.node._uiProps.uiTransformComp,r=null===(e=t.renderData)||void 0===e?void 0:e.data,o=t.spriteFrame,s=o.getRect(),h=Math.abs(n.width),l=Math.abs(n.height),u=n.anchorX*h,f=n.anchorY*l,c=o.insetLeft,d=o.insetRight,v=s.width-c-d,x=o.insetTop,p=o.insetBottom,g=s.height-x-p,y=n.width/(c+d)>1?1:n.width/(c+d),m=n.height/(x+p)>1?1:n.height/(x+p);a=v>0?Math.floor(1e3*this.sizableWidth)/1e3%v==0?v:this.sizableWidth%v:this.sizableWidth,i=g>0?Math.floor(1e3*this.sizableHeight)/1e3%g==0?g:this.sizableHeight%g:this.sizableHeight;for(var _=0;_<=this.col;_++)0===_?r[_].x=-u:_>0&&_<this.col?1===_?r[_].x=c*y+Math.min(v,this.sizableWidth)-u:v>0?_===this.col-1?r[_].x=c+a+v*(_-2)-u:r[_].x=c+Math.min(v,this.sizableWidth)+v*(_-2)-u:r[_].x=c+this.sizableWidth-u:_===this.col&&(r[_].x=Math.min(c+this.sizableWidth+d,h)-u);for(var C=0;C<=this.row;C++)0===C?r[C].y=-f:C>0&&C<this.row?1===C?r[C].y=p*m+Math.min(g,this.sizableHeight)-f:g>0?C===this.row-1?r[C].y=p+i+(C-2)*g-f:r[C].y=p+Math.min(g,this.sizableHeight)+(C-2)*g-f:r[C].y=p+this.sizableHeight-f:C===this.row&&(r[C].y=Math.min(p+this.sizableHeight+x,l)-f)}},si=k.Type,hi=k.FillType,li=t("s",{getAssembler:function(t){var e=ti,a=t;switch(a.type){case si.SLICED:e=ii;break;case si.TILED:e=oi;break;case si.FILLED:e=a.fillType===hi.RADIAL?ja:Ha}return e}});k.Assembler=li;var ui,fi=F.sharedManager,ci={createData:function(t){var e=t.requestRenderData();return e.dataLength=4,e.vertexCount=4,e.indicesCount=6,e.vData=new Float32Array(36),e},updateRenderData:function(t){t.type===X.IMAGE_STENCIL&&ti.updateRenderData(t)},fillBuffers:function(t,e){(t.type!==X.IMAGE_STENCIL||t.spriteFrame)&&(fi.pushMask(t),e.finishMergeBatches(),function(t,e){fi.clear(),e.commitModel(t,t._clearModel,t._clearStencilMtl)}(t,e),function(t,e){if(fi.enterLevel(),t.type===X.IMAGE_STENCIL){ti.fillBuffers(t,e);var a=t.graphics.getMaterialInstance(0);e.forceMergeBatches(a,t.spriteFrame,t.graphics)}else{var i=t.graphics.getMaterialInstance(0);e.commitModel(t.graphics,t.graphics.model,i)}}(t,e),fi.enableMask())}},di={fillBuffers:function(){fi.exitMask()}},vi={getAssembler:function(){return ci}},xi={getAssembler:function(){return di}};q.Assembler=vi,q.PostAssembler=xi;var pi=t("U",v("cc.UIReorderComponent")(ui=function(){x(1408,"UIReorderComponent")})||ui);u.UIReorderComponent=pi,u.ButtonComponent=Y,p.setClassAlias(Y,"cc.ButtonComponent"),u.EditBoxComponent=G,p.setClassAlias(G,"cc.EditBoxComponent"),u.LayoutComponent=K,p.setClassAlias(K,"cc.LayoutComponent"),u.MaskComponent=q,p.setClassAlias(q,"cc.MaskComponent"),u.LabelComponent=W,p.setClassAlias(W,"cc.LabelComponent"),u.LabelOutlineComponent=Z,p.setClassAlias(Z,"cc.LabelOutlineComponent"),u.ProgressBarComponent=Q,p.setClassAlias(Q,"cc.ProgressBarComponent"),u.RichTextComponent=j,p.setClassAlias(j,"cc.RichTextComponent"),u.ScrollViewComponent=J,p.setClassAlias(J,"cc.ScrollViewComponent"),u.ScrollBarComponent=$,p.setClassAlias($,"cc.ScrollBarComponent"),u.SliderComponent=tt,p.setClassAlias(tt,"cc.SliderComponent"),u.SpriteComponent=k,p.setClassAlias(k,"cc.SpriteComponent"),u.ToggleComponent=et,p.setClassAlias(et,"cc.ToggleComponent"),u.ToggleContainerComponent=at,p.setClassAlias(at,"cc.ToggleContainerComponent"),u.UIModelComponent=it,p.setClassAlias(it,"cc.UIModelComponent"),u.WidgetComponent=E,p.setClassAlias(E,"cc.WidgetComponent"),u.GraphicsComponent=vt,p.setClassAlias(vt,"cc.GraphicsComponent"),u.PageViewComponent=nt,p.setClassAlias(nt,"cc.PageViewComponent"),u.PageViewIndicatorComponent=rt,p.setClassAlias(rt,"cc.PageViewIndicatorComponent"),p.setClassAlias(ot,"cc.UIStaticBatchComponent"),p.setClassAlias(st,"cc.UIOpacityComponent"),u.SafeAreaComponent=ht,p.setClassAlias(ht,"cc.SafeAreaComponent"),p.setClassAlias(lt,"cc.UICoordinateTrackerComponent"),u.BlockInputEventsComponent=ut,p.setClassAlias(ut,"cc.BlockInputEventsComponent"),u.UI={MeshBuffer:B,UIVertexFormat:O,spriteAssembler:li,graphicsAssembler:xe,labelAssembler:Pa}}}}));
