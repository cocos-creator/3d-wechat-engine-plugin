System.register(["./deprecated-0768b3d4.js","./deprecated-4df5f565.js","./index-7375b6c6.js","./deprecated-ffd97385.js"],(function(t){"use strict";var e,i,o,r,n,s,l,c,p,h,a,u,m,d,f,_,b,y,g,T,C,E,D,R,L,O,w,M,v,k,F,S;return{setters:[function(t){e=t.S,i=t.c,o=t.t,r=t._,n=t.a,s=t.e,l=t.f,c=t.l,p=t.b,h=t.T,a=t.o,u=t.h,m=t.m,d=t.d,f=t.bh,_=t.s,b=t.aa},function(t){y=t.A,g=t.F,T=t.K,C=t.dU,E=t.B,D=t.b,R=t.M,L=t.bL,O=t.P,w=t.e5},function(){},function(t){M=t.v,v=t.p,k=t.I,F=t.h,S=t.U}],execute:function(){var B,P,I,A,N,U,j,J,V,W,z,G,x,q,K,Q,X,H,Y,Z,$,tt,et,it,ot,rt,nt;t({L:void 0,P:void 0,a:void 0}),function(t){t[t.BUTT=0]="BUTT",t[t.ROUND=1]="ROUND",t[t.SQUARE=2]="SQUARE"}(B||(B=t("L",{}))),e(B),function(t){t[t.BEVEL=0]="BEVEL",t[t.ROUND=1]="ROUND",t[t.MITER=2]="MITER"}(P||(P=t("a",{}))),e(P),function(t){t[t.PT_CORNER=1]="PT_CORNER",t[t.PT_LEFT=2]="PT_LEFT",t[t.PT_BEVEL=4]="PT_BEVEL",t[t.PT_INNERBEVEL=8]="PT_INNERBEVEL"}(I||(I=t("P",{}))),e(I);var st=M.concat([new y("a_dist",g.R32F)]),lt=v(st);t("G",(A=i("cc.Graphics"),N=u(),U=w(110),j=m(),J=o(P),V=d(),W=o(B),z=d(),G=d(),x=d(),q=d(),K=f(),Q=f(),X=f(),A(H=N(H=U(H=j((nt=rt=function(t){function e(){var e;return(e=t.call(this)||this).impl=null,e.model=null,s(e,"_lineWidth",Z,l(e)),s(e,"_strokeColor",$,l(e)),s(e,"_lineJoin",tt,l(e)),s(e,"_lineCap",et,l(e)),s(e,"_fillColor",it,l(e)),s(e,"_miterLimit",ot,l(e)),e._isDrawing=!1,e._instanceMaterialType=k.ADD_COLOR,e}r(e,t),n(e,[{key:"lineWidth",get:function(){return this._lineWidth},set:function(t){this._lineWidth=t,this.impl&&(this.impl.lineWidth=t)}},{key:"lineJoin",get:function(){return this._lineJoin},set:function(t){this._lineJoin=t,this.impl&&(this.impl.lineJoin=t)}},{key:"lineCap",get:function(){return this._lineCap},set:function(t){this._lineCap=t,this.impl&&(this.impl.lineCap=t)}},{key:"strokeColor",get:function(){return this._strokeColor},set:function(t){this.impl&&(this._strokeColor.set(t),this.impl.strokeColor=this._strokeColor)}},{key:"fillColor",get:function(){return this._fillColor},set:function(t){this.impl&&(this._fillColor.set(t),this.impl.fillColor=this._fillColor)}},{key:"miterLimit",get:function(){return this._miterLimit},set:function(t){this._miterLimit=t}},{key:"color",get:function(){return this._color},set:function(t){this._color!==t&&(this._color.set(t),this._updateColor(),this.markForUpdateRenderData())}},{key:"srcBlendFactor",get:function(){return this._srcBlendFactor},set:function(){}},{key:"dstBlendFactor",get:function(){return this._dstBlendFactor},set:function(){}}]);var i=e.prototype;return i.onRestore=function(){this.impl||this._flushAssembler()},i.__preload=function(){t.prototype.__preload.call(this),this.impl=this._assembler&&this._assembler.createImpl(this)},i.onLoad=function(){this._sceneGetter=F.root.ui.getRenderSceneGetter(),this.model=F.root.createModel(T),this.model.node=this.model.transform=this.node,this.impl||(this._flushAssembler(),this.impl=this._assembler&&this._assembler.createImpl(this))},i.onEnable=function(){t.prototype.onEnable.call(this),this._updateMtlForGraphics()},i.onDisable=function(){t.prototype.onDisable.call(this),this._detachFromScene()},i.onDestroy=function(){t.prototype.onDestroy.call(this),this._sceneGetter=null,this.model&&(F.root.destroyModel(this.model),this.model=null),this.impl&&(this._isDrawing=!1,this.impl.clear(),this.impl=null)},i.moveTo=function(t,e){this.impl&&this.impl.moveTo(t,e)},i.lineTo=function(t,e){this.impl&&this.impl.lineTo(t,e)},i.bezierCurveTo=function(t,e,i,o,r,n){this.impl&&this.impl.bezierCurveTo(t,e,i,o,r,n)},i.quadraticCurveTo=function(t,e,i,o){this.impl&&this.impl.quadraticCurveTo(t,e,i,o)},i.arc=function(t,e,i,o,r,n){this.impl&&this.impl.arc(t,e,i,o,r,n)},i.ellipse=function(t,e,i,o){this.impl&&this.impl.ellipse(t,e,i,o)},i.circle=function(t,e,i){this.impl&&this.impl.circle(t,e,i)},i.rect=function(t,e,i,o){this.impl&&this.impl.rect(t,e,i,o)},i.roundRect=function(t,e,i,o,r){this.impl&&this.impl.roundRect(t,e,i,o,r)},i.fillRect=function(t,e,i,o){this.rect(t,e,i,o),this.fill()},i.clear=function(){if(this.impl){if(this.impl.clear(),this._isDrawing=!1,this.model)for(var t=0;t<this.model.subModels.length;t++)this.model.subModels[t].inputAssembler.indexCount=0;this._detachFromScene(),this.markForUpdateRenderData()}},i.close=function(){this.impl&&this.impl.close()},i.stroke=function(){this._assembler||this._flushAssembler(),this._isDrawing=!0,this._assembler.stroke(this),this._attachToScene()},i.fill=function(){this._assembler||this._flushAssembler(),this._isDrawing=!0,this._assembler.fill(this),this._attachToScene()},i._updateMtlForGraphics=function(){var t;this._customMaterial?t=this.getMaterialInstance(0):(t=C.get("ui-graphics-material"),this.setMaterial(t,0),(t=this.getMaterialInstance(0)).recompileShaders({USE_LOCAL:!0}))},i.activeSubModel=function(t){if(this.model){if(this.model.subModels.length<=t){var e,i=c.director.root.device,o=i.createBuffer(new E(D.VERTEX|D.TRANSFER_DST,R.DEVICE,65535*lt,lt)),r=i.createBuffer(new E(D.INDEX|D.TRANSFER_DST,R.DEVICE,131070,2));(e=new L([o],st,O.TRIANGLE_LIST,r)).subMeshIdx=0,this.model.initSubModel(t,e,this.getMaterialInstance(0))}}else console.warn("There is no model in "+this.node.name)},i._render=function(t){t.commitModel(this,this.model,this.getMaterialInstance(0))},i._flushAssembler=function(){var t=e.Assembler.getAssembler(this);this._assembler!==t&&(this._assembler=t)},i._canRender=function(){return!!t.prototype._canRender.call(this)&&!!this.model&&this._isDrawing},i._attachToScene=function(){var t=F.root.ui.renderScene;this.model&&this.model.scene!==t&&(null!==this.model.scene&&this._detachFromScene(),t.addModel(this.model))},i._detachFromScene=function(){this.model&&this.model.scene&&(this.model.scene.removeModel(this.model),this.model.scene=null)},e}(S),rt.LineJoin=P,rt.LineCap=B,p((Y=nt).prototype,"lineWidth",[h],Object.getOwnPropertyDescriptor(Y.prototype,"lineWidth"),Y.prototype),p(Y.prototype,"lineJoin",[J,V],Object.getOwnPropertyDescriptor(Y.prototype,"lineJoin"),Y.prototype),p(Y.prototype,"lineCap",[W,z],Object.getOwnPropertyDescriptor(Y.prototype,"lineCap"),Y.prototype),p(Y.prototype,"strokeColor",[G],Object.getOwnPropertyDescriptor(Y.prototype,"strokeColor"),Y.prototype),p(Y.prototype,"fillColor",[x],Object.getOwnPropertyDescriptor(Y.prototype,"fillColor"),Y.prototype),p(Y.prototype,"miterLimit",[q],Object.getOwnPropertyDescriptor(Y.prototype,"miterLimit"),Y.prototype),p(Y.prototype,"color",[a,K],Object.getOwnPropertyDescriptor(Y.prototype,"color"),Y.prototype),p(Y.prototype,"srcBlendFactor",[a,Q],Object.getOwnPropertyDescriptor(Y.prototype,"srcBlendFactor"),Y.prototype),p(Y.prototype,"dstBlendFactor",[a,X],Object.getOwnPropertyDescriptor(Y.prototype,"dstBlendFactor"),Y.prototype),Z=p(Y.prototype,"_lineWidth",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),$=p(Y.prototype,"_strokeColor",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b.BLACK.clone()}}),tt=p(Y.prototype,"_lineJoin",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return P.MITER}}),et=p(Y.prototype,"_lineCap",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return B.BUTT}}),it=p(Y.prototype,"_fillColor",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b.WHITE.clone()}}),ot=p(Y.prototype,"_miterLimit",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),H=Y))||H)||H)||H)||H))}}}));
