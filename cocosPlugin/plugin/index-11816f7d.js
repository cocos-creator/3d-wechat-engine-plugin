System.register(["./deprecated-0768b3d4.js","./deprecated-4df5f565.js","./index-7375b6c6.js","./deprecated-ffd97385.js","./collision-matrix-78eae8f2.js","./terrain-asset-0d4e3a9c.js"],(function(t){"use strict";var e,i,n,r,o,s,a,l,p,c,u,h,y,_,d,f,g,b,m,C,S,v,w,O,k,T,P,D,E,M,A,I,N,L,x,B,F,z,j,R,H,G,Y,q,V,X,W,U,K,Z;return{setters:[function(t){e=t.l,i=t.y,n=t.w,r=t.c,o=t._,s=t.a,a=t.e,l=t.f,p=t.A,c=t.b,u=t.T,h=t.ad,y=t.s,_=t.V,d=t.R,f=t.bb,g=t.t,b=t.b5,m=t.h,C=t.m,S=t.b6,v=t.d,w=t.bh,O=t.q,k=t.C,T=t.aN,P=t.cg,D=t.be,E=t.au,M=t.aB,A=t.aC,I=t.j},function(t){N=t.c0,L=t.e7,x=t.e5,B=t.ek,F=t.ej,z=t.bp,j=t.e6},function(){},function(t){R=t.h,H=t.g,G=t.n},function(t){Y=t.a,q=t.b,V=t.P,X=t.C,W=t.E,U=t.c,K=t.d},function(t){Z=t.T}],execute:function(){var J,Q;t("s",(function(t,i){Q=t,e._global.CC_PHYSICS_BUILTIN="builtin"==t,e._global.CC_PHYSICS_CANNON="cannon.js"==t,e._global.CC_PHYSICS_AMMO="ammo.js"==t,J=i}));var $={INITED:!1},tt=function(){return 0},et={impl:null,collider:null,attachedRigidBody:null,initialize:tt,onLoad:tt,onEnable:tt,onDisable:tt,onDestroy:tt,setGroup:tt,getGroup:tt,addGroup:tt,removeGroup:tt,setMask:tt,getMask:tt,addMask:tt,removeMask:tt,setMaterial:tt,setAsTrigger:tt,setCenter:tt,getAABB:tt,getBoundingSphere:tt,setSize:tt,setRadius:tt,setCylinderHeight:tt,setDirection:tt,setHeight:tt,setShapeType:tt,setVertices:tt,setMesh:tt,setTerrain:tt,setNormal:tt,setConstant:tt};var it,nt,rt,ot,st,at,lt,pt,ct={INITED:!1},ut={impl:null,initialize:tt,onLoad:tt,onEnable:tt,onDisable:tt,onDestroy:tt,setEnableCollision:tt,setConnectedBody:tt,setPivotA:tt,setPivotB:tt};var ht=t("i",r("cc.PhysicsMaterial")((pt=lt=function(t){function e(){var i;return i=t.call(this)||this,a(i,"_friction",rt,l(i)),a(i,"_rollingFriction",ot,l(i)),a(i,"_spinningFriction",st,l(i)),a(i,"_restitution",at,l(i)),e.allMaterials.push(l(i)),""==i._uuid&&(i._uuid="pm_"+e._idCounter++),i}o(e,t),s(e,[{key:"friction",get:function(){return this._friction},set:function(t){h(this._friction,t)||(this._friction=t,this.emit("physics_material_update"))}},{key:"rollingFriction",get:function(){return this._rollingFriction},set:function(t){h(this._rollingFriction,t)||(this._rollingFriction=t,this.emit("physics_material_update"))}},{key:"spinningFriction",get:function(){return this._spinningFriction},set:function(t){h(this._spinningFriction,t)||(this._spinningFriction=t,this.emit("physics_material_update"))}},{key:"restitution",get:function(){return this._restitution},set:function(t){h(this._restitution,t)||(this._restitution=t,this.emit("physics_material_update"))}}]);var i=e.prototype;return i.clone=function(){var t=new e;return t._friction=this._friction,t._restitution=this._restitution,t._rollingFriction=this._rollingFriction,t._spinningFriction=this._spinningFriction,t},i.destroy=function(){if(t.prototype.destroy.call(this)){var i=e.allMaterials.indexOf(this);return i>=0&&e.allMaterials.splice(i,1),!0}return!1},e}(p),lt.allMaterials=[],lt._idCounter=0,c((nt=pt).prototype,"friction",[u],Object.getOwnPropertyDescriptor(nt.prototype,"friction"),nt.prototype),c(nt.prototype,"rollingFriction",[u],Object.getOwnPropertyDescriptor(nt.prototype,"rollingFriction"),nt.prototype),c(nt.prototype,"spinningFriction",[u],Object.getOwnPropertyDescriptor(nt.prototype,"spinningFriction"),nt.prototype),c(nt.prototype,"restitution",[u],Object.getOwnPropertyDescriptor(nt.prototype,"restitution"),nt.prototype),rt=c(nt.prototype,"_friction",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),ot=c(nt.prototype,"_rollingFriction",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),st=c(nt.prototype,"_spinningFriction",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),at=c(nt.prototype,"_restitution",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),it=nt))||it),yt=t("a",function(){function t(){this._hitPoint=new _,this._hitNormal=new _,this._distance=0,this._collider=null}var e=t.prototype;return e._assign=function(t,e,i,n){_.copy(this._hitPoint,t),_.copy(this._hitNormal,n),this._distance=e,this._collider=i},e.clone=function(){var e=new t;return _.copy(e._hitPoint,this._hitPoint),_.copy(e._hitNormal,this._hitNormal),e._distance=this._distance,e._collider=this._collider,e},s(t,[{key:"hitPoint",get:function(){return this._hitPoint}},{key:"distance",get:function(){return this._distance}},{key:"collider",get:function(){return this._collider}},{key:"hitNormal",get:function(){return this._hitNormal}}]),t}());e.internal.PhysicsGroup=V;var _t,dt,ft,gt,bt,mt,Ct,St,vt,wt,Ot,kt,Tt,Pt,Dt,Et,Mt,At,It,Nt,Lt,xt,Bt,Ft,zt,jt,Rt,Ht,Gt,Yt,qt,Vt,Xt,Wt,Ut,Kt,Zt,Jt,Qt,$t,te,ee,ie,ne,re=t("P",function(t){function e(){var e;(e=t.call(this)||this).physicsWorld=void 0,e.raycastClosestResult=new yt,e.raycastResults=[],e.collisionMatrix=new X,e.useNodeChains=void 0,e._enable=!0,e._allowSleep=!0,e._maxSubSteps=1,e._subStepCount=0,e._fixedTimeStep=1/60,e._autoSimulation=!0,e._accumulator=0,e._sleepThreshold=.1,e._gravity=new _(0,-10,0),e._material=new ht,e.raycastOptions={group:-1,mask:-1,queryTrigger:!0,maxDistance:1e7},e.raycastResultPool=new d((function(){return new yt}),1);var i=N.config?N.config.physics:null;if(i){if(_.copy(e._gravity,i.gravity),e._allowSleep=i.allowSleep,e._fixedTimeStep=i.fixedTimeStep,e._maxSubSteps=i.maxSubSteps,e._sleepThreshold=i.sleepThreshold,e.autoSimulation=i.autoSimulation,e.useNodeChains=i.useNodeChains,i.defaultMaterial&&(e._material.friction=i.defaultMaterial.friction,e._material.rollingFriction=i.defaultMaterial.rollingFriction,e._material.spinningFriction=i.defaultMaterial.spinningFriction,e._material.restitution=i.defaultMaterial.restitution),i.collisionMatrix)for(var n in i.collisionMatrix){var r=1<<parseInt(n);e.collisionMatrix[""+r]=i.collisionMatrix[n]}}else e.useNodeChains=!1;return e._material.on("physics_material_update",e._updateMaterial,l(e)),e.physicsWorld=new J.PhysicsWorld,e.physicsWorld.setGravity(e._gravity),e.physicsWorld.setAllowSleep(e._allowSleep),e.physicsWorld.setDefaultMaterial(e._material),e}o(e,t),s(e,[{key:"enable",get:function(){return this._enable},set:function(t){this._enable=t}},{key:"allowSleep",get:function(){return this._allowSleep},set:function(t){this._allowSleep=t,this.physicsWorld.setAllowSleep(t)}},{key:"maxSubSteps",get:function(){return this._maxSubSteps},set:function(t){this._maxSubSteps=t}},{key:"fixedTimeStep",get:function(){return this._fixedTimeStep},set:function(t){this._fixedTimeStep=t}},{key:"gravity",get:function(){return this._gravity},set:function(t){this._gravity.set(t),this.physicsWorld.setGravity(t)}},{key:"sleepThreshold",get:function(){return this._sleepThreshold},set:function(t){this._sleepThreshold=t}},{key:"autoSimulation",get:function(){return this._autoSimulation},set:function(t){this._autoSimulation=t}},{key:"defaultMaterial",get:function(){return this._material}}],[{key:"PHYSICS_NONE",get:function(){return!Q}},{key:"PHYSICS_BUILTIN",get:function(){return"builtin"===Q}},{key:"PHYSICS_CANNON",get:function(){return"cannon.js"===Q}},{key:"PHYSICS_AMMO",get:function(){return"ammo.js"===Q}},{key:"PhysicsGroup",get:function(){return V}},{key:"instance",get:function(){return e._instance}}]);var i=e.prototype;return i.postUpdate=function(t){if(this._enable){if(this._autoSimulation){for(this._subStepCount=0,this._accumulator+=t,R.emit(H.EVENT_BEFORE_PHYSICS);this._subStepCount<this._maxSubSteps;){if(!(this._accumulator>this._fixedTimeStep)){this.physicsWorld.syncSceneToPhysics();break}this.physicsWorld.syncSceneToPhysics(),this.physicsWorld.step(this._fixedTimeStep),this._accumulator-=this._fixedTimeStep,this._subStepCount++,this.physicsWorld.emitEvents(),this.physicsWorld.syncSceneToPhysics()}R.emit(H.EVENT_AFTER_PHYSICS)}}else this.physicsWorld.syncSceneToPhysics()},i.resetAccumulator=function(t){void 0===t&&(t=0),this._accumulator=t},i.step=function(t,e,i){this.physicsWorld.step(t,e,i)},i.syncSceneToPhysics=function(){this.physicsWorld.syncSceneToPhysics()},i.emitEvents=function(){this.physicsWorld.emitEvents()},i.raycast=function(t,e,i,n){return void 0===e&&(e=4294967295),void 0===i&&(i=1e7),void 0===n&&(n=!0),this.raycastResultPool.reset(),this.raycastResults.length=0,this.raycastOptions.mask=e,this.raycastOptions.maxDistance=i,this.raycastOptions.queryTrigger=n,this.physicsWorld.raycast(t,this.raycastOptions,this.raycastResultPool,this.raycastResults)},i.raycastClosest=function(t,e,i,n){return void 0===e&&(e=4294967295),void 0===i&&(i=1e7),void 0===n&&(n=!0),this.raycastOptions.mask=e,this.raycastOptions.maxDistance=i,this.raycastOptions.queryTrigger=n,this.physicsWorld.raycastClosest(t,this.raycastOptions,this.raycastClosestResult)},i._updateMaterial=function(){this.physicsWorld.setDefaultMaterial(this._material)},e}(G));re.ID="PHYSICS",re._instance=void 0,R.once(H.EVENT_INIT,(function(){!function(){if(!re.PHYSICS_NONE&&!f){var t=new e.PhysicsSystem;e.PhysicsSystem._instance=t,R.registerSystem(re.ID,t,0)}}()}));var oe,se,ae,le,pe,ce,ue,he,ye,_e,de,fe,ge,be,me,Ce,Se,ve,we,Oe,ke,Te=t("R",(_t=r("cc.RigidBody"),dt=m(),ft=C(),gt=x(-1),bt=g(re.PhysicsGroup),mt=S(),Ct=v(),St=g(W),vt=S(),wt=v(),Ot=w(),kt=S(),Tt=v(),Pt=w(),Dt=S(),Et=v(),Mt=w(),At=S(),It=v(),Nt=w(),Lt=S(),xt=v(),Bt=w(),Ft=S(),zt=v(),jt=w(),Rt=S(),Ht=v(),Gt=w(),Yt=S(),qt=v(),_t(Vt=dt(Vt=ft(Vt=b(Vt=L(Vt=gt((ne=ie=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))||this)._body=null,a(e,"_group",Wt,l(e)),a(e,"_type",Ut,l(e)),a(e,"_mass",Kt,l(e)),a(e,"_allowSleep",Zt,l(e)),a(e,"_linearDamping",Jt,l(e)),a(e,"_angularDamping",Qt,l(e)),a(e,"_useGravity",$t,l(e)),a(e,"_linearFactor",te,l(e)),a(e,"_angularFactor",ee,l(e)),e}o(e,t);var i=e.prototype;return i.onLoad=function(){this._body=new J.RigidBody,this._body.initialize(this)},i.onEnable=function(){this._body&&this._body.onEnable()},i.onDisable=function(){this._body&&this._body.onDisable()},i.onDestroy=function(){this._body&&this._body.onDestroy()},i.applyForce=function(t,e){this._assertOnLoadCalled&&this._body.applyForce(t,e)},i.applyLocalForce=function(t,e){this._assertOnLoadCalled&&this._body.applyLocalForce(t,e)},i.applyImpulse=function(t,e){this._assertOnLoadCalled&&this._body.applyImpulse(t,e)},i.applyLocalImpulse=function(t,e){this._assertOnLoadCalled&&this._body.applyLocalImpulse(t,e)},i.applyTorque=function(t){this._assertOnLoadCalled&&this._body.applyTorque(t)},i.applyLocalTorque=function(t){this._assertOnLoadCalled&&this._body.applyLocalTorque(t)},i.wakeUp=function(){this._assertOnLoadCalled&&this._body.wakeUp()},i.sleep=function(){this._assertOnLoadCalled&&this._body.sleep()},i.clearState=function(){this._assertOnLoadCalled&&this._body.clearState()},i.clearForces=function(){this._assertOnLoadCalled&&this._body.clearForces()},i.clearVelocity=function(){this._assertOnLoadCalled&&this._body.clearVelocity()},i.getLinearVelocity=function(t){this._assertOnLoadCalled&&this._body.getLinearVelocity(t)},i.setLinearVelocity=function(t){this._assertOnLoadCalled&&this._body.setLinearVelocity(t)},i.getAngularVelocity=function(t){this._assertOnLoadCalled&&this._body.getAngularVelocity(t)},i.setAngularVelocity=function(t){this._assertOnLoadCalled&&this._body.setAngularVelocity(t)},i.getGroup=function(){return this._assertOnLoadCalled?this._body.getGroup():0},i.setGroup=function(t){this._assertOnLoadCalled&&(this.group=t)},i.addGroup=function(t){this._assertOnLoadCalled&&this._body.addGroup(t)},i.removeGroup=function(t){this._assertOnLoadCalled&&this._body.removeGroup(t)},i.getMask=function(){return this._assertOnLoadCalled?this._body.getMask():0},i.setMask=function(t){this._assertOnLoadCalled&&this._body.setMask(t)},i.addMask=function(t){this._assertOnLoadCalled&&this._body.addMask(t)},i.removeMask=function(t){this._assertOnLoadCalled&&this._body.removeMask(t)},s(e,[{key:"group",get:function(){return this._group},set:function(t){this._group!=t&&(this._group=t,this._body&&this._body.setGroup(t))}},{key:"type",get:function(){return this._type},set:function(t){this._type!=t&&(this._type=t,this._body&&this._body.setType(t))}},{key:"mass",get:function(){return this._mass},set:function(t){this._mass!=t&&(t=t<0?0:t,this._mass=t,this._body&&this._body.setMass(t))}},{key:"allowSleep",get:function(){return this._allowSleep},set:function(t){this._allowSleep=t,this._body&&this._body.setAllowSleep(t)}},{key:"linearDamping",get:function(){return this._linearDamping},set:function(t){this._linearDamping=t,this._body&&this._body.setLinearDamping(t)}},{key:"angularDamping",get:function(){return this._angularDamping},set:function(t){this._angularDamping=t,this._body&&this._body.setAngularDamping(t)}},{key:"useGravity",get:function(){return this._useGravity},set:function(t){this._useGravity=t,this._body&&this._body.useGravity(t)}},{key:"linearFactor",get:function(){return this._linearFactor},set:function(t){_.copy(this._linearFactor,t),this._body&&this._body.setLinearFactor(this._linearFactor)}},{key:"angularFactor",get:function(){return this._angularFactor},set:function(t){_.copy(this._angularFactor,t),this._body&&this._body.setAngularFactor(this._angularFactor)}},{key:"sleepThreshold",get:function(){return this._assertOnLoadCalled?this._body.getSleepThreshold():0},set:function(t){this._assertOnLoadCalled&&this._body.setSleepThreshold(t)}},{key:"isAwake",get:function(){return!!this._assertOnLoadCalled&&this._body.isAwake}},{key:"isSleepy",get:function(){return!!this._assertOnLoadCalled&&this._body.isSleepy}},{key:"isSleeping",get:function(){return!!this._assertOnLoadCalled&&this._body.isSleeping}},{key:"isStatic",get:function(){return this._type==W.STATIC},set:function(t){t&&this.isStatic||!t&&!this.isStatic||(this.type=t?W.STATIC:W.DYNAMIC)}},{key:"isDynamic",get:function(){return this._type==W.DYNAMIC},set:function(t){t&&this.isDynamic||!t&&!this.isDynamic||(this.type=t?W.DYNAMIC:W.KINEMATIC)}},{key:"isKinematic",get:function(){return this._type==W.KINEMATIC},set:function(t){t&&this.isKinematic||!t&&!this.isKinematic||(this.type=t?W.KINEMATIC:W.DYNAMIC)}},{key:"body",get:function(){return this._body}},{key:"_assertOnLoadCalled",get:function(){var t=0==this._isOnLoadCalled;return t&&O("[Physics]: Please make sure that the node has been added to the scene"),!t}}]),e}(k),ie.Type=W,c((Xt=ne).prototype,"group",[bt,mt,Ct],Object.getOwnPropertyDescriptor(Xt.prototype,"group"),Xt.prototype),c(Xt.prototype,"type",[St,vt,wt],Object.getOwnPropertyDescriptor(Xt.prototype,"type"),Xt.prototype),c(Xt.prototype,"mass",[Ot,kt,Tt],Object.getOwnPropertyDescriptor(Xt.prototype,"mass"),Xt.prototype),c(Xt.prototype,"allowSleep",[Pt,Dt,Et],Object.getOwnPropertyDescriptor(Xt.prototype,"allowSleep"),Xt.prototype),c(Xt.prototype,"linearDamping",[Mt,At,It],Object.getOwnPropertyDescriptor(Xt.prototype,"linearDamping"),Xt.prototype),c(Xt.prototype,"angularDamping",[Nt,Lt,xt],Object.getOwnPropertyDescriptor(Xt.prototype,"angularDamping"),Xt.prototype),c(Xt.prototype,"useGravity",[Bt,Ft,zt],Object.getOwnPropertyDescriptor(Xt.prototype,"useGravity"),Xt.prototype),c(Xt.prototype,"linearFactor",[jt,Rt,Ht],Object.getOwnPropertyDescriptor(Xt.prototype,"linearFactor"),Xt.prototype),c(Xt.prototype,"angularFactor",[Gt,Yt,qt],Object.getOwnPropertyDescriptor(Xt.prototype,"angularFactor"),Xt.prototype),Wt=c(Xt.prototype,"_group",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return re.PhysicsGroup.DEFAULT}}),Ut=c(Xt.prototype,"_type",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return W.DYNAMIC}}),Kt=c(Xt.prototype,"_mass",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Zt=c(Xt.prototype,"_allowSleep",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Jt=c(Xt.prototype,"_linearDamping",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),Qt=c(Xt.prototype,"_angularDamping",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),$t=c(Xt.prototype,"_useGravity",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),te=c(Xt.prototype,"_linearFactor",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new _(1,1,1)}}),ee=c(Xt.prototype,"_angularFactor",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new _(1,1,1)}}),Vt=Xt))||Vt)||Vt)||Vt)||Vt)||Vt)||Vt));Te||(Te=t("R",{}));var Pe,De,Ee,Me,Ae,Ie,Ne,Le,xe,Be=t("C",(oe=r("cc.Collider"),se=g(Te),ae=D(),le=S(),pe=g(ht),ce=D(),ue=S(),he=v(),ye=S(),_e=v(),de=g(_),fe=S(),ge=v(),be=g(ht),oe((ke=Oe=function(t){function r(e){var i;return(i=t.call(this)||this).TYPE=void 0,i._shape=null,i._aabb=null,i._boundingSphere=null,i._isSharedMaterial=!0,i._needTriggerEvent=!1,i._needCollisionEvent=!1,a(i,"_material",Se,l(i)),a(i,"_isTrigger",ve,l(i)),a(i,"_center",we,l(i)),i.TYPE=e,i}o(r,t),s(r,[{key:"attachedRigidBody",get:function(){return(t=this.node.getComponent(Te))&&t.isValid?t:null;var t}},{key:"sharedMaterial",get:function(){return this._material},set:function(t){this.material=t}},{key:"material",get:function(){return this._isSharedMaterial&&null!=this._material&&(this._material.off("physics_material_update",this._updateMaterial,this),this._material=this._material.clone(),this._material.on("physics_material_update",this._updateMaterial,this),this._isSharedMaterial=!1),this._material},set:function(t){this._shape&&(null!=t&&null!=this._material?this._material._uuid!=t._uuid&&(this._material.off("physics_material_update",this._updateMaterial,this),t.on("physics_material_update",this._updateMaterial,this),this._isSharedMaterial=!1,this._material=t):null!=t&&null==this._material?(t.on("physics_material_update",this._updateMaterial,this),this._material=t):null==t&&null!=this._material&&(this._material.off("physics_material_update",this._updateMaterial,this),this._material=t),this._updateMaterial())}},{key:"isTrigger",get:function(){return this._isTrigger},set:function(t){this._isTrigger=t,this._shape&&this._shape.setAsTrigger(this._isTrigger)}},{key:"center",get:function(){return this._center},set:function(t){_.copy(this._center,t),this._shape&&this._shape.setCenter(this._center)}},{key:"shape",get:function(){return this._shape}},{key:"worldBounds",get:function(){return null==this._aabb&&(this._aabb=new B),this._shape&&this._shape.getAABB(this._aabb),this._aabb}},{key:"boundingSphere",get:function(){return null==this._boundingSphere&&(this._boundingSphere=new F),this._shape&&this._shape.getBoundingSphere(this._boundingSphere),this._boundingSphere}},{key:"needTriggerEvent",get:function(){return this._needTriggerEvent}},{key:"needCollisionEvent",get:function(){return this._needCollisionEvent}},{key:"_assertOnLoadCalled",get:function(){var t=0==this._isOnLoadCalled;return t&&O("[Physics]: Please make sure that the node has been added to the scene"),!t}}]);var p=r.prototype;return p.on=function(e,i,n,r){var o=t.prototype.on.call(this,e,i,n,r);return this._updateNeedEvent(e),o},p.off=function(e,i,n){t.prototype.off.call(this,e,i,n),this._updateNeedEvent()},p.once=function(e,i,n){var r=t.prototype.once.call(this,e,i,n);return this._updateNeedEvent(e),r},p.removeAll=function(e){t.prototype.removeAll.call(this,e),this._updateNeedEvent()},p.getGroup=function(){return this._assertOnLoadCalled?this._shape.getGroup():0},p.setGroup=function(t){this._assertOnLoadCalled&&this._shape.setGroup(t)},p.addGroup=function(t){this._assertOnLoadCalled&&this._shape.addGroup(t)},p.removeGroup=function(t){this._assertOnLoadCalled&&this._shape.removeGroup(t)},p.getMask=function(){return this._assertOnLoadCalled?this._shape.getMask():0},p.setMask=function(t){this._assertOnLoadCalled&&this._shape.setMask(t)},p.addMask=function(t){this._assertOnLoadCalled&&this._shape.addMask(t)},p.removeMask=function(t){this._assertOnLoadCalled&&this._shape.removeMask(t)},p.onLoad=function(){this._shape=function(t){return function(){if(!$.INITED){$.INITED=!0;var t=e._global.CC_PHYSICS_BUILTIN,r=e._global.CC_PHYSICS_CANNON,o=e._global.CC_PHYSICS_AMMO;$[Y.BOX]=function(t){return new J.BoxShape(t)},$[Y.SPHERE]=function(t){return new J.SphereShape(t)},$[Y.CAPSULE]=function(e,n,r){return void 0===e&&(e=.5),void 0===n&&(n=2),void 0===r&&(r=1),t||o?new J.CapsuleShape(e,n,r):(i(9610),et)},$[Y.CYLINDER]=function(t,e,n){return void 0===t&&(t=.5),void 0===e&&(e=2),void 0===n&&(n=1),r||o?new J.CylinderShape(t,e,n):(i(9612),et)},$[Y.CONE]=function(t,e,n){return void 0===t&&(t=.5),void 0===e&&(e=1),void 0===n&&(n=1),r||o?new J.ConeShape(t,e,n):(i(9612),et)},$[Y.MESH]=function(){return r||o?new J.TrimeshShape:(i(9611),et)},$[Y.TERRAIN]=function(){return r||o?new J.TerrainShape:(n("[Physics]: builtin physics system doesn't support cylinder collider"),et)},$[Y.SIMPLEX]=function(){return r||o?new J.SimplexShape:(n("[Physics]: builtin physics system doesn't support simple collider"),et)},$[Y.PLANE]=function(){return r||o?new J.PlaneShape:(n("[Physics]: builtin physics system doesn't support plane collider"),et)}}}(),$[t]()}(this.TYPE),this._shape.initialize(this),this.sharedMaterial=null==this._material?re.instance.defaultMaterial:this._material,this._shape.onLoad()},p.onEnable=function(){this._shape&&this._shape.onEnable()},p.onDisable=function(){this._shape&&this._shape.onDisable()},p.onDestroy=function(){this._shape&&(this._material&&this._material.off("physics_material_update",this._updateMaterial,this),this._shape.onDestroy()),this._boundingSphere&&this._boundingSphere.destroy()},p._updateMaterial=function(){this._shape&&this._shape.setMaterial(this._material)},p._updateNeedEvent=function(t){this.isValid&&(void 0!==t?("onCollisionEnter"!=t&&"onCollisionStay"!=t&&"onCollisionExit"!=t||(this._needCollisionEvent=!0),"onTriggerEnter"!=t&&"onTriggerStay"!=t&&"onTriggerExit"!=t||(this._needTriggerEvent=!0)):(this.hasEventListener("onTriggerEnter")||this.hasEventListener("onTriggerStay")||this.hasEventListener("onTriggerExit")||(this._needTriggerEvent=!1),this.hasEventListener("onCollisionEnter")||this.hasEventListener("onCollisionStay")||this.hasEventListener("onCollisionExit")||(this._needCollisionEvent=!1)))},r}(T(k)),Oe.Type=Y,Oe.Axis=U,c((Ce=ke).prototype,"attachedRigidBody",[se,P,ae,le],Object.getOwnPropertyDescriptor(Ce.prototype,"attachedRigidBody"),Ce.prototype),c(Ce.prototype,"sharedMaterial",[pe,ce,ue,he],Object.getOwnPropertyDescriptor(Ce.prototype,"sharedMaterial"),Ce.prototype),c(Ce.prototype,"isTrigger",[ye,_e],Object.getOwnPropertyDescriptor(Ce.prototype,"isTrigger"),Ce.prototype),c(Ce.prototype,"center",[de,fe,ge],Object.getOwnPropertyDescriptor(Ce.prototype,"center"),Ce.prototype),Se=c(Ce.prototype,"_material",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=c(Ce.prototype,"_isTrigger",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),we=c(Ce.prototype,"_center",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new _}}),me=Ce))||me));Be||(Be=t("C",{}));var Fe,ze,je,Re,He,Ge,Ye,qe,Ve,Xe,We,Ue,Ke,Ze,Je,Qe,$e,ti,ei,ii,ni,ri,oi,si,ai,li,pi,ci,ui,hi,yi,_i,di,fi,gi,bi,mi,Ci,Si,vi,wi,Oi,ki,Ti,Pi,Di,Ei,Mi,Ai,Ii,Ni,Li,xi,Bi,Fi,zi,ji,Ri,Hi,Gi,Yi,qi,Vi,Xi,Wi,Ui,Ki,Zi,Ji,Qi,$i,tn,en,nn,rn,on,sn,an,ln,pn,cn,un,hn,yn,_n,dn,fn,gn,bn,mn,Cn,Sn,vn,wn,On,kn,Tn,Pn,Dn,En,Mn,An,In,Nn,Ln=t("B",(Pe=r("cc.BoxCollider"),De=m(),Ee=C(),Me=g(_),Ae=v(),Pe(Ie=De(Ie=Ee(Ie=b((xe=function(t){function e(){var e;return e=t.call(this,Y.BOX)||this,a(e,"_size",Le,l(e)),e}return o(e,t),s(e,[{key:"size",get:function(){return this._size},set:function(t){_.copy(this._size,t),this._shape&&this.shape.setSize(this._size)}},{key:"shape",get:function(){return this._shape}}]),e}(Be),c((Ne=xe).prototype,"size",[Me,Ae],Object.getOwnPropertyDescriptor(Ne.prototype,"size"),Ne.prototype),Le=c(Ne.prototype,"_size",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new _(1,1,1)}}),Ie=Ne))||Ie)||Ie)||Ie)||Ie)),xn=t("b",(Fe=r("cc.SphereCollider"),ze=m(),je=C(),Re=v(),Fe(He=ze(He=je(He=b((qe=function(t){function e(){var e;return e=t.call(this,Y.SPHERE)||this,a(e,"_radius",Ye,l(e)),e}return o(e,t),s(e,[{key:"radius",get:function(){return this._radius},set:function(t){this._radius=t,this.shape.setRadius(this._radius)}},{key:"shape",get:function(){return this._shape}}]),e}(Be),c((Ge=qe).prototype,"radius",[Re],Object.getOwnPropertyDescriptor(Ge.prototype,"radius"),Ge.prototype),Ye=c(Ge.prototype,"_radius",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),He=Ge))||He)||He)||He)||He)),Bn=t("c",(Ve=r("cc.CapsuleCollider"),Xe=m(),We=C(),Ue=v(),Ke=v(),Ze=g(U),Je=v(),Ve(Qe=Xe(Qe=We(Qe=b((ni=function(t){function e(){var e;return e=t.call(this,Y.CAPSULE)||this,a(e,"_radius",ti,l(e)),a(e,"_cylinderHeight",ei,l(e)),a(e,"_direction",ii,l(e)),e}o(e,t),s(e,[{key:"radius",get:function(){return this._radius},set:function(t){t<0&&(t=0),this._radius=t,this.shape.setRadius(t)}},{key:"cylinderHeight",get:function(){return this._cylinderHeight},set:function(t){t<0&&(t=0),this._cylinderHeight=t,this.shape.setCylinderHeight(t)}},{key:"direction",get:function(){return this._direction},set:function(t){(t=Math.floor(t))<U.X_AXIS||t>U.Z_AXIS||(this._direction=t,this.shape.setDirection(t))}},{key:"height",get:function(){return 2*this._radius+this._cylinderHeight},set:function(t){var e=t-2*this._radius;e<0&&(e=0),this.cylinderHeight=e}},{key:"worldHeight",get:function(){return 2*this._radius*this._getRadiusScale()+this._cylinderHeight*this._getHeightScale()}},{key:"shape",get:function(){return this._shape}}]);var i=e.prototype;return i._getRadiusScale=function(){if(null==this.node)return 1;var t=this.node.worldScale;return this._direction==U.Y_AXIS?Math.abs(E(t.x,t.z)):this._direction==U.X_AXIS?Math.abs(E(t.y,t.z)):Math.abs(E(t.x,t.y))},i._getHeightScale=function(){if(null==this.node)return 1;var t=this.node.worldScale;return this._direction==U.Y_AXIS?Math.abs(t.y):this._direction==U.X_AXIS?Math.abs(t.x):Math.abs(t.z)},e}(Be),c(($e=ni).prototype,"radius",[Ue],Object.getOwnPropertyDescriptor($e.prototype,"radius"),$e.prototype),c($e.prototype,"cylinderHeight",[Ke],Object.getOwnPropertyDescriptor($e.prototype,"cylinderHeight"),$e.prototype),c($e.prototype,"direction",[Ze,Je],Object.getOwnPropertyDescriptor($e.prototype,"direction"),$e.prototype),ti=c($e.prototype,"_radius",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),ei=c($e.prototype,"_cylinderHeight",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ii=c($e.prototype,"_direction",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return U.Y_AXIS}}),Qe=$e))||Qe)||Qe)||Qe)||Qe)),Fn=t("d",(ri=r("cc.CylinderCollider"),oi=m(),si=C(),ai=v(),li=v(),pi=g(U),ri(ci=oi(ci=si(ci=b((di=function(t){function e(){var e;return e=t.call(this,Y.CYLINDER)||this,a(e,"_radius",hi,l(e)),a(e,"_height",yi,l(e)),a(e,"_direction",_i,l(e)),e}return o(e,t),s(e,[{key:"radius",get:function(){return this._radius},set:function(t){this._radius!=t&&(t<0&&(t=0),this._radius=t,this.shape.setRadius(t))}},{key:"height",get:function(){return this._height},set:function(t){this._height!=t&&(t<0&&(t=0),this._height=t,this.shape.setHeight(t))}},{key:"direction",get:function(){return this._direction},set:function(t){this._direction!=t&&(t<U.X_AXIS||t>U.Z_AXIS||(this._direction=t,this.shape.setDirection(t)))}},{key:"shape",get:function(){return this._shape}}]),e}(Be),c((ui=di).prototype,"radius",[ai],Object.getOwnPropertyDescriptor(ui.prototype,"radius"),ui.prototype),c(ui.prototype,"height",[li],Object.getOwnPropertyDescriptor(ui.prototype,"height"),ui.prototype),c(ui.prototype,"direction",[pi],Object.getOwnPropertyDescriptor(ui.prototype,"direction"),ui.prototype),hi=c(ui.prototype,"_radius",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),yi=c(ui.prototype,"_height",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),_i=c(ui.prototype,"_direction",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return U.Y_AXIS}}),ci=ui))||ci)||ci)||ci)||ci)),zn=(t("e",(fi=r("cc.ConeCollider"),gi=m(),bi=C(),mi=v(),Ci=v(),Si=g(U),fi(vi=gi(vi=bi(vi=b((Pi=function(t){function e(){var e;return e=t.call(this,Y.CONE)||this,a(e,"_radius",Oi,l(e)),a(e,"_height",ki,l(e)),a(e,"_direction",Ti,l(e)),e}return o(e,t),s(e,[{key:"radius",get:function(){return this._radius},set:function(t){this._radius!=t&&(t<0&&(t=0),this._radius=t,this.shape.setRadius(t))}},{key:"height",get:function(){return this._height},set:function(t){this._height!=t&&(t<0&&(t=0),this._height=t,this.shape.setHeight(t))}},{key:"direction",get:function(){return this._direction},set:function(t){this._direction!=t&&(t<U.X_AXIS||t>U.Z_AXIS||(this._direction=t,this.shape.setDirection(t)))}},{key:"shape",get:function(){return this._shape}}]),e}(Be),c((wi=Pi).prototype,"radius",[mi],Object.getOwnPropertyDescriptor(wi.prototype,"radius"),wi.prototype),c(wi.prototype,"height",[Ci],Object.getOwnPropertyDescriptor(wi.prototype,"height"),wi.prototype),c(wi.prototype,"direction",[Si],Object.getOwnPropertyDescriptor(wi.prototype,"direction"),wi.prototype),Oi=c(wi.prototype,"_radius",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),ki=c(wi.prototype,"_height",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Ti=c(wi.prototype,"_direction",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return U.Y_AXIS}}),vi=wi))||vi)||vi)||vi)||vi)),t("M",(Di=r("cc.MeshCollider"),Ei=m(),Mi=C(),Ai=g(z),Di(Ii=Ei(Ii=Mi(Ii=b((Bi=function(t){function e(){var e;return e=t.call(this,Y.MESH)||this,a(e,"_mesh",Li,l(e)),a(e,"_convex",xi,l(e)),e}return o(e,t),s(e,[{key:"mesh",get:function(){return this._mesh},set:function(t){this._mesh=t,this.shape.setMesh(this._mesh)}},{key:"convex",get:function(){return this._convex},set:function(t){this._convex=t}},{key:"shape",get:function(){return this._shape}}]),e}(Be),c((Ni=Bi).prototype,"mesh",[Ai],Object.getOwnPropertyDescriptor(Ni.prototype,"mesh"),Ni.prototype),c(Ni.prototype,"convex",[u],Object.getOwnPropertyDescriptor(Ni.prototype,"convex"),Ni.prototype),Li=c(Ni.prototype,"_mesh",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xi=c(Ni.prototype,"_convex",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ii=Ni))||Ii)||Ii)||Ii)||Ii))),jn=t("j",(Fi=r("cc.ConstantForce"),zi=m(),ji=j(Te),Ri=C(),Hi=S(),Gi=v(),Yi=S(),qi=v(),Vi=S(),Xi=v(),Wi=S(),Ui=v(),Fi(Ki=zi(Ki=ji(Ki=Ri(Ki=L(Ki=b((en=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))||this)._rigidBody=null,a(e,"_force",Ji,l(e)),a(e,"_localForce",Qi,l(e)),a(e,"_torque",$i,l(e)),a(e,"_localTorque",tn,l(e)),e._mask=0,e}o(e,t);var i=e.prototype;return i.onLoad=function(){this._rigidBody=this.node.getComponent(Te),this._maskUpdate(this._force,1),this._maskUpdate(this._localForce,2),this._maskUpdate(this._torque,4),this._maskUpdate(this._localTorque,8)},i.lateUpdate=function(){null!=this._rigidBody&&0!=this._mask&&(1&this._mask&&this._rigidBody.applyForce(this._force),2&this._mask&&this._rigidBody.applyLocalForce(this.localForce),4&this._mask&&this._rigidBody.applyTorque(this._torque),8&this._mask&&this._rigidBody.applyLocalTorque(this._localTorque))},i._maskUpdate=function(t,e){t.strictEquals(_.ZERO)?this._mask&=~e:this._mask|=e},s(e,[{key:"force",get:function(){return this._force},set:function(t){_.copy(this._force,t),this._maskUpdate(this._force,1)}},{key:"localForce",get:function(){return this._localForce},set:function(t){_.copy(this._localForce,t),this._maskUpdate(this.localForce,2)}},{key:"torque",get:function(){return this._torque},set:function(t){_.copy(this._torque,t),this._maskUpdate(this._torque,4)}},{key:"localTorque",get:function(){return this._localTorque},set:function(t){_.copy(this._localTorque,t),this._maskUpdate(this._localTorque,8)}}]),e}(k),Ji=c((Zi=en).prototype,"_force",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new _}}),Qi=c(Zi.prototype,"_localForce",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new _}}),$i=c(Zi.prototype,"_torque",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new _}}),tn=c(Zi.prototype,"_localTorque",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new _}}),c(Zi.prototype,"force",[Hi,Gi],Object.getOwnPropertyDescriptor(Zi.prototype,"force"),Zi.prototype),c(Zi.prototype,"localForce",[Yi,qi],Object.getOwnPropertyDescriptor(Zi.prototype,"localForce"),Zi.prototype),c(Zi.prototype,"torque",[Vi,Xi],Object.getOwnPropertyDescriptor(Zi.prototype,"torque"),Zi.prototype),c(Zi.prototype,"localTorque",[Wi,Ui],Object.getOwnPropertyDescriptor(Zi.prototype,"localTorque"),Zi.prototype),Ki=Zi))||Ki)||Ki)||Ki)||Ki)||Ki)||Ki)),Rn=(t("T",(nn=r("cc.TerrainCollider"),rn=m(),on=C(),sn=g(Z),nn(an=rn(an=on(an=b((cn=function(t){function e(){var e;return e=t.call(this,Y.TERRAIN)||this,a(e,"_terrain",pn,l(e)),e}return o(e,t),s(e,[{key:"terrain",get:function(){return this._terrain},set:function(t){this._terrain=t,this.shape.setTerrain(this._terrain)}},{key:"shape",get:function(){return this._shape}}]),e}(Be),c((ln=cn).prototype,"terrain",[sn],Object.getOwnPropertyDescriptor(ln.prototype,"terrain"),ln.prototype),pn=c(ln.prototype,"_terrain",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),an=ln))||an)||an)||an)||an)),t("S",(un=r("cc.SimplexCollider"),hn=m(),yn=C(),_n=g(K),dn=w(),fn=w(),gn=w(),un(bn=hn(bn=yn(bn=b((wn=vn=function(t){function e(){var e;return e=t.call(this,Y.SIMPLEX)||this,a(e,"_shapeType",Cn,l(e)),a(e,"_vertices",Sn,l(e)),e}return o(e,t),s(e,[{key:"shapeType",get:function(){return this._shapeType},set:function(t){this._shapeType=t,this.shape.setShapeType(t)}},{key:"vertex0",get:function(){return this._vertices[0]},set:function(t){_.copy(this._vertices[0],t),this.updateVertices()}},{key:"vertex1",get:function(){return this._vertices[1]},set:function(t){_.copy(this._vertices[1],t),this.updateVertices()}},{key:"vertex2",get:function(){return this._vertices[2]},set:function(t){_.copy(this._vertices[2],t),this.updateVertices()}},{key:"vertex3",get:function(){return this._vertices[3]},set:function(t){_.copy(this._vertices[3],t),this.updateVertices()}},{key:"shape",get:function(){return this._shape}},{key:"vertices",get:function(){return this._vertices}}]),e.prototype.updateVertices=function(){this.shape.setVertices(this._vertices)},e}(Be),vn.ESimplexType=K,c((mn=wn).prototype,"shapeType",[_n],Object.getOwnPropertyDescriptor(mn.prototype,"shapeType"),mn.prototype),c(mn.prototype,"vertex0",[u],Object.getOwnPropertyDescriptor(mn.prototype,"vertex0"),mn.prototype),c(mn.prototype,"vertex1",[dn],Object.getOwnPropertyDescriptor(mn.prototype,"vertex1"),mn.prototype),c(mn.prototype,"vertex2",[fn],Object.getOwnPropertyDescriptor(mn.prototype,"vertex2"),mn.prototype),c(mn.prototype,"vertex3",[gn],Object.getOwnPropertyDescriptor(mn.prototype,"vertex3"),mn.prototype),Cn=c(mn.prototype,"_shapeType",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return K.TETRAHEDRON}}),Sn=c(mn.prototype,"_vertices",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[new _(0,0,0),new _(0,0,1),new _(1,0,0),new _(0,1,0)]}}),bn=mn))||bn)||bn)||bn)||bn)));Rn||(Rn=t("S",{})),t("f",(On=r("cc.PlaneCollider"),kn=m(),Tn=C(),Pn=g(_),Dn=v(),On(En=kn(En=Tn(En=b((Nn=function(t){function e(){var e;return e=t.call(this,Y.PLANE)||this,a(e,"_normal",An,l(e)),a(e,"_constant",In,l(e)),e}return o(e,t),s(e,[{key:"normal",get:function(){return this._normal},set:function(t){_.copy(this._normal,t),this.shape.setNormal(this._normal)}},{key:"constant",get:function(){return this._constant},set:function(t){this._constant=t,this.shape.setConstant(this._constant)}},{key:"shape",get:function(){return this._shape}}]),e}(Be),c((Mn=Nn).prototype,"normal",[Pn,Dn],Object.getOwnPropertyDescriptor(Mn.prototype,"normal"),Mn.prototype),c(Mn.prototype,"constant",[u],Object.getOwnPropertyDescriptor(Mn.prototype,"constant"),Mn.prototype),An=c(Mn.prototype,"_normal",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new _(0,1,0)}}),In=c(Mn.prototype,"_constant",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),En=Mn))||En)||En)||En)||En));var Hn,Gn,Yn,qn,Vn,Xn,Wn,Un,Kn,Zn,Jn,Qn,$n,tr,er,ir,nr,rr,or,sr,ar,lr,pr,cr,ur,hr,yr,_r,dr,fr,gr,br=t("g",(Hn=r("cc.Constraint"),Gn=j(Te),Yn=g(Te),qn=S(),Vn=g(Te),Xn=S(),Wn=S(),Un=g(Te),Hn(Kn=Gn((tr=$n=function(t){function i(e){var i;return(i=t.call(this)||this).TYPE=void 0,a(i,"_enableCollision",Jn,l(i)),a(i,"_connectedBody",Qn,l(i)),i._constraint=null,i.TYPE=e,i}o(i,t),s(i,[{key:"attachedBody",get:function(){return this.getComponent(Te)}},{key:"connectedBody",get:function(){return this._connectedBody},set:function(t){this._connectedBody=t,this._constraint&&this._constraint.setConnectedBody(t)}},{key:"enableCollision",get:function(){return this._enableCollision},set:function(t){this._enableCollision=t,this._constraint&&this._constraint.setEnableCollision(t)}}]);var r=i.prototype;return r.onLoad=function(){this._constraint=function(t){return function(){if(!ct.INITED){ct.INITED=!0,e._global.CC_PHYSICS_BUILTIN;var t=e._global.CC_PHYSICS_CANNON,i=e._global.CC_PHYSICS_AMMO;ct[q.POINT_TO_POINT]=function(){return t||i?new J.PointToPointConstraint:(n("[Physics]: builtin physics system doesn't support point to point constraint"),ut)},ct[q.HINGE]=function(){return t||i?new J.HingeConstraint:(n("[Physics]: builtin physics system doesn't support hinge constraint"),ut)},ct[q.CONE_TWIST]=function(){return t||i?new J.ConeTwistConstraint:(n("[Physics]: builtin physics system doesn't support cone twist constraint"),ut)}}}(),ct[t]()}(this.TYPE),this._constraint.initialize(this),this._constraint.onLoad()},r.onEnable=function(){this._constraint&&this._constraint.onEnable()},r.onDisable=function(){this._constraint&&this._constraint.onDisable()},r.onDestroy=function(){this._constraint&&this._constraint.onDestroy()},i}(T(k)),$n.EConstraintType=q,c((Zn=tr).prototype,"attachedBody",[Yn,P,qn],Object.getOwnPropertyDescriptor(Zn.prototype,"attachedBody"),Zn.prototype),c(Zn.prototype,"connectedBody",[Vn,Xn],Object.getOwnPropertyDescriptor(Zn.prototype,"connectedBody"),Zn.prototype),c(Zn.prototype,"enableCollision",[Wn],Object.getOwnPropertyDescriptor(Zn.prototype,"enableCollision"),Zn.prototype),Jn=c(Zn.prototype,"_enableCollision",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Qn=c(Zn.prototype,"_connectedBody",[Un],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Kn=Zn))||Kn)||Kn));br||(br=t("g",{})),t("H",r("cc.HingeConstraint")(er=m()(er=C()((ar=function(t){function e(){var e;return e=t.call(this,q.HINGE)||this,a(e,"axisA",nr,l(e)),a(e,"axisB",rr,l(e)),a(e,"pivotA",or,l(e)),a(e,"pivotB",sr,l(e)),e}return o(e,t),e}(br),nr=c((ir=ar).prototype,"axisA",[y,u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new _}}),rr=c(ir.prototype,"axisB",[y,u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new _}}),or=c(ir.prototype,"pivotA",[y,u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new _}}),sr=c(ir.prototype,"pivotB",[y,u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new _}}),er=ir))||er)||er)||er),t("h",(lr=r("cc.PointToPointConstraint"),pr=m(),cr=C(),ur=g(_),hr=g(_),lr(yr=pr(yr=cr((gr=function(t){function e(){var e;return e=t.call(this,q.POINT_TO_POINT)||this,a(e,"_pivotA",dr,l(e)),a(e,"_pivotB",fr,l(e)),e}return o(e,t),s(e,[{key:"pivotA",get:function(){return this._pivotA},set:function(t){_.copy(this._pivotA,t),this.constraint.setPivotA(this._pivotA)}},{key:"pivotB",get:function(){return this._pivotB},set:function(t){_.copy(this._pivotB,t),this.constraint.setPivotB(this._pivotB)}},{key:"constraint",get:function(){return this._constraint}}]),e}(br),c((_r=gr).prototype,"pivotA",[ur],Object.getOwnPropertyDescriptor(_r.prototype,"pivotA"),_r.prototype),c(_r.prototype,"pivotB",[hr],Object.getOwnPropertyDescriptor(_r.prototype,"pivotB"),_r.prototype),dr=c(_r.prototype,"_pivotA",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new _}}),fr=c(_r.prototype,"_pivotB",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new _}}),yr=_r))||yr)||yr)||yr)),M(re,"PhysicsSystem",[{name:"ins",newName:"instance"}]),M(re.prototype,"PhysicsSystem.prototype",[{name:"deltaTime",newName:"fixedTimeStep"},{name:"maxSubStep",newName:"maxSubSteps"}]),A(re.prototype,"PhysicsSystem.prototype",[{name:"useFixedTime"},{name:"useCollisionMatrix"},{name:"updateCollisionMatrix"},{name:"resetCollisionMatrix"},{name:"isCollisionGroup"},{name:"setCollisionGroup"}]),M(Be.prototype,"Collider.prototype",[{name:"attachedRigidbody",newName:"attachedRigidBody"}]),M(Be,"Collider",[{name:"EColliderType",newName:"Type"},{name:"EAxisDirection",newName:"Axis"}]),M(Ln.prototype,"BoxCollider.prototype",[{name:"boxShape",newName:"shape"}]),M(xn.prototype,"SphereCollider.prototype",[{name:"sphereShape",newName:"shape"}]),M(Bn.prototype,"CapsuleCollider.prototype",[{name:"capsuleShape",newName:"shape"}]),M(Te.prototype,"RigidBody.prototype",[{name:"rigidBody",newName:"body"}]),M(Te,"RigidBody",[{name:"ERigidBodyType",newName:"Type"}]),A(Te.prototype,"RigidBody.prototype",[{name:"fixedRotation"}]),e.RigidBodyComponent=Te,I.setClassAlias(Te,"cc.RigidBodyComponent"),e.ColliderComponent=Be,I.setClassAlias(Be,"cc.ColliderComponent"),e.BoxColliderComponent=Ln,I.setClassAlias(Ln,"cc.BoxColliderComponent"),e.SphereColliderComponent=xn,I.setClassAlias(xn,"cc.SphereColliderComponent"),I.setClassAlias(Bn,"cc.CapsuleColliderComponent"),I.setClassAlias(zn,"cc.MeshColliderComponent"),I.setClassAlias(Fn,"cc.CylinderColliderComponent"),e.PhysicMaterial=ht,I.setClassAlias(ht,"cc.PhysicMaterial"),e.PhysicsSystem=re,e.PhysicsMaterial=ht,e.PhysicsRayResult=yt,e.ConstantForce=jn}}}));
